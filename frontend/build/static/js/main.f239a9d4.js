/*! For license information please see main.f239a9d4.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,s)=>{var n=s(853),r=s(43),a=s(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),g=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var w=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function S(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function E(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case d:return"Portal";case h:return"Profiler";case m:return"StrictMode";case b:return"Suspense";case v:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case f:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return E(e(t))}catch(Gt){}}return null}var _,A,I=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=Object.assign;function P(e){if(void 0===_)try{throw Error()}catch(Gt){var t=Gt.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||"",A=-1<Gt.stack.indexOf("\n    at")?" (<anonymous>)":-1<Gt.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+_+e+A}var R=!1;function O(e,t){if(!e||R)return"";R=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(Gt){var n=Gt}Reflect.construct(e,[],s)}else{try{s.call()}catch(r){n=r}e.call(s.prototype)}}else{try{throw Error()}catch(a){n=a}(s=e())&&"function"===typeof s.catch&&s.catch((function(){}))}}catch(i){if(i&&n&&"string"===typeof i.stack)return[i.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),i=a[0],o=a[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(r=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(n===l.length||r===c.length)for(n=l.length-1,r=c.length-1;1<=n&&0<=r&&l[n]!==c[r];)r--;for(;1<=n&&0<=r;n--,r--)if(l[n]!==c[r]){if(1!==n||1!==r)do{if(n--,0>--r||l[n]!==c[r]){var d="\n"+l[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=r);break}}}finally{R=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?P(s):""}function M(e){switch(e.tag){case 26:case 27:case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return e=O(e.type,!1);case 11:return e=O(e.type.render,!1);case 1:return e=O(e.type,!0);default:return""}}function D(e){try{var t="";do{t+=M(e),e=e.return}while(e);return t}catch(Gt){return"\nError generating stack: "+Gt.message+"\n"+Gt.stack}}function L(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function z(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function F(e){if(L(e)!==e)throw Error(i(188))}function U(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=U(e)))return t;e=e.sibling}return null}var V=Array.isArray,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},H=[],G=-1;function K(e){return{current:e}}function W(e){0>G||(e.current=H[G],H[G]=null,G--)}function $(e,t){G++,H[G]=e.current,e.current=t}var J=K(null),Q=K(null),Y=K(null),X=K(null);function Z(e,t){switch($(Y,t),$(Q,e),$(J,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Yd(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xd(e=Yd(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(J),$(J,t)}function ee(){W(J),W(Q),W(Y)}function te(e){null!==e.memoizedState&&$(X,e);var t=J.current,s=Xd(t,e.type);t!==s&&($(Q,e),$(J,s))}function se(e){Q.current===e&&(W(J),W(Q)),X.current===e&&(W(X),Lu._currentValue=q)}var ne=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,ae=n.unstable_cancelCallback,ie=n.unstable_shouldYield,oe=n.unstable_requestPaint,le=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,me=n.unstable_NormalPriority,he=n.unstable_LowPriority,pe=n.unstable_IdlePriority,xe=n.log,ge=n.unstable_setDisableYieldValue,fe=null,be=null;function ve(e){if("function"===typeof xe&&ge(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(fe,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(je(e)/Ne|0)|0},je=Math.log,Ne=Math.LN2;var we=128,ke=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t){var s=e.pendingLanes;if(0===s)return 0;var n=0,r=e.suspendedLanes,a=e.pingedLanes,i=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&s;return 0!==o?0!==(s=o&~r)?n=Se(s):0!==(a&=o)?n=Se(a):e||0!==(i=o&~i)&&(n=Se(i)):0!==(o=s&~r)?n=Se(o):0!==a?n=Se(a):e||0!==(i=s&~i)&&(n=Se(i)),0===n?0:0!==t&&t!==n&&0===(t&r)&&((r=n&-n)>=(i=t&-t)||32===r&&0!==(4194176&i))?t:n}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=we;return 0===(4194176&(we<<=1))&&(we=128),e}function Ie(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Te(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ye(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194218&s}function Oe(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-ye(s),r=1<<n;r&t|e[n]&t&&(e[n]|=t),s&=~r}}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:Xu(e.type)}var Le=Math.random().toString(36).slice(2),ze="__reactFiber$"+Le,Fe="__reactProps$"+Le,Ue="__reactContainer$"+Le,Ve="__reactEvents$"+Le,Be="__reactListeners$"+Le,qe="__reactHandles$"+Le,He="__reactResources$"+Le,Ge="__reactMarker$"+Le;function Ke(e){delete e[ze],delete e[Fe],delete e[Ve],delete e[Be],delete e[qe]}function We(e){var t=e[ze];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ue]||s[ze]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=cu(e);null!==e;){if(s=e[ze])return s;e=cu(e)}return t}s=(e=s).parentNode}return null}function $e(e){if(e=e[ze]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Qe(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[Ge]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var st=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rt={},at={};function it(e,t,s){if(r=t,ne.call(at,r)||!ne.call(rt,r)&&(nt.test(r)?at[r]=!0:(rt[r]=!0,0)))if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+s)}var r}function ot(e,t,s){if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+s)}}function lt(e,t,s,n){if(null===n)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(s)}e.setAttributeNS(t,s,""+n)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var r=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=dt(e)?e.checked?"true":"false":e.value),(e=n)!==s&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function xt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,s,n,r,a,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?bt(e,i,ct(t)):null!=s?bt(e,i,ct(s)):null!=n&&e.removeAttribute("value"),null==r&&null!=a&&(e.defaultChecked=!!a),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function ft(e,t,s,n,r,a,i,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=s){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;s=null!=s?""+ct(s):"",t=null!=t?""+ct(t):s,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:r)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function bt(e,t,s){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function vt(e,t,s,n){if(e=e.options,t){t={};for(var r=0;r<s.length;r++)t["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=t.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&n&&(e[s].defaultSelected=!0)}else{for(s=""+ct(s),t=null,r=0;r<e.length;r++){if(e[r].value===s)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function yt(e,t,s){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=s)?e.defaultValue=null!=s?""+ct(s):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,s,n){if(null==t){if(null!=n){if(null!=s)throw Error(i(92));if(V(n)){if(1<n.length)throw Error(i(93));n=n[0]}s=n}null==s&&(s=""),t=s}s=ct(t),e.defaultValue=s,(n=e.textContent)===s&&""!==n&&null!==n&&(e.value=n)}function Nt(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,s){var n=0===t.indexOf("--");null==s||"boolean"===typeof s||""===s?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,s):"number"!==typeof s||0===s||wt.has(t)?"float"===t?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function St(e,t,s){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=s){for(var n in s)!s.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&s[r]!==n&&kt(e,r,n)}else for(var a in t)t.hasOwnProperty(a)&&kt(e,a,t[a])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Rt=null;function Ot(e){var t=$e(e);if(t&&(e=t.stateNode)){var s=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var r=n[Fe]||null;if(!r)throw Error(i(90));gt(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<s.length;t++)(n=s[t]).form===e.form&&mt(n)}break e;case"textarea":yt(e,s.value,s.defaultValue);break e;case"select":null!=(t=s.value)&&vt(e,!!s.multiple,t,!1)}}}var Mt=!1;function Dt(e,t,s){if(Mt)return e(t,s);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Pt||null!==Rt)&&(Fc(),Pt&&(t=Pt,e=Rt,Rt=Pt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Lt(e,t){var s=e.stateNode;if(null===s)return null;var n=s[Fe]||null;if(null===n)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(i(231,t,typeof s));return s}var zt=!1;if(st)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(Nm){zt=!1}var Ut=null,Vt=null,Bt=null;function qt(){if(Bt)return Bt;var e,t,s=Vt,n=s.length,r="value"in Ut?Ut.value:Ut.textContent,a=r.length;for(e=0;e<n&&s[e]===r[e];e++);var i=n-e;for(t=1;t<=i&&s[n-t]===r[a-t];t++);return Bt=r.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function $t(e){function t(t,s,n,r,a){for(var i in this._reactName=t,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Jt,Qt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=$t(Xt),es=T({},Xt,{view:0,detail:0}),ts=$t(es),ss=T({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Jt=e.screenX-Yt.screenX,Qt=e.screenY-Yt.screenY):Qt=Jt=0,Yt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),ns=$t(ss),rs=$t(T({},ss,{dataTransfer:0})),as=$t(T({},es,{relatedTarget:0})),is=$t(T({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),os=$t(T({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ls=$t(T({},Xt,{data:0})),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},us={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ms(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=us[e])&&!!t[e]}function hs(){return ms}var ps=$t(T({},es,{key:function(e){if(e.key){var t=cs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ds[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xs=$t(T({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gs=$t(T({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs})),fs=$t(T({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bs=$t(T({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vs=$t(T({},Xt,{newState:0,oldState:0})),ys=[9,13,27,32],js=st&&"CompositionEvent"in window,Ns=null;st&&"documentMode"in document&&(Ns=document.documentMode);var ws=st&&"TextEvent"in window&&!Ns,ks=st&&(!js||Ns&&8<Ns&&11>=Ns),Ss=String.fromCharCode(32),Cs=!1;function Es(e,t){switch(e){case"keyup":return-1!==ys.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _s(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var As=!1;var Is={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ts(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Is[e.type]:"textarea"===t}function Ps(e,t,s,n){Pt?Rt?Rt.push(n):Rt=[n]:Pt=n,0<(t=Ld(t,"onChange")).length&&(s=new Zt("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Rs=null,Os=null;function Ms(e){Ad(e,0)}function Ds(e){if(mt(Je(e)))return e}function Ls(e,t){if("change"===e)return t}var zs=!1;if(st){var Fs;if(st){var Us="oninput"in document;if(!Us){var Vs=document.createElement("div");Vs.setAttribute("oninput","return;"),Us="function"===typeof Vs.oninput}Fs=Us}else Fs=!1;zs=Fs&&(!document.documentMode||9<document.documentMode)}function Bs(){Rs&&(Rs.detachEvent("onpropertychange",qs),Os=Rs=null)}function qs(e){if("value"===e.propertyName&&Ds(Os)){var t=[];Ps(t,Os,e,Tt(e)),Dt(Ms,t)}}function Hs(e,t,s){"focusin"===e?(Bs(),Os=s,(Rs=t).attachEvent("onpropertychange",qs)):"focusout"===e&&Bs()}function Gs(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ds(Os)}function Ks(e,t){if("click"===e)return Ds(t)}function Ws(e,t){if("input"===e||"change"===e)return Ds(t)}var $s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Js(e,t){if($s(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!ne.call(t,r)||!$s(e[r],t[r]))return!1}return!0}function Qs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ys(e,t){var s,n=Qs(e);for(e=0;n;){if(3===n.nodeType){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qs(n)}}function Xs(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xs(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zs(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(n){s=!1}if(!s)break;t=ht((e=t.contentWindow).document)}return t}function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tn(e,t){var s=Zs(t);t=e.focusedElem;var n=e.selectionRange;if(s!==t&&t&&t.ownerDocument&&Xs(t.ownerDocument.documentElement,t)){if(null!==n&&en(t))if(e=n.start,void 0===(s=n.end)&&(s=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(s,t.value.length);else if((s=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){s=s.getSelection();var r=t.textContent.length,a=Math.min(n.start,r);n=void 0===n.end?a:Math.min(n.end,r),!s.extend&&a>n&&(r=n,n=a,a=r),r=Ys(t,a);var i=Ys(t,n);r&&i&&(1!==s.rangeCount||s.anchorNode!==r.node||s.anchorOffset!==r.offset||s.focusNode!==i.node||s.focusOffset!==i.offset)&&((e=e.createRange()).setStart(r.node,r.offset),s.removeAllRanges(),a>n?(s.addRange(e),s.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),s.addRange(e)))}for(e=[],s=t;s=s.parentNode;)1===s.nodeType&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(s=e[t]).element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sn=st&&"documentMode"in document&&11>=document.documentMode,nn=null,rn=null,an=null,on=!1;function ln(e,t,s){var n=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;on||null==nn||nn!==ht(n)||("selectionStart"in(n=nn)&&en(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},an&&Js(an,n)||(an=n,0<(n=Ld(rn,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=nn)))}function cn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var dn={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},un={},mn={};function hn(e){if(un[e])return un[e];if(!dn[e])return e;var t,s=dn[e];for(t in s)if(s.hasOwnProperty(t)&&t in mn)return un[e]=s[t];return e}st&&(mn=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);var pn=hn("animationend"),xn=hn("animationiteration"),gn=hn("animationstart"),fn=hn("transitionrun"),bn=hn("transitionstart"),vn=hn("transitioncancel"),yn=hn("transitionend"),jn=new Map,Nn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function wn(e,t){jn.set(e,t),et(t,[e])}var kn=[],Sn=0,Cn=0;function En(){for(var e=Sn,t=Cn=Sn=0;t<e;){var s=kn[t];kn[t++]=null;var n=kn[t];kn[t++]=null;var r=kn[t];kn[t++]=null;var a=kn[t];if(kn[t++]=null,null!==n&&null!==r){var i=n.pending;null===i?r.next=r:(r.next=i.next,i.next=r),n.pending=r}0!==a&&Tn(s,r,a)}}function _n(e,t,s,n){kn[Sn++]=e,kn[Sn++]=t,kn[Sn++]=s,kn[Sn++]=n,Cn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function An(e,t,s,n){return _n(e,t,s,n),Pn(e)}function In(e,t){return _n(e,null,null,t),Pn(e)}function Tn(e,t,s){e.lanes|=s;var n=e.alternate;null!==n&&(n.lanes|=s);for(var r=!1,a=e.return;null!==a;)a.childLanes|=s,null!==(n=a.alternate)&&(n.childLanes|=s),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;r&&null!==t&&3===e.tag&&(a=e.stateNode,r=31-ye(s),null===(e=(a=a.hiddenUpdates)[r])?a[r]=[t]:e.push(t),t.lane=536870912|s)}function Pn(e){if(50<Ac)throw Ac=0,Ic=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rn={},On=new WeakMap;function Mn(e,t){if("object"===typeof e&&null!==e){var s=On.get(e);return void 0!==s?s:(t={value:e,source:t,stack:D(t)},On.set(e,t),t)}return{value:e,source:t,stack:D(t)}}var Dn=[],Ln=0,zn=null,Fn=0,Un=[],Vn=0,Bn=null,qn=1,Hn="";function Gn(e,t){Dn[Ln++]=Fn,Dn[Ln++]=zn,zn=e,Fn=t}function Kn(e,t,s){Un[Vn++]=qn,Un[Vn++]=Hn,Un[Vn++]=Bn,Bn=e;var n=qn;e=Hn;var r=32-ye(n)-1;n&=~(1<<r),s+=1;var a=32-ye(t)+r;if(30<a){var i=r-r%5;a=(n&(1<<i)-1).toString(32),n>>=i,r-=i,qn=1<<32-ye(t)+r|s<<r|n,Hn=a+e}else qn=1<<a|s<<r|n,Hn=e}function Wn(e){null!==e.return&&(Gn(e,1),Kn(e,1,0))}function $n(e){for(;e===zn;)zn=Dn[--Ln],Dn[Ln]=null,Fn=Dn[--Ln],Dn[Ln]=null;for(;e===Bn;)Bn=Un[--Vn],Un[Vn]=null,Hn=Un[--Vn],Un[Vn]=null,qn=Un[--Vn],Un[Vn]=null}var Jn=null,Qn=null,Yn=!1,Xn=null,Zn=!1,er=Error(i(519));function tr(e){throw ir(Mn(Error(i(418,"")),e)),er}function sr(e){var t=e.stateNode,s=e.type,n=e.memoizedProps;switch(t[ze]=e,t[Fe]=n,s){case"dialog":Id("cancel",t),Id("close",t);break;case"iframe":case"object":case"embed":Id("load",t);break;case"video":case"audio":for(s=0;s<Ed.length;s++)Id(Ed[s],t);break;case"source":Id("error",t);break;case"img":case"image":case"link":Id("error",t),Id("load",t);break;case"details":Id("toggle",t);break;case"input":Id("invalid",t),ft(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),ut(t);break;case"select":Id("invalid",t);break;case"textarea":Id("invalid",t),jt(t,n.value,n.defaultValue,n.children),ut(t)}"string"!==typeof(s=n.children)&&"number"!==typeof s&&"bigint"!==typeof s||t.textContent===""+s||!0===n.suppressHydrationWarning||qd(t.textContent,s)?(null!=n.popover&&(Id("beforetoggle",t),Id("toggle",t)),null!=n.onScroll&&Id("scroll",t),null!=n.onScrollEnd&&Id("scrollend",t),null!=n.onClick&&(t.onclick=Hd),t=!0):t=!1,t||tr(e)}function nr(e){for(Jn=e.return;Jn;)switch(Jn.tag){case 3:case 27:return void(Zn=!0);case 5:case 13:return void(Zn=!1);default:Jn=Jn.return}}function rr(e){if(e!==Jn)return!1;if(!Yn)return nr(e),Yn=!0,!1;var t,s=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zd(e.type,e.memoizedProps)),t=!t),t&&(s=!0),s&&Qn&&tr(e),nr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,s=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===s){Qn=lu(e.nextSibling);break e}s--}else"$"!==t&&"$!"!==t&&"$?"!==t||s++;e=e.nextSibling}Qn=null}}else Qn=Jn?lu(e.stateNode.nextSibling):null;return!0}function ar(){Qn=Jn=null,Yn=!1}function ir(e){null===Xn?Xn=[e]:Xn.push(e)}var or=Error(i(460)),lr=Error(i(474)),cr={then:function(){}};function dr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ur(){}function mr(e,t,s){switch(void 0===(s=e[s])?e.push(t):s!==t&&(t.then(ur,ur),t=s),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===or)throw Error(i(483));throw e;default:if("string"===typeof t.status)t.then(ur,ur);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var s=t;s.status="fulfilled",s.value=e}}),(function(e){if("pending"===t.status){var s=t;s.status="rejected",s.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===or)throw Error(i(483));throw e}throw hr=t,or}}var hr=null;function pr(){if(null===hr)throw Error(i(459));var e=hr;return hr=null,e}var xr=null,gr=0;function fr(e){var t=gr;return gr+=1,null===xr&&(xr=[]),mr(xr,e,t)}function br(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function vr(e,t){if(t.$$typeof===l)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yr(e){return(0,e._init)(e._payload)}function jr(e){function t(t,s){if(e){var n=t.deletions;null===n?(t.deletions=[s],t.flags|=16):n.push(s)}}function s(s,n){if(!e)return null;for(;null!==n;)t(s,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=zl(e,t)).index=0,e.sibling=null,e}function a(t,s,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<s?(t.flags|=33554434,s):n:(t.flags|=33554434,s):(t.flags|=1048576,s)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,s,n){return null===t||6!==t.tag?((t=ql(s,e.mode,n)).return=e,t):((t=r(t,s)).return=e,t)}function m(e,t,s,n){var a=s.type;return a===u?p(e,t,s.props.children,n,s.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===j&&yr(a)===t.type)?(br(t=r(t,s.props),s),t.return=e,t):(br(t=Ul(s.type,s.key,s.props,null,e.mode,n),s),t.return=e,t)}function h(e,t,s,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Hl(s,e.mode,n)).return=e,t):((t=r(t,s.children||[])).return=e,t)}function p(e,t,s,n,a){return null===t||7!==t.tag?((t=Vl(s,e.mode,n,a)).return=e,t):((t=r(t,s)).return=e,t)}function x(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=ql(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return br(s=Ul(t.type,t.key,t.props,null,e.mode,s),t),s.return=e,s;case d:return(t=Hl(t,e.mode,s)).return=e,t;case j:return x(e,t=(0,t._init)(t._payload),s)}if(V(t)||S(t))return(t=Vl(t,e.mode,s,null)).return=e,t;if("function"===typeof t.then)return x(e,fr(t),s);if(t.$$typeof===g)return x(e,Eo(e,t),s);vr(e,t)}return null}function f(e,t,s,n){var r=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return null!==r?null:l(e,t,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case c:return s.key===r?m(e,t,s,n):null;case d:return s.key===r?h(e,t,s,n):null;case j:return f(e,t,s=(r=s._init)(s._payload),n)}if(V(s)||S(s))return null!==r?null:p(e,t,s,n,null);if("function"===typeof s.then)return f(e,t,fr(s),n);if(s.$$typeof===g)return f(e,t,Eo(e,s),n);vr(e,s)}return null}function b(e,t,s,n,r){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(s)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return m(t,e=e.get(null===n.key?s:n.key)||null,n,r);case d:return h(t,e=e.get(null===n.key?s:n.key)||null,n,r);case j:return b(e,t,s,n=(0,n._init)(n._payload),r)}if(V(n)||S(n))return p(t,e=e.get(s)||null,n,r,null);if("function"===typeof n.then)return b(e,t,s,fr(n),r);if(n.$$typeof===g)return b(e,t,s,Eo(t,n),r);vr(t,n)}return null}function v(l,m,h,p){if("object"===typeof h&&null!==h&&h.type===u&&null===h.key&&(h=h.props.children),"object"===typeof h&&null!==h){switch(h.$$typeof){case c:e:{for(var y=h.key;null!==m;){if(m.key===y){if((y=h.type)===u){if(7===m.tag){s(l,m.sibling),(p=r(m,h.props.children)).return=l,l=p;break e}}else if(m.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===j&&yr(y)===m.type){s(l,m.sibling),br(p=r(m,h.props),h),p.return=l,l=p;break e}s(l,m);break}t(l,m),m=m.sibling}h.type===u?((p=Vl(h.props.children,l.mode,p,h.key)).return=l,l=p):(br(p=Ul(h.type,h.key,h.props,null,l.mode,p),h),p.return=l,l=p)}return o(l);case d:e:{for(y=h.key;null!==m;){if(m.key===y){if(4===m.tag&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){s(l,m.sibling),(p=r(m,h.children||[])).return=l,l=p;break e}s(l,m);break}t(l,m),m=m.sibling}(p=Hl(h,l.mode,p)).return=l,l=p}return o(l);case j:return v(l,m,h=(y=h._init)(h._payload),p)}if(V(h))return function(r,i,o,l){for(var c=null,d=null,u=i,m=i=0,h=null;null!==u&&m<o.length;m++){u.index>m?(h=u,u=null):h=u.sibling;var p=f(r,u,o[m],l);if(null===p){null===u&&(u=h);break}e&&u&&null===p.alternate&&t(r,u),i=a(p,i,m),null===d?c=p:d.sibling=p,d=p,u=h}if(m===o.length)return s(r,u),Yn&&Gn(r,m),c;if(null===u){for(;m<o.length;m++)null!==(u=x(r,o[m],l))&&(i=a(u,i,m),null===d?c=u:d.sibling=u,d=u);return Yn&&Gn(r,m),c}for(u=n(u);m<o.length;m++)null!==(h=b(u,r,m,o[m],l))&&(e&&null!==h.alternate&&u.delete(null===h.key?m:h.key),i=a(h,i,m),null===d?c=h:d.sibling=h,d=h);return e&&u.forEach((function(e){return t(r,e)})),Yn&&Gn(r,m),c}(l,m,h,p);if(S(h)){if("function"!==typeof(y=S(h)))throw Error(i(150));return function(r,o,l,c){if(null==l)throw Error(i(151));for(var d=null,u=null,m=o,h=o=0,p=null,g=l.next();null!==m&&!g.done;h++,g=l.next()){m.index>h?(p=m,m=null):p=m.sibling;var v=f(r,m,g.value,c);if(null===v){null===m&&(m=p);break}e&&m&&null===v.alternate&&t(r,m),o=a(v,o,h),null===u?d=v:u.sibling=v,u=v,m=p}if(g.done)return s(r,m),Yn&&Gn(r,h),d;if(null===m){for(;!g.done;h++,g=l.next())null!==(g=x(r,g.value,c))&&(o=a(g,o,h),null===u?d=g:u.sibling=g,u=g);return Yn&&Gn(r,h),d}for(m=n(m);!g.done;h++,g=l.next())null!==(g=b(m,r,h,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?h:g.key),o=a(g,o,h),null===u?d=g:u.sibling=g,u=g);return e&&m.forEach((function(e){return t(r,e)})),Yn&&Gn(r,h),d}(l,m,h=y.call(h),p)}if("function"===typeof h.then)return v(l,m,fr(h),p);if(h.$$typeof===g)return v(l,m,Eo(l,h),p);vr(l,h)}return"string"===typeof h&&""!==h||"number"===typeof h||"bigint"===typeof h?(h=""+h,null!==m&&6===m.tag?(s(l,m.sibling),(p=r(m,h)).return=l,l=p):(s(l,m),(p=ql(h,l.mode,p)).return=l,l=p),o(l)):s(l,m)}return function(e,t,s,n){try{gr=0;var r=v(e,t,s,n);return xr=null,r}catch(Gt){if(Gt===or)throw Gt;var a=Dl(29,Gt,null,e.mode);return a.lanes=n,a.return=e,a}}}var Nr=jr(!0),wr=jr(!1),kr=K(null),Sr=K(0);function Cr(e,t){$(Sr,e=dc),$(kr,t),dc=e|t.baseLanes}function Er(){$(Sr,dc),$(kr,kr.current)}function _r(){dc=Sr.current,W(kr),W(Sr)}var Ar=K(null),Ir=null;function Tr(e){var t=e.alternate;$(Mr,1&Mr.current),$(Ar,e),null===Ir&&(null===t||null!==kr.current||null!==t.memoizedState)&&(Ir=e)}function Pr(e){if(22===e.tag){if($(Mr,Mr.current),$(Ar,e),null===Ir){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ir=e)}}else Rr()}function Rr(){$(Mr,Mr.current),$(Ar,Ar.current)}function Or(e){W(Ar),Ir===e&&(Ir=null),W(Mr)}var Mr=K(0);function Dr(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},zr=n.unstable_scheduleCallback,Fr=n.unstable_NormalPriority,Ur={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vr(){return{controller:new Lr,data:new Map,refCount:0}}function Br(e){e.refCount--,0===e.refCount&&zr(Fr,(function(){e.controller.abort()}))}var qr=null,Hr=0,Gr=0,Kr=null;function Wr(){if(0===--Hr&&null!==qr){null!==Kr&&(Kr.status="fulfilled");var e=qr;qr=null,Gr=0,Kr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $r=I.S;I.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qr){var s=qr=[];Hr=0,Gr=Nd(),Kr={status:"pending",value:void 0,then:function(e){s.push(e)}}}Hr++,t.then(Wr,Wr)}(0,t),null!==$r&&$r(e,t)};var Jr=K(null);function Qr(){var e=Jr.current;return null!==e?e:sc.pooledCache}function Yr(e,t){$(Jr,null===t?Jr.current:t.pool)}function Xr(){var e=Qr();return null===e?null:{parent:Ur._currentValue,pool:e}}var Zr=0,ea=null,ta=null,sa=null,na=!1,ra=!1,aa=!1,ia=0,oa=0,la=null,ca=0;function da(){throw Error(i(321))}function ua(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!$s(e[s],t[s]))return!1;return!0}function ma(e,t,s,n,r,a){return Zr=a,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?Ci:Ei,aa=!1,a=s(n,r),aa=!1,ra&&(a=pa(t,s,n,r)),ha(e),a}function ha(e){I.H=Si;var t=null!==ta&&null!==ta.next;if(Zr=0,sa=ta=ea=null,na=!1,oa=0,la=null,t)throw Error(i(300));null===e||Hi||null!==(e=e.dependencies)&&ko(e)&&(Hi=!0)}function pa(e,t,s,n){ea=e;var r=0;do{if(ra&&(la=null),oa=0,ra=!1,25<=r)throw Error(i(301));if(r+=1,sa=ta=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}I.H=_i,a=t(s,n)}while(ra);return a}function xa(){var e=I.H,t=e.useState()[0];return t="function"===typeof t.then?ja(t):t,e=e.useState()[0],(null!==ta?ta.memoizedState:null)!==e&&(ea.flags|=1024),t}function ga(){var e=0!==ia;return ia=0,e}function fa(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function ba(e){if(na){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}na=!1}Zr=0,sa=ta=ea=null,ra=!1,oa=ia=0,la=null}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sa?ea.memoizedState=sa=e:sa=sa.next=e,sa}function ya(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===sa?ea.memoizedState:sa.next;if(null!==t)sa=t,ta=e;else{if(null===e){if(null===ea.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===sa?ea.memoizedState=sa=e:sa=sa.next=e}return sa}function ja(e){var t=oa;return oa+=1,null===la&&(la=[]),e=mr(la,e,t),t=ea,null===(null===sa?t.memoizedState:sa.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?Ci:Ei),e}function Na(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ja(e);if(e.$$typeof===g)return Co(e)}throw Error(i(438,String(e)))}function wa(e){var t=null,s=ea.updateQueue;if(null!==s&&(t=s.memoCache),null==t){var n=ea.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===s&&(s={lastEffect:null,events:null,stores:null,memoCache:null},ea.updateQueue=s),s.memoCache=t,void 0===(s=t.data[t.index]))for(s=t.data[t.index]=Array(e),n=0;n<e;n++)s[n]=w;return t.index++,s}function ka(e,t){return"function"===typeof t?t(e):t}function Sa(e){return Ca(ya(),ta,e)}function Ca(e,t,s){var n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=s;var r=e.baseQueue,a=n.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}t.baseQueue=r=a,n.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var l=o=null,c=null,d=t=r.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(rc&m)===m:(Zr&m)===m){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Gr&&(u=!0);else{if((Zr&h)===h){d=d.next,h===Gr&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=m,o=a):c=c.next=m,ea.lanes|=h,mc|=h}m=d.action,aa&&s(a,m),a=d.hasEagerState?d.eagerState:s(a,m)}else h={lane:m,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,ea.lanes|=m,mc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?o=a:c.next=l,!$s(a,e.memoizedState)&&(Hi=!0,u&&null!==(s=Kr)))throw s;e.memoizedState=a,e.baseState=o,e.baseQueue=c,n.lastRenderedState=a}return null===r&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ea(e){var t=ya(),s=t.queue;if(null===s)throw Error(i(311));s.lastRenderedReducer=e;var n=s.dispatch,r=s.pending,a=t.memoizedState;if(null!==r){s.pending=null;var o=r=r.next;do{a=e(a,o.action),o=o.next}while(o!==r);$s(a,t.memoizedState)||(Hi=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function _a(e,t,s){var n=ea,r=ya(),a=Yn;if(a){if(void 0===s)throw Error(i(407));s=s()}else s=t();var o=!$s((ta||r).memoizedState,s);if(o&&(r.memoizedState=s,Hi=!0),r=r.queue,Za(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==sa&&1&sa.memoizedState.tag){if(n.flags|=2048,$a(9,Ia.bind(null,n,r,s,t),{destroy:void 0},null),null===sc)throw Error(i(349));a||0!==(60&Zr)||Aa(n,t,s)}return s}function Aa(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=ea.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ea.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Ia(e,t,s,n){t.value=s,t.getSnapshot=n,Pa(t)&&Ra(e)}function Ta(e,t,s){return s((function(){Pa(t)&&Ra(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!$s(e,s)}catch(n){return!0}}function Ra(e){var t=In(e,2);null!==t&&Rc(t,e,2)}function Oa(e){var t=va();if("function"===typeof e){var s=e;if(e=s(),aa){ve(!0);try{s()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t}function Ma(e,t,s,n){return e.baseState=s,Ca(e,ta,"function"===typeof n?n:ka)}function Da(e,t,s,n,r){if(Ni(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==I.T?s(!0):a.isTransition=!1,n(a),null===(s=t.pending)?(a.next=t.pending=a,La(t,a)):(a.next=s.next,t.pending=s.next=a)}}function La(e,t){var s=t.action,n=t.payload,r=e.state;if(t.isTransition){var a=I.T,i={};I.T=i;try{var o=s(r,n),l=I.S;null!==l&&l(i,o),za(e,t,o)}catch(c){Ua(e,t,c)}finally{I.T=a}}else try{za(e,t,a=s(r,n))}catch(d){Ua(e,t,d)}}function za(e,t,s){null!==s&&"object"===typeof s&&"function"===typeof s.then?s.then((function(s){Fa(e,t,s)}),(function(s){return Ua(e,t,s)})):Fa(e,t,s)}function Fa(e,t,s){t.status="fulfilled",t.value=s,Va(t),e.state=s,null!==(t=e.pending)&&((s=t.next)===t?e.pending=null:(s=s.next,t.next=s,La(e,s)))}function Ua(e,t,s){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=s,Va(t),t=t.next}while(t!==n)}e.action=null}function Va(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ba(e,t){return t}function qa(e,t){if(Yn){var s=sc.formState;if(null!==s){e:{var n=ea;if(Yn){if(Qn){t:{for(var r=Qn,a=Zn;8!==r.nodeType;){if(!a){r=null;break t}if(null===(r=lu(r.nextSibling))){r=null;break t}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){Qn=lu(r.nextSibling),n="F!"===r.data;break e}}tr(n)}n=!1}n&&(t=s[0])}}return(s=va()).memoizedState=s.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},s.queue=n,s=vi.bind(null,ea,n),n.dispatch=s,n=Oa(!1),a=ji.bind(null,ea,!1,n.queue),r={state:t,dispatch:null,action:e,pending:null},(n=va()).queue=r,s=Da.bind(null,ea,r,a,s),r.dispatch=s,n.memoizedState=e,[t,s,!1]}function Ha(e){return Ga(ya(),ta,e)}function Ga(e,t,s){t=Ca(e,t,Ba)[0],e=Sa(ka)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?ja(t):t;var n=ya(),r=n.queue,a=r.dispatch;return s!==n.memoizedState&&(ea.flags|=2048,$a(9,Ka.bind(null,r,s),{destroy:void 0},null)),[t,a,e]}function Ka(e,t){e.action=t}function Wa(e){var t=ya(),s=ta;if(null!==s)return Ga(t,s,e);ya(),t=t.memoizedState;var n=(s=ya()).queue.dispatch;return s.memoizedState=e,[t,n,!1]}function $a(e,t,s,n){return e={tag:e,create:t,inst:s,deps:n,next:null},null===(t=ea.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ea.updateQueue=t),null===(s=t.lastEffect)?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function Ja(){return ya().memoizedState}function Qa(e,t,s,n){var r=va();ea.flags|=e,r.memoizedState=$a(1|t,s,{destroy:void 0},void 0===n?null:n)}function Ya(e,t,s,n){var r=ya();n=void 0===n?null:n;var a=r.memoizedState.inst;null!==ta&&null!==n&&ua(n,ta.memoizedState.deps)?r.memoizedState=$a(t,s,a,n):(ea.flags|=e,r.memoizedState=$a(1|t,s,a,n))}function Xa(e,t){Qa(8390656,8,e,t)}function Za(e,t){Ya(2048,8,e,t)}function ei(e,t){return Ya(4,2,e,t)}function ti(e,t){return Ya(4,4,e,t)}function si(e,t){if("function"===typeof t){e=e();var s=t(e);return function(){"function"===typeof s?s():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ni(e,t,s){s=null!==s&&void 0!==s?s.concat([e]):null,Ya(4,4,si.bind(null,t,e),s)}function ri(){}function ai(e,t){var s=ya();t=void 0===t?null:t;var n=s.memoizedState;return null!==t&&ua(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function ii(e,t){var s=ya();t=void 0===t?null:t;var n=s.memoizedState;if(null!==t&&ua(t,n[1]))return n[0];if(n=e(),aa){ve(!0);try{e()}finally{ve(!1)}}return s.memoizedState=[n,t],n}function oi(e,t,s){return void 0===s||0!==(1073741824&Zr)?e.memoizedState=t:(e.memoizedState=s,e=Pc(),ea.lanes|=e,mc|=e,s)}function li(e,t,s,n){return $s(s,t)?s:null!==kr.current?(e=oi(e,s,n),$s(e,t)||(Hi=!0),e):0===(42&Zr)?(Hi=!0,e.memoizedState=s):(e=Pc(),ea.lanes|=e,mc|=e,t)}function ci(e,t,s,n,r){var a=B.p;B.p=0!==a&&8>a?a:8;var i=I.T,o={};I.T=o,ji(e,!1,t,s);try{var l=r(),c=I.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)yi(e,t,function(e,t){var s=[],n={status:"pending",value:null,reason:null,then:function(e){s.push(e)}};return e.then((function(){n.status="fulfilled",n.value=t;for(var e=0;e<s.length;e++)(0,s[e])(t)}),(function(e){for(n.status="rejected",n.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)})),n}(l,n),Tc());else yi(e,t,n,Tc())}catch(d){yi(e,t,{then:function(){},status:"rejected",reason:d},Tc())}finally{B.p=a,I.T=i}}function di(){}function ui(e,t,s,n){if(5!==e.tag)throw Error(i(476));var r=mi(e).queue;ci(e,r,t,q,null===s?di:function(){return hi(e),s(n)})}function mi(e){var t=e.memoizedState;if(null!==t)return t;var s={};return(t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:q},next:null}).next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:s},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function hi(e){yi(e,mi(e).next.queue,{},Tc())}function pi(){return Co(Lu)}function xi(){return ya().memoizedState}function gi(){return ya().memoizedState}function fi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var s=Tc(),n=Ro(t,e=Po(s),s);return null!==n&&(Rc(n,t,s),Oo(n,t,s)),t={cache:Vr()},void(e.payload=t)}t=t.return}}function bi(e,t,s){var n=Tc();s={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ni(e)?wi(t,s):null!==(s=An(e,t,s,n))&&(Rc(s,e,n),ki(s,t,n))}function vi(e,t,s){yi(e,t,s,Tc())}function yi(e,t,s,n){var r={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ni(e))wi(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,s);if(r.hasEagerState=!0,r.eagerState=o,$s(o,i))return _n(e,t,r,0),null===sc&&En(),!1}catch(l){}if(null!==(s=An(e,t,r,n)))return Rc(s,e,n),ki(s,t,n),!0}return!1}function ji(e,t,s,n){if(n={lane:2,revertLane:Nd(),action:n,hasEagerState:!1,eagerState:null,next:null},Ni(e)){if(t)throw Error(i(479))}else null!==(t=An(e,s,n,2))&&Rc(t,e,2)}function Ni(e){var t=e.alternate;return e===ea||null!==t&&t===ea}function wi(e,t){ra=na=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ki(e,t,s){if(0!==(4194176&s)){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,Oe(e,s)}}var Si={readContext:Co,use:Na,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useLayoutEffect:da,useInsertionEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useSyncExternalStore:da,useId:da};Si.useCacheRefresh=da,Si.useMemoCache=da,Si.useHostTransitionStatus=da,Si.useFormState=da,Si.useActionState=da,Si.useOptimistic=da;var Ci={readContext:Co,use:Na,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:Xa,useImperativeHandle:function(e,t,s){s=null!==s&&void 0!==s?s.concat([e]):null,Qa(4194308,4,si.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Qa(4194308,4,e,t)},useInsertionEffect:function(e,t){Qa(4,2,e,t)},useMemo:function(e,t){var s=va();t=void 0===t?null:t;var n=e();if(aa){ve(!0);try{e()}finally{ve(!1)}}return s.memoizedState=[n,t],n},useReducer:function(e,t,s){var n=va();if(void 0!==s){var r=s(t);if(aa){ve(!0);try{s(t)}finally{ve(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=bi.bind(null,ea,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:function(e){var t=(e=Oa(e)).queue,s=vi.bind(null,ea,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:ri,useDeferredValue:function(e,t){return oi(va(),e,t)},useTransition:function(){var e=Oa(!1);return e=ci.bind(null,ea,e.queue,!0,!1),va().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var n=ea,r=va();if(Yn){if(void 0===s)throw Error(i(407));s=s()}else{if(s=t(),null===sc)throw Error(i(349));0!==(60&rc)||Aa(n,t,s)}r.memoizedState=s;var a={value:s,getSnapshot:t};return r.queue=a,Xa(Ta.bind(null,n,a,e),[e]),n.flags|=2048,$a(9,Ia.bind(null,n,a,s,t),{destroy:void 0},null),s},useId:function(){var e=va(),t=sc.identifierPrefix;if(Yn){var s=Hn;t=":"+t+"R"+(s=(qn&~(1<<32-ye(qn)-1)).toString(32)+s),0<(s=ia++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=ca++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return va().memoizedState=fi.bind(null,ea)}};Ci.useMemoCache=wa,Ci.useHostTransitionStatus=pi,Ci.useFormState=qa,Ci.useActionState=qa,Ci.useOptimistic=function(e){var t=va();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=ji.bind(null,ea,!0,s),s.dispatch=t,[e,t]};var Ei={readContext:Co,use:Na,useCallback:ai,useContext:Co,useEffect:Za,useImperativeHandle:ni,useInsertionEffect:ei,useLayoutEffect:ti,useMemo:ii,useReducer:Sa,useRef:Ja,useState:function(){return Sa(ka)},useDebugValue:ri,useDeferredValue:function(e,t){return li(ya(),ta.memoizedState,e,t)},useTransition:function(){var e=Sa(ka)[0],t=ya().memoizedState;return["boolean"===typeof e?e:ja(e),t]},useSyncExternalStore:_a,useId:xi};Ei.useCacheRefresh=gi,Ei.useMemoCache=wa,Ei.useHostTransitionStatus=pi,Ei.useFormState=Ha,Ei.useActionState=Ha,Ei.useOptimistic=function(e,t){return Ma(ya(),0,e,t)};var _i={readContext:Co,use:Na,useCallback:ai,useContext:Co,useEffect:Za,useImperativeHandle:ni,useInsertionEffect:ei,useLayoutEffect:ti,useMemo:ii,useReducer:Ea,useRef:Ja,useState:function(){return Ea(ka)},useDebugValue:ri,useDeferredValue:function(e,t){var s=ya();return null===ta?oi(s,e,t):li(s,ta.memoizedState,e,t)},useTransition:function(){var e=Ea(ka)[0],t=ya().memoizedState;return["boolean"===typeof e?e:ja(e),t]},useSyncExternalStore:_a,useId:xi};function Ai(e,t,s,n){s=null===(s=s(n,t=e.memoizedState))||void 0===s?t:T({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}_i.useCacheRefresh=gi,_i.useMemoCache=wa,_i.useHostTransitionStatus=pi,_i.useFormState=Wa,_i.useActionState=Wa,_i.useOptimistic=function(e,t){var s=ya();return null!==ta?Ma(s,0,e,t):(s.baseState=e,[e,s.queue.dispatch])};var Ii={isMounted:function(e){return!!(e=e._reactInternals)&&L(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Tc(),r=Po(n);r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Ro(e,r,n))&&(Rc(t,e,n),Oo(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Tc(),r=Po(n);r.tag=1,r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Ro(e,r,n))&&(Rc(t,e,n),Oo(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Tc(),n=Po(s);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Ro(e,n,s))&&(Rc(t,e,s),Oo(t,e,s))}};function Ti(e,t,s,n,r,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Js(s,n)||!Js(r,a))}function Pi(e,t,s,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Ii.enqueueReplaceState(t,t.state,null)}function Ri(e,t){var s=t;if("ref"in t)for(var n in s={},t)"ref"!==n&&(s[n]=t[n]);if(e=e.defaultProps)for(var r in s===t&&(s=T({},s)),e)void 0===s[r]&&(s[r]=e[r]);return s}var Oi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Mi(e){Oi(e)}function Di(e){console.error(e)}function Li(e){Oi(e)}function zi(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(s){setTimeout((function(){throw s}))}}function Fi(e,t,s){try{(0,e.onCaughtError)(s.value,{componentStack:s.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout((function(){throw n}))}}function Ui(e,t,s){return(s=Po(s)).tag=3,s.payload={element:null},s.callback=function(){zi(e,t)},s}function Vi(e){return(e=Po(e)).tag=3,e}function Bi(e,t,s,n){var r=s.type.getDerivedStateFromError;if("function"===typeof r){var a=n.value;e.payload=function(){return r(a)},e.callback=function(){Fi(t,s,n)}}var i=s.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Fi(t,s,n),"function"!==typeof r&&(null===wc?wc=new Set([this]):wc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var qi=Error(i(461)),Hi=!1;function Gi(e,t,s,n){t.child=null===e?wr(t,null,s,n):Nr(t,e.child,s,n)}function Ki(e,t,s,n,r){s=s.render;var a=t.ref;if("ref"in n){var i={};for(var o in n)"ref"!==o&&(i[o]=n[o])}else i=n;return So(t),n=ma(e,t,s,i,a,r),o=ga(),null===e||Hi?(Yn&&o&&Wn(t),t.flags|=1,Gi(e,t,n,r),t.child):(fa(e,t,r),ho(e,t,r))}function Wi(e,t,s,n,r){if(null===e){var a=s.type;return"function"!==typeof a||Ll(a)||void 0!==a.defaultProps||null!==s.compare?((e=Ul(s.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,$i(e,t,a,n,r))}if(a=e.child,!po(e,r)){var i=a.memoizedProps;if((s=null!==(s=s.compare)?s:Js)(i,n)&&e.ref===t.ref)return ho(e,t,r)}return t.flags|=1,(e=zl(a,n)).ref=t.ref,e.return=t,t.child=e}function $i(e,t,s,n,r){if(null!==e){var a=e.memoizedProps;if(Js(a,n)&&e.ref===t.ref){if(Hi=!1,t.pendingProps=n=a,!po(e,r))return t.lanes=e.lanes,ho(e,t,r);0!==(131072&e.flags)&&(Hi=!0)}}return Xi(e,t,s,n,r)}function Ji(e,t,s){var n=t.pendingProps,r=n.children,a=0!==(2&t.stateNode._pendingVisibility),i=null!==e?e.memoizedState:null;if(Yi(e,t),"hidden"===n.mode||a){if(0!==(128&t.flags)){if(n=null!==i?i.baseLanes|s:s,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~n}else t.childLanes=0,t.child=null;return Qi(e,t,n,s)}if(0===(536870912&s))return t.lanes=t.childLanes=536870912,Qi(e,t,null!==i?i.baseLanes|s:s,s);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yr(0,null!==i?i.cachePool:null),null!==i?Cr(t,i):Er(),Pr(t)}else null!==i?(Yr(0,i.cachePool),Cr(t,i),Rr(),t.memoizedState=null):(null!==e&&Yr(0,null),Er(),Rr());return Gi(e,t,r,s),t.child}function Qi(e,t,s,n){var r=Qr();return r=null===r?null:{parent:Ur._currentValue,pool:r},t.memoizedState={baseLanes:s,cachePool:r},null!==e&&Yr(0,null),Er(),Pr(t),null!==e&&wo(e,t,n,!0),null}function Yi(e,t){var s=t.ref;if(null===s)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof s&&"object"!==typeof s)throw Error(i(284));null!==e&&e.ref===s||(t.flags|=2097664)}}function Xi(e,t,s,n,r){return So(t),s=ma(e,t,s,n,void 0,r),n=ga(),null===e||Hi?(Yn&&n&&Wn(t),t.flags|=1,Gi(e,t,s,r),t.child):(fa(e,t,r),ho(e,t,r))}function Zi(e,t,s,n,r,a){return So(t),t.updateQueue=null,s=pa(t,n,s,r),ha(e),n=ga(),null===e||Hi?(Yn&&n&&Wn(t),t.flags|=1,Gi(e,t,s,a),t.child):(fa(e,t,a),ho(e,t,a))}function eo(e,t,s,n,r){if(So(t),null===t.stateNode){var a=Rn,i=s.contextType;"object"===typeof i&&null!==i&&(a=Co(i)),a=new s(n,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Ii,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=n,a.state=t.memoizedState,a.refs={},Io(t),i=s.contextType,a.context="object"===typeof i&&null!==i?Co(i):Rn,a.state=t.memoizedState,"function"===typeof(i=s.getDerivedStateFromProps)&&(Ai(t,s,i,n),a.state=t.memoizedState),"function"===typeof s.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&Ii.enqueueReplaceState(a,a.state,null),zo(t,n,a,r),Lo(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=Ri(s,o);a.props=l;var c=a.context,d=s.contextType;i=Rn,"object"===typeof d&&null!==d&&(i=Co(d));var u=s.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==i)&&Pi(t,a,n,i),Ao=!1;var m=t.memoizedState;a.state=m,zo(t,n,a,r),Lo(),c=t.memoizedState,o||m!==c||Ao?("function"===typeof u&&(Ai(t,s,u,n),c=t.memoizedState),(l=Ao||Ti(t,s,l,n,m,c,i))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=i,n=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,To(e,t),d=Ri(s,i=t.memoizedProps),a.props=d,u=t.pendingProps,m=a.context,c=s.contextType,l=Rn,"object"===typeof c&&null!==c&&(l=Co(c)),(c="function"===typeof(o=s.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==u||m!==l)&&Pi(t,a,n,l),Ao=!1,m=t.memoizedState,a.state=m,zo(t,n,a,r),Lo();var h=t.memoizedState;i!==u||m!==h||Ao||null!==e&&null!==e.dependencies&&ko(e.dependencies)?("function"===typeof o&&(Ai(t,s,o,n),h=t.memoizedState),(d=Ao||Ti(t,s,d,n,m,h,l)||null!==e&&null!==e.dependencies&&ko(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=l,n=d):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return a=n,Yi(e,t),n=0!==(128&t.flags),a||n?(a=t.stateNode,s=n&&"function"!==typeof s.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&n?(t.child=Nr(t,e.child,null,r),t.child=Nr(t,null,s,r)):Gi(e,t,s,r),t.memoizedState=a.state,e=t.child):e=ho(e,t,r),e}function to(e,t,s,n){return ar(),t.flags|=256,Gi(e,t,s,n),t.child}var so={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:Xr()}}function ro(e,t,s){return e=null!==e?e.childLanes&~s:0,t&&(e|=xc),e}function ao(e,t,s){var n,r=t.pendingProps,a=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Mr.current)),n&&(a=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(Yn){if(a?Tr(t):Rr(),Yn){var l,c=Qn;if(l=c){e:{for(l=c,c=Zn;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=lu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Bn?{id:qn,overflow:Hn}:null,retryLane:536870912},(l=Dl(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Jn=t,Qn=null,l=!0):l=!1}l||tr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Or(t)}return c=r.children,r=r.fallback,a?(Rr(),c=oo({mode:"hidden",children:c},a=t.mode),r=Vl(r,a,s,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(a=t.child).memoizedState=no(s),a.childLanes=ro(e,n,s),t.memoizedState=so,r):(Tr(t),io(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Tr(t),t.flags&=-257,t=lo(e,t,s)):null!==t.memoizedState?(Rr(),t.child=e.child,t.flags|=128,t=null):(Rr(),a=r.fallback,c=t.mode,r=oo({mode:"visible",children:r.children},c),(a=Vl(a,c,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,Nr(t,e.child,null,s),(r=t.child).memoizedState=no(s),r.childLanes=ro(e,n,s),t.memoizedState=so,t=a);else if(Tr(t),"$!"===c.data){if(n=c.nextSibling&&c.nextSibling.dataset)var d=n.dgst;n=d,(r=Error(i(419))).stack="",r.digest=n,ir({value:r,source:null,stack:null}),t=lo(e,t,s)}else if(Hi||wo(e,t,s,!1),n=0!==(s&e.childLanes),Hi||n){if(null!==(n=sc)){if(0!==(42&(r=s&-s)))r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(0!==(r=0!==(r&(n.suspendedLanes|s))?0:r)&&r!==l.retryLane)throw l.retryLane=r,In(e,r),Rc(n,e,r),qi}"$?"===c.data||Gc(),t=lo(e,t,s)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=ld.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Qn=lu(c.nextSibling),Jn=t,Yn=!0,Xn=null,Zn=!1,null!==e&&(Un[Vn++]=qn,Un[Vn++]=Hn,Un[Vn++]=Bn,qn=e.id,Hn=e.overflow,Bn=t),(t=io(t,r.children)).flags|=4096);return t}return a?(Rr(),a=r.fallback,c=t.mode,d=(l=e.child).sibling,(r=zl(l,{mode:"hidden",children:r.children})).subtreeFlags=31457280&l.subtreeFlags,null!==d?a=zl(d,a):(a=Vl(a,c,s,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,null===(c=e.child.memoizedState)?c=no(s):(null!==(l=c.cachePool)?(d=Ur._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Xr(),c={baseLanes:c.baseLanes|s,cachePool:l}),a.memoizedState=c,a.childLanes=ro(e,n,s),t.memoizedState=so,r):(Tr(t),e=(s=e.child).sibling,(s=zl(s,{mode:"visible",children:r.children})).return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s)}function io(e,t){return(t=oo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function oo(e,t){return Bl(e,t,0,null)}function lo(e,t,s){return Nr(t,e.child,null,s),(e=io(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function co(e,t,s){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),jo(e.return,t,s)}function uo(e,t,s,n,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=r)}function mo(e,t,s){var n=t.pendingProps,r=n.revealOrder,a=n.tail;if(Gi(e,t,n.children,s),0!==(2&(n=Mr.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&co(e,s,t);else if(19===e.tag)co(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch($(Mr,n),r){case"forwards":for(s=t.child,r=null;null!==s;)null!==(e=s.alternate)&&null===Dr(e)&&(r=s),s=s.sibling;null===(s=r)?(r=t.child,t.child=null):(r=s.sibling,s.sibling=null),uo(t,!1,r,s,a);break;case"backwards":for(s=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Dr(e)){t.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}uo(t,!0,s,null,a);break;case"together":uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(s&t.childLanes)){if(null===e)return null;if(wo(e,t,s,!1),0===(s&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(s=zl(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=zl(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function po(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ko(e))}function xo(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps)Hi=!0;else{if(!po(e,s)&&0===(128&t.flags))return Hi=!1,function(e,t,s){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),vo(t,Ur,e.memoizedState.cache),ar();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:vo(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Tr(t),t.flags|=128,null):0!==(s&t.child.childLanes)?ao(e,t,s):(Tr(t),null!==(e=ho(e,t,s))?e.sibling:null);Tr(t);break;case 19:var r=0!==(128&e.flags);if((n=0!==(s&t.childLanes))||(wo(e,t,s,!1),n=0!==(s&t.childLanes)),r){if(n)return mo(e,t,s);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),$(Mr,Mr.current),n)break;return null;case 22:case 23:return t.lanes=0,Ji(e,t,s);case 24:vo(t,Ur,e.memoizedState.cache)}return ho(e,t,s)}(e,t,s);Hi=0!==(131072&e.flags)}else Hi=!1,Yn&&0!==(1048576&t.flags)&&Kn(t,Fn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,r=n._init;if(n=r(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((r=n.$$typeof)===f){t.tag=11,t=Ki(null,t,n,e,s);break e}if(r===y){t.tag=14,t=Wi(null,t,n,e,s);break e}}throw t=E(n)||n,Error(i(306,t,""))}Ll(n)?(e=Ri(n,e),t.tag=1,t=eo(null,t,n,e,s)):(t.tag=0,t=Xi(null,t,n,e,s))}return t;case 0:return Xi(e,t,t.type,t.pendingProps,s);case 1:return eo(e,t,n=t.type,r=Ri(n,t.pendingProps),s);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(i(387));var a=t.pendingProps;n=(r=t.memoizedState).element,To(e,t),zo(t,a,null,s);var o=t.memoizedState;if(a=o.cache,vo(t,Ur,a),a!==r.cache&&No(t,[Ur],s,!0),Lo(),a=o.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=to(e,t,a,s);break e}if(a!==n){ir(n=Mn(Error(i(424)),t)),t=to(e,t,a,s);break e}for(Qn=lu(t.stateNode.containerInfo.firstChild),Jn=t,Yn=!0,Xn=null,Zn=!0,s=wr(t,null,a,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(ar(),a===n){t=ho(e,t,s);break e}Gi(e,t,a,s)}t=t.child}return t;case 26:return Yi(e,t),null===e?(s=fu(t.type,null,t.pendingProps,null))?t.memoizedState=s:Yn||(s=t.type,e=t.pendingProps,(n=Qd(Y.current).createElement(s))[ze]=t,n[Fe]=e,Wd(n,s,e),Ye(n),t.stateNode=n):t.memoizedState=fu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yn&&(n=t.stateNode=du(t.type,t.pendingProps,Y.current),Jn=t,Zn=!0,Qn=lu(n.firstChild)),n=t.pendingProps.children,null!==e||Yn?Gi(e,t,n,s):t.child=Nr(t,null,n,s),Yi(e,t),t.child;case 5:return null===e&&Yn&&((r=n=Qn)&&(null!==(n=function(e,t,s,n){for(;1===e.nodeType;){var r=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(null==r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===a)return e}if(null===(e=lu(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,Zn))?(t.stateNode=n,Jn=t,Qn=lu(n.firstChild),Zn=!1,r=!0):r=!1),r||tr(t)),te(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,n=a.children,Zd(r,a)?n=null:null!==o&&Zd(r,o)&&(t.flags|=32),null!==t.memoizedState&&(r=ma(e,t,xa,null,null,s),Lu._currentValue=r),Yi(e,t),Gi(e,t,n,s),t.child;case 6:return null===e&&Yn&&((e=s=Qn)&&(null!==(s=function(e,t,s){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!s)return null;if(null===(e=lu(e.nextSibling)))return null}return e}(s,t.pendingProps,Zn))?(t.stateNode=s,Jn=t,Qn=null,e=!0):e=!1),e||tr(t)),null;case 13:return ao(e,t,s);case 4:return Z(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Nr(t,null,n,s):Gi(e,t,n,s),t.child;case 11:return Ki(e,t,t.type,t.pendingProps,s);case 7:return Gi(e,t,t.pendingProps,s),t.child;case 8:case 12:return Gi(e,t,t.pendingProps.children,s),t.child;case 10:return n=t.pendingProps,vo(t,t.type,n.value),Gi(e,t,n.children,s),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,So(t),n=n(r=Co(r)),t.flags|=1,Gi(e,t,n,s),t.child;case 14:return Wi(e,t,t.type,t.pendingProps,s);case 15:return $i(e,t,t.type,t.pendingProps,s);case 19:return mo(e,t,s);case 22:return Ji(e,t,s);case 24:return So(t),n=Co(Ur),null===e?(null===(r=Qr())&&(r=sc,a=Vr(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=s),r=a),t.memoizedState={parent:n,cache:r},Io(t),vo(t,Ur,r)):(0!==(e.lanes&s)&&(To(e,t),zo(t,null,null,s),Lo()),r=e.memoizedState,a=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),vo(t,Ur,n)):(n=a.cache,vo(t,Ur,n),n!==r.cache&&No(t,[Ur],s,!0))),Gi(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}var go=K(null),fo=null,bo=null;function vo(e,t,s){$(go,t._currentValue),t._currentValue=s}function yo(e){e._currentValue=go.current,W(go)}function jo(e,t,s){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function No(e,t,s,n){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var o=r.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=s,null!==(l=a.alternate)&&(l.lanes|=s),jo(a.return,s,e),n||(o=null);break e}a=l.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(i(341));o.lanes|=s,null!==(a=o.alternate)&&(a.lanes|=s),jo(o,s,e),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function wo(e,t,s,n){e=null;for(var r=t,a=!1;null!==r;){if(!a)if(0!==(524288&r.flags))a=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=r.type;$s(r.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(r===X.current){if(null===(o=r.alternate))throw Error(i(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Lu):e=[Lu])}r=r.return}null!==e&&No(t,e,s,n),t.flags|=262144}function ko(e){for(e=e.firstContext;null!==e;){if(!$s(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function So(e){fo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Co(e){return _o(fo,e)}function Eo(e,t){return null===fo&&So(e),_o(e,t)}function _o(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},null===bo){if(null===e)throw Error(i(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return s}var Ao=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function To(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Po(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,s){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&tc)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=Pn(e),Tn(e,null,s),t}return _n(e,n,t,s),Pn(e)}function Oo(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&s))){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,Oe(e,s)}}function Mo(e,t){var s=e.updateQueue,n=e.alternate;if(null!==n&&s===(n=n.updateQueue)){var r=null,a=null;if(null!==(s=s.firstBaseUpdate)){do{var i={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};null===a?r=a=i:a=a.next=i,s=s.next}while(null!==s);null===a?r=a=t:a=a.next=t}else r=a=t;return s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Do=!1;function Lo(){if(Do){if(null!==Kr)throw Kr}}function zo(e,t,s,n){Do=!1;var r=e.updateQueue;Ao=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=r.baseState;for(i=0,d=c=l=null,o=a;;){var m=-536870913&o.lane,h=m!==o.lane;if(h?(rc&m)===m:(n&m)===m){0!==m&&m===Gr&&(Do=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,x=o;m=t;var g=s;switch(x.tag){case 1:if("function"===typeof(p=x.payload)){u=p.call(g,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=x.payload)?p.call(g,u,m):p)||void 0===m)break e;u=T({},u,m);break e;case 2:Ao=!0}}null!==(m=o.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=m;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===a&&(r.shared.lanes=0),mc|=i,e.lanes=i,e.memoizedState=u}}function Fo(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Uo(e,t){var s=e.callbacks;if(null!==s)for(e.callbacks=null,e=0;e<s.length;e++)Fo(s[e],t)}function Vo(e,t){try{var s=t.updateQueue,n=null!==s?s.lastEffect:null;if(null!==n){var r=n.next;s=r;do{if((s.tag&e)===e){n=void 0;var a=s.create,i=s.inst;n=a(),i.destroy=n}s=s.next}while(s!==r)}}catch(o){rd(t,t.return,o)}}function Bo(e,t,s){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){var i=n.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,r=t;var l=s;try{o()}catch(c){rd(r,l,c)}}}n=n.next}while(n!==a)}}catch(c){rd(t,t.return,c)}}function qo(e){var t=e.updateQueue;if(null!==t){var s=e.stateNode;try{Uo(t,s)}catch(n){rd(e,e.return,n)}}}function Ho(e,t,s){s.props=Ri(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(n){rd(e,t,n)}}function Go(e,t){try{var s=e.ref;if(null!==s){var n=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=n;break;default:r=n}"function"===typeof s?e.refCleanup=s(r):s.current=r}}catch(a){rd(e,t,a)}}function Ko(e,t){var s=e.ref,n=e.refCleanup;if(null!==s)if("function"===typeof n)try{n()}catch(r){rd(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof s)try{s(null)}catch(a){rd(e,t,a)}else s.current=null}function Wo(e){var t=e.type,s=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(r){rd(e,e.return,r)}}function $o(e,t,s){try{var n=e.stateNode;!function(e,t,s,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,o=null,l=null,c=null,d=null,u=null;for(p in s){var m=s[p];if(s.hasOwnProperty(p)&&null!=m)switch(p){case"checked":case"value":break;case"defaultValue":c=m;default:n.hasOwnProperty(p)||Gd(e,t,p,null,n,m)}}for(var h in n){var p=n[h];if(m=s[h],n.hasOwnProperty(h)&&(null!=p||null!=m))switch(h){case"type":a=p;break;case"name":r=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==m&&Gd(e,t,h,p,n,m)}}return void gt(e,o,l,c,d,u,a,r);case"select":for(a in p=o=l=h=null,s)if(c=s[a],s.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(a)||Gd(e,t,a,null,n,c)}for(r in n)if(a=n[r],c=s[r],n.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Gd(e,t,r,a,n,c)}return t=l,s=o,n=p,void(null!=h?vt(e,!!s,h,!1):!!n!==!!s&&(null!=t?vt(e,!!s,t,!0):vt(e,!!s,s?[]:"",!1)));case"textarea":for(l in p=h=null,s)if(r=s[l],s.hasOwnProperty(l)&&null!=r&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Gd(e,t,l,null,n,r)}for(o in n)if(r=n[o],a=s[o],n.hasOwnProperty(o)&&(null!=r||null!=a))switch(o){case"value":h=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(i(91));break;default:r!==a&&Gd(e,t,o,r,n,a)}return void yt(e,h,p);case"option":for(var x in s)if(h=s[x],s.hasOwnProperty(x)&&null!=h&&!n.hasOwnProperty(x))if("selected"===x)e.selected=!1;else Gd(e,t,x,null,n,h);for(c in n)if(h=n[c],p=s[c],n.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Gd(e,t,c,h,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in s)h=s[g],s.hasOwnProperty(g)&&null!=h&&!n.hasOwnProperty(g)&&Gd(e,t,g,null,n,h);for(d in n)if(h=n[d],p=s[d],n.hasOwnProperty(d)&&h!==p&&(null!=h||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:Gd(e,t,d,h,n,p)}return;default:if(Ct(t)){for(var f in s)h=s[f],s.hasOwnProperty(f)&&void 0!==h&&!n.hasOwnProperty(f)&&Kd(e,t,f,void 0,n,h);for(u in n)h=n[u],p=s[u],!n.hasOwnProperty(u)||h===p||void 0===h&&void 0===p||Kd(e,t,u,h,n,p);return}}for(var b in s)h=s[b],s.hasOwnProperty(b)&&null!=h&&!n.hasOwnProperty(b)&&Gd(e,t,b,null,n,h);for(m in n)h=n[m],p=s[m],!n.hasOwnProperty(m)||h===p||null==h&&null==p||Gd(e,t,m,h,n,p)}(n,e.type,s,t),n[Fe]=t}catch(r){rd(e,e.return,r)}}function Jo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Qo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Jo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Yo(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Hd));else if(4!==n&&27!==n&&null!==(e=e.child))for(Yo(e,t,s),e=e.sibling;null!==e;)Yo(e,t,s),e=e.sibling}function Xo(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==n&&27!==n&&null!==(e=e.child))for(Xo(e,t,s),e=e.sibling;null!==e;)Xo(e,t,s),e=e.sibling}var Zo=!1,el=!1,tl=!1,sl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function al(e,t,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:bl(e,s),4&n&&Vo(5,s);break;case 1:if(bl(e,s),4&n)if(e=s.stateNode,null===t)try{e.componentDidMount()}catch(o){rd(s,s.return,o)}else{var r=Ri(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){rd(s,s.return,l)}}64&n&&qo(s),512&n&&Go(s,s.return);break;case 3:if(bl(e,s),64&n&&null!==(n=s.updateQueue)){if(e=null,null!==s.child)switch(s.child.tag){case 27:case 5:case 1:e=s.child.stateNode}try{Uo(n,e)}catch(o){rd(s,s.return,o)}}break;case 26:bl(e,s),512&n&&Go(s,s.return);break;case 27:case 5:bl(e,s),null===t&&4&n&&Wo(s),512&n&&Go(s,s.return);break;case 12:default:bl(e,s);break;case 13:bl(e,s),4&n&&ul(e,s);break;case 22:if(!(r=null!==s.memoizedState||Zo)){t=null!==t&&null!==t.memoizedState||el;var a=Zo,i=el;Zo=r,(el=t)&&!i?yl(e,s,0!==(8772&s.subtreeFlags)):bl(e,s),Zo=a,el=i}512&n&&("manual"===s.memoizedProps.mode?Go(s,s.return):Ko(s,s.return))}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ol=null,ll=!1;function cl(e,t,s){for(s=s.child;null!==s;)dl(e,t,s),s=s.sibling}function dl(e,t,s){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(fe,s)}catch(i){}switch(s.tag){case 26:el||Ko(s,t),cl(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode).parentNode.removeChild(s);break;case 27:el||Ko(s,t);var n=ol,r=ll;for(ol=s.stateNode,cl(e,t,s),t=(s=s.stateNode).attributes;t.length;)s.removeAttributeNode(t[0]);Ke(s),ol=n,ll=r;break;case 5:el||Ko(s,t);case 6:r=ol;var a=ll;if(ol=null,cl(e,t,s),ll=a,null!==(ol=r))if(ll)try{e=ol,n=s.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)}catch(o){rd(s,t,o)}else try{ol.removeChild(s.stateNode)}catch(o){rd(s,t,o)}break;case 18:null!==ol&&(ll?(t=ol,s=s.stateNode,8===t.nodeType?iu(t.parentNode,s):1===t.nodeType&&iu(t,s),gm(t)):iu(ol,s.stateNode));break;case 4:n=ol,r=ll,ol=s.stateNode.containerInfo,ll=!0,cl(e,t,s),ol=n,ll=r;break;case 0:case 11:case 14:case 15:el||Bo(2,s,t),el||Bo(4,s,t),cl(e,t,s);break;case 1:el||(Ko(s,t),"function"===typeof(n=s.stateNode).componentWillUnmount&&Ho(s,t,n)),cl(e,t,s);break;case 21:cl(e,t,s);break;case 22:el||Ko(s,t),el=(n=el)||null!==s.memoizedState,cl(e,t,s),el=n;break;default:cl(e,t,s)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gm(e)}catch(s){rd(t,t.return,s)}}function ml(e,t){var s=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new sl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach((function(t){var n=cd.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))}))}function hl(e,t){var s=t.deletions;if(null!==s)for(var n=0;n<s.length;n++){var r=s[n],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:ol=l.stateNode,ll=!1;break e;case 3:case 4:ol=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===ol)throw Error(i(160));dl(a,o,r),ol=null,ll=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}var pl=null;function xl(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),gl(e),4&n&&(Bo(3,e,e.return),Vo(3,e),Bo(5,e,e.return));break;case 1:hl(t,e),gl(e),512&n&&(el||null===s||Ko(s,s.return)),64&n&&Zo&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===s?n:s.concat(n))));break;case 26:var r=pl;if(hl(t,e),gl(e),512&n&&(el||null===s||Ko(s,s.return)),4&n){var a=null!==s?s.memoizedState:null;if(n=e.memoizedState,null===s)if(null===n)if(null===e.stateNode){e:{n=e.type,s=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":(!(a=r.getElementsByTagName("title")[0])||a[Ge]||a[ze]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(n),r.head.insertBefore(a,r.querySelector("head > title"))),Wd(a,n,s),a[ze]=e,Ye(a),n=a;break e;case"link":var o=_u("link","href",r).get(n+(s.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==s.href?null:s.href)&&a.getAttribute("rel")===(null==s.rel?null:s.rel)&&a.getAttribute("title")===(null==s.title?null:s.title)&&a.getAttribute("crossorigin")===(null==s.crossOrigin?null:s.crossOrigin)){o.splice(l,1);break t}Wd(a=r.createElement(n),n,s),r.head.appendChild(a);break;case"meta":if(o=_u("meta","content",r).get(n+(s.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==s.content?null:""+s.content)&&a.getAttribute("name")===(null==s.name?null:s.name)&&a.getAttribute("property")===(null==s.property?null:s.property)&&a.getAttribute("http-equiv")===(null==s.httpEquiv?null:s.httpEquiv)&&a.getAttribute("charset")===(null==s.charSet?null:s.charSet)){o.splice(l,1);break t}Wd(a=r.createElement(n),n,s),r.head.appendChild(a);break;default:throw Error(i(468,n))}a[ze]=e,Ye(a),n=a}e.stateNode=n}else Au(r,e.type,e.stateNode);else e.stateNode=wu(r,n,e.memoizedProps);else a!==n?(null===a?null!==s.stateNode&&(s=s.stateNode).parentNode.removeChild(s):a.count--,null===n?Au(r,e.type,e.stateNode):wu(r,n,e.memoizedProps)):null===n&&null!==e.stateNode&&$o(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(4&n&&null===e.alternate){r=e.stateNode,a=e.memoizedProps;try{for(var c=r.firstChild;c;){var d=c.nextSibling,u=c.nodeName;c[Ge]||"HEAD"===u||"BODY"===u||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===c.rel.toLowerCase()||r.removeChild(c),c=d}for(var m=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Wd(r,m,a),r[ze]=e,r[Fe]=a}catch(x){rd(e,e.return,x)}}case 5:if(hl(t,e),gl(e),512&n&&(el||null===s||Ko(s,s.return)),32&e.flags){r=e.stateNode;try{Nt(r,"")}catch(x){rd(e,e.return,x)}}4&n&&null!=e.stateNode&&$o(e,r=e.memoizedProps,null!==s?s.memoizedProps:r),1024&n&&(tl=!0);break;case 6:if(hl(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(i(162));n=e.memoizedProps,s=e.stateNode;try{s.nodeValue=n}catch(x){rd(e,e.return,x)}}break;case 3:if(Eu=null,r=pl,pl=hu(t.containerInfo),hl(t,e),pl=r,gl(e),4&n&&null!==s&&s.memoizedState.isDehydrated)try{gm(t.containerInfo)}catch(x){rd(e,e.return,x)}tl&&(tl=!1,fl(e));break;case 4:n=pl,pl=hu(e.stateNode.containerInfo),hl(t,e),gl(e),pl=n;break;case 12:hl(t,e),gl(e);break;case 13:hl(t,e),gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==s&&null!==s.memoizedState)&&(yc=le()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,ml(e,n)));break;case 22:if(512&n&&(el||null===s||Ko(s,s.return)),c=null!==e.memoizedState,d=null!==s&&null!==s.memoizedState,Zo=(u=Zo)||c,el=(m=el)||d,hl(t,e),el=m,Zo=u,gl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&n&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Zo||el,null===s||d||t||vl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(s=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===s){d=s=t;try{if(r=d.stateNode,c)"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{o=d.stateNode;var p=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(x){rd(d,d.return,x)}}}else if(6===t.tag){if(null===s){d=t;try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){rd(d,d.return,x)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(s=n.retryQueue)&&(n.retryQueue=null,ml(e,s))));break;case 19:hl(t,e),gl(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,ml(e,n)));break;case 21:break;default:hl(t,e),gl(e)}}function gl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var s=e.return;null!==s;){if(Jo(s)){var n=s;break e}s=s.return}throw Error(i(160))}switch(n.tag){case 27:var r=n.stateNode;Xo(e,Qo(e),r);break;case 5:var a=n.stateNode;32&n.flags&&(Nt(a,""),n.flags&=-33),Xo(e,Qo(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;Yo(e,Qo(e),o);break;default:throw Error(i(161))}}}catch(l){rd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function fl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;fl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function bl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)al(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bo(4,t,t.return),vl(t);break;case 1:Ko(t,t.return);var s=t.stateNode;"function"===typeof s.componentWillUnmount&&Ho(t,t.return,s),vl(t);break;case 26:case 27:case 5:Ko(t,t.return),vl(t);break;case 22:Ko(t,t.return),null===t.memoizedState&&vl(t);break;default:vl(t)}e=e.sibling}}function yl(e,t,s){for(s=s&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,r=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:yl(r,a,s),Vo(4,a);break;case 1:if(yl(r,a,s),"function"===typeof(r=(n=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){rd(n,n.return,c)}if(null!==(r=(n=a).updateQueue)){var o=n.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)Fo(l[r],o)}catch(c){rd(n,n.return,c)}}s&&64&i&&qo(a),Go(a,a.return);break;case 26:case 27:case 5:yl(r,a,s),s&&null===n&&4&i&&Wo(a),Go(a,a.return);break;case 12:default:yl(r,a,s);break;case 13:yl(r,a,s),s&&4&i&&ul(r,a);break;case 22:null===a.memoizedState&&yl(r,a,s),Go(a,a.return)}t=t.sibling}}function jl(e,t){var s=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==s&&(null!=e&&e.refCount++,null!=s&&Br(s))}function Nl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Br(e))}function wl(e,t,s,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t,s,n),t=t.sibling}function kl(e,t,s,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:wl(e,t,s,n),2048&r&&Vo(9,t);break;case 3:wl(e,t,s,n),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Br(e)));break;case 12:if(2048&r){wl(e,t,s,n),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,o=a.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){rd(t,t.return,l)}}else wl(e,t,s,n);break;case 23:break;case 22:a=t.stateNode,null!==t.memoizedState?4&a._visibility?wl(e,t,s,n):Cl(e,t):4&a._visibility?wl(e,t,s,n):(a._visibility|=4,Sl(e,t,s,n,0!==(10256&t.subtreeFlags))),2048&r&&jl(t.alternate,t);break;case 24:wl(e,t,s,n),2048&r&&Nl(t.alternate,t);break;default:wl(e,t,s,n)}}function Sl(e,t,s,n,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,i=t,o=s,l=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:Sl(a,i,o,l,r),Vo(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?4&d._visibility?Sl(a,i,o,l,r):Cl(a,i):(d._visibility|=4,Sl(a,i,o,l,r)),r&&2048&c&&jl(i.alternate,i);break;case 24:Sl(a,i,o,l,r),r&&2048&c&&Nl(i.alternate,i);break;default:Sl(a,i,o,l,r)}t=t.sibling}}function Cl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var s=e,n=t,r=n.flags;switch(n.tag){case 22:Cl(s,n),2048&r&&jl(n.alternate,n);break;case 24:Cl(s,n),2048&r&&Nl(n.alternate,n);break;default:Cl(s,n)}t=t.sibling}}var El=8192;function _l(e){if(e.subtreeFlags&El)for(e=e.child;null!==e;)Al(e),e=e.sibling}function Al(e){switch(e.tag){case 26:_l(e),e.flags&El&&null!==e.memoizedState&&function(e,t,s){if(null===Tu)throw Error(i(475));var n=Tu;if("stylesheet"===t.type&&("string"!==typeof s.media||!1!==matchMedia(s.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=bu(s.href),a=e.querySelector(vu(r));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=Ru.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=a,void Ye(a);a=e.ownerDocument||e,s=yu(s),(r=uu.get(r))&&Su(s,r),Ye(a=a.createElement("link"));var o=a;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wd(a,"link",s),t.instance=a}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=Ru.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(pl,e.memoizedState,e.memoizedProps);break;case 5:default:_l(e);break;case 3:case 4:var t=pl;pl=hu(e.stateNode.containerInfo),_l(e),pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=El,El=16777216,_l(e),El=t):_l(e))}}function Il(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Tl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var s=0;s<t.length;s++){var n=t[s];nl=n,Ol(n,e)}Il(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Pl(e),e=e.sibling}function Pl(e){switch(e.tag){case 0:case 11:case 15:Tl(e),2048&e.flags&&Bo(9,e,e.return);break;case 3:case 12:default:Tl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Rl(e)):Tl(e)}}function Rl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var s=0;s<t.length;s++){var n=t[s];nl=n,Ol(n,e)}Il(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Bo(8,t,t.return),Rl(t);break;case 22:4&(s=t.stateNode)._visibility&&(s._visibility&=-5,Rl(t));break;default:Rl(t)}e=e.sibling}}function Ol(e,t){for(;null!==nl;){var s=nl;switch(s.tag){case 0:case 11:case 15:Bo(8,s,t);break;case 23:case 22:if(null!==s.memoizedState&&null!==s.memoizedState.cachePool){var n=s.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Br(s.memoizedState.cache)}if(null!==(n=s.child))n.return=s,nl=n;else e:for(s=e;null!==nl;){var r=(n=nl).sibling,a=n.return;if(il(n),n===s){nl=null;break e}if(null!==r){r.return=a,nl=r;break e}nl=a}}}function Ml(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,s,n){return new Ml(e,t,s,n)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zl(e,t){var s=e.alternate;return null===s?((s=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=31457280&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Fl(e,t){e.flags&=31457282;var s=e.alternate;return null===s?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ul(e,t,s,n,r,a){var o=0;if(n=e,"function"===typeof e)Ll(e)&&(o=1);else if("string"===typeof e)o=function(e,t,s){if(1===s||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,s,J.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case u:return Vl(s.children,r,a,t);case m:o=8,r|=24;break;case h:return(e=Dl(12,s,t,2|r)).elementType=h,e.lanes=a,e;case b:return(e=Dl(13,s,t,r)).elementType=b,e.lanes=a,e;case v:return(e=Dl(19,s,t,r)).elementType=v,e.lanes=a,e;case N:return Bl(s,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:o=10;break e;case x:o=9;break e;case f:o=11;break e;case y:o=14;break e;case j:o=16,n=null;break e}o=29,s=Error(i(130,null===e?"null":typeof e,"")),n=null}return(t=Dl(o,s,t,r)).elementType=e,t.type=n,t.lanes=a,t}function Vl(e,t,s,n){return(e=Dl(7,e,n,t)).lanes=s,e}function Bl(e,t,s,n){(e=Dl(22,e,n,t)).elementType=N,e.lanes=s;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=r._current;if(null===e)throw Error(i(456));if(0===(2&r._pendingVisibility)){var t=In(e,2);null!==t&&(r._pendingVisibility|=2,Rc(t,e,2))}},attach:function(){var e=r._current;if(null===e)throw Error(i(456));if(0!==(2&r._pendingVisibility)){var t=In(e,2);null!==t&&(r._pendingVisibility&=-3,Rc(t,e,2))}}};return e.stateNode=r,e}function ql(e,t,s){return(e=Dl(6,e,null,t)).lanes=s,e}function Hl(e,t,s){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gl(e){e.flags|=4}function Kl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Iu(t)){if(null!==(t=Ar.current)&&((4194176&rc)===rc?null!==Ir:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ir))throw hr=cr,lr;e.flags|=8192}}function Wl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ie():536870912,e.lanes|=t,gc|=t)}function $l(e,t){if(!Yn)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;null!==s;)null!==s.alternate&&(n=s),s=s.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jl(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,n=0;if(t)for(var r=e.child;null!==r;)s|=r.lanes|r.childLanes,n|=31457280&r.subtreeFlags,n|=31457280&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Ql(e,t,s){var n=t.pendingProps;switch($n(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Jl(t),null;case 3:return s=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yo(Ur),ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(rr(t)?Gl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xn&&(Mc(Xn),Xn=null))),Jl(t),null;case 26:return s=t.memoizedState,null===e?(Gl(t),null!==s?(Jl(t),Kl(t,s)):(Jl(t),t.flags&=-16777217)):s?s!==e.memoizedState?(Gl(t),Jl(t),Kl(t,s)):(Jl(t),t.flags&=-16777217):(e.memoizedProps!==n&&Gl(t),Jl(t),t.flags&=-16777217),null;case 27:se(t),s=Y.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Gl(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Jl(t),null}e=J.current,rr(t)?sr(t):(e=du(r,n,s),t.stateNode=e,Gl(t))}return Jl(t),null;case 5:if(se(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Gl(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Jl(t),null}if(e=J.current,rr(t))sr(t);else{switch(r=Qd(Y.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?r.createElement(s,{is:n.is}):r.createElement(s)}}e[ze]=t,e[Fe]=n;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Wd(e,s,n),s){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Gl(t)}}return Jl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Gl(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(e=Y.current,rr(t)){if(e=t.stateNode,s=t.memoizedProps,n=null,null!==(r=Jn))switch(r.tag){case 27:case 5:n=r.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===s||null!==n&&!0===n.suppressHydrationWarning||qd(e.nodeValue,s)))||tr(t)}else(e=Qd(e).createTextNode(n))[ze]=t,t.stateNode=e}return Jl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=rr(t),null!==n&&null!==n.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));r[ze]=t}else ar(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Jl(t),r=!1}else null!==Xn&&(Mc(Xn),Xn=null),r=!0;if(!r)return 256&t.flags?(Or(t),t):(Or(t),null)}if(Or(t),0!==(128&t.flags))return t.lanes=s,t;if(s=null!==n,e=null!==e&&null!==e.memoizedState,s){r=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(r=n.alternate.memoizedState.cachePool.pool);var a=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(a=n.memoizedState.cachePool.pool),a!==r&&(n.flags|=2048)}return s!==e&&s&&(t.child.flags|=8192),Wl(t,t.updateQueue),Jl(t),null;case 4:return ee(),null===e&&Rd(t.stateNode.containerInfo),Jl(t),null;case 10:return yo(t.type),Jl(t),null;case 19:if(W(Mr),null===(r=t.memoizedState))return Jl(t),null;if(n=0!==(128&t.flags),null===(a=r.rendering))if(n)$l(r,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Dr(e))){for(t.flags|=128,$l(r,!1),e=a.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=s,s=t.child;null!==s;)Fl(s,e),s=s.sibling;return $(Mr,1&Mr.current|2),t.child}e=e.sibling}null!==r.tail&&le()>jc&&(t.flags|=128,n=!0,$l(r,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=Dr(a))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),$l(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!Yn)return Jl(t),null}else 2*le()-r.renderingStartTime>jc&&536870912!==s&&(t.flags|=128,n=!0,$l(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=le(),t.sibling=null,e=Mr.current,$(Mr,n?1&e|2:1&e),t):(Jl(t),null);case 22:case 23:return Or(t),_r(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&s)&&0===(128&t.flags)&&(Jl(t),6&t.subtreeFlags&&(t.flags|=8192)):Jl(t),null!==(s=t.updateQueue)&&Wl(t,s.retryQueue),s=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==s&&(t.flags|=2048),null!==e&&W(Jr),null;case 24:return s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),yo(Ur),Jl(t),null;case 25:return null}throw Error(i(156,t.tag))}function Yl(e,t){switch($n(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yo(Ur),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return se(t),null;case 13:if(Or(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ar()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(Mr),null;case 4:return ee(),null;case 10:return yo(t.type),null;case 22:case 23:return Or(t),_r(),null!==e&&W(Jr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yo(Ur),null;default:return null}}function Xl(e,t){switch($n(t),t.tag){case 3:yo(Ur),ee();break;case 26:case 27:case 5:se(t);break;case 4:ee();break;case 13:Or(t);break;case 19:W(Mr);break;case 10:yo(t.type);break;case 22:case 23:Or(t),_r(),null!==e&&W(Jr);break;case 24:yo(Ur)}}var Zl={getCacheForType:function(e){var t=Co(Ur),s=t.data.get(e);return void 0===s&&(s=e(),t.data.set(e,s)),s}},ec="function"===typeof WeakMap?WeakMap:Map,tc=0,sc=null,nc=null,rc=0,ac=0,ic=null,oc=!1,lc=!1,cc=!1,dc=0,uc=0,mc=0,hc=0,pc=0,xc=0,gc=0,fc=null,bc=null,vc=!1,yc=0,jc=1/0,Nc=null,wc=null,kc=!1,Sc=null,Cc=0,Ec=0,_c=null,Ac=0,Ic=null;function Tc(){if(0!==(2&tc)&&0!==rc)return rc&-rc;if(null!==I.T){return 0!==Gr?Gr:Nd()}return De()}function Pc(){0===xc&&(xc=0===(536870912&rc)||Yn?Ae():536870912);var e=Ar.current;return null!==e&&(e.flags|=32),xc}function Rc(e,t,s){(e===sc&&2===ac||null!==e.cancelPendingCommit)&&(Vc(e,0),zc(e,rc,xc,!1)),Pe(e,s),0!==(2&tc)&&e===sc||(e===sc&&(0===(2&tc)&&(hc|=s),4===uc&&zc(e,rc,xc,!1)),gd(e))}function Oc(e,t,s){if(0!==(6&tc))throw Error(i(327));for(var n=!s&&0===(60&t)&&0===(t&e.expiredLanes)||Ee(e,t),r=n?function(e,t){var s=tc;tc|=2;var n=qc(),r=Hc();sc!==e||rc!==t?(Nc=null,jc=le()+500,Vc(e,t)):lc=Ee(e,t);e:for(;;)try{if(0!==ac&&null!==nc){t=nc;var a=ic;t:switch(ac){case 1:ac=0,ic=null,Yc(e,t,a,1);break;case 2:if(dr(a)){ac=0,ic=null,Qc(t);break}t=function(){2===ac&&sc===e&&(ac=7),gd(e)},a.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:dr(a)?(ac=0,ic=null,Qc(t)):(ac=0,ic=null,Yc(e,t,a,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Iu(o)){ac=0,ic=null;var c=l.sibling;if(null!==c)nc=c;else{var d=l.return;null!==d?(nc=d,Xc(d)):nc=null}break t}}ac=0,ic=null,Yc(e,t,a,5);break;case 6:ac=0,ic=null,Yc(e,t,a,6);break;case 8:Uc(),uc=6;break e;default:throw Error(i(462))}}$c();break}catch(u){Bc(e,u)}return bo=fo=null,I.H=n,I.A=r,tc=s,null!==nc?0:(sc=null,rc=0,En(),uc)}(e,t):Kc(e,t,!0),a=n;;){if(0===r){lc&&!n&&zc(e,t,0,!1);break}if(6===r)zc(e,t,0,!oc);else{if(s=e.current.alternate,a&&!Lc(s)){r=Kc(e,t,!1),a=!1;continue}if(2===r){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;r=fc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,o).flags|=256),2!==(o=Kc(l,o,!1))){if(cc&&!c){l.errorRecoveryDisabledLanes|=a,hc|=a,r=4;break e}a=bc,bc=r,null!==a&&Mc(a)}r=o}if(a=!1,2!==r)continue}}if(1===r){Vc(e,0),zc(e,t,0,!0);break}e:{switch(n=e,r){case 0:case 1:throw Error(i(345));case 4:if((4194176&t)===t){zc(n,t,xc,!oc);break e}break;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if(n.finishedWork=s,n.finishedLanes=t,(62914560&t)===t&&10<(a=yc+300-le())){if(zc(n,t,xc,!oc),0!==Ce(n,0))break e;n.timeoutHandle=tu(Dc.bind(null,n,s,bc,Nc,vc,t,xc,hc,gc,oc,2,-0,0),a)}else Dc(n,s,bc,Nc,vc,t,xc,hc,gc,oc,0,-0,0)}}break}gd(e)}function Mc(e){null===bc?bc=e:bc.push.apply(bc,e)}function Dc(e,t,s,n,r,a,o,l,c,d,u,m,h){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Tu={stylesheets:null,count:0,unsuspend:Pu},Al(t),null!==(t=function(){if(null===Tu)throw Error(i(475));var e=Tu;return e.stylesheets&&0===e.count&&Mu(e,e.stylesheets),0<e.count?function(t){var s=setTimeout((function(){if(e.stylesheets&&Mu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(s)}}:null}())))return e.cancelPendingCommit=t(ed.bind(null,e,s,n,r,o,l,c,1,m,h)),void zc(e,a,o,!d);ed(e,s,n,r,o,l,c,u,m,h)}function Lc(e){for(var t=e;;){var s=t.tag;if((0===s||11===s||15===s)&&16384&t.flags&&(null!==(s=t.updateQueue)&&null!==(s=s.stores)))for(var n=0;n<s.length;n++){var r=s[n],a=r.getSnapshot;r=r.value;try{if(!$s(a(),r))return!1}catch(i){return!1}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,s,n){t&=~pc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var a=31-ye(r),i=1<<a;n[a]=-1,r&=~i}0!==s&&Re(e,s,t)}function Fc(){return 0!==(6&tc)||(fd(0,!1),!1)}function Uc(){if(null!==nc){if(0===ac)var e=nc.return;else bo=fo=null,ba(e=nc),xr=null,gr=0,e=nc;for(;null!==e;)Xl(e.alternate,e),e=e.return;nc=null}}function Vc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;-1!==s&&(e.timeoutHandle=-1,su(s)),null!==(s=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,s()),Uc(),sc=e,nc=s=zl(e.current,null),rc=t,ac=0,ic=null,oc=!1,lc=Ee(e,t),cc=!1,gc=xc=pc=hc=mc=uc=0,bc=fc=null,vc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var r=31-ye(n),a=1<<r;t|=e[r],n&=~a}return dc=t,En(),s}function Bc(e,t){ea=null,I.H=Si,t===or?(t=pr(),ac=3):t===lr?(t=pr(),ac=4):ac=t===qi?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===nc&&(uc=1,zi(e,Mn(t,e.current)))}function qc(){var e=I.H;return I.H=Si,null===e?Si:e}function Hc(){var e=I.A;return I.A=Zl,e}function Gc(){uc=4,oc||(4194176&rc)!==rc&&null!==Ar.current||(lc=!0),0===(134217727&mc)&&0===(134217727&hc)||null===sc||zc(sc,rc,xc,!1)}function Kc(e,t,s){var n=tc;tc|=2;var r=qc(),a=Hc();sc===e&&rc===t||(Nc=null,Vc(e,t)),t=!1;var i=uc;e:for(;;)try{if(0!==ac&&null!==nc){var o=nc,l=ic;switch(ac){case 8:Uc(),i=6;break e;case 3:case 2:case 6:null===Ar.current&&(t=!0);var c=ac;if(ac=0,ic=null,Yc(e,o,l,c),s&&lc){i=0;break e}break;default:c=ac,ac=0,ic=null,Yc(e,o,l,c)}}Wc(),i=uc;break}catch(d){Bc(e,d)}return t&&e.shellSuspendCounter++,bo=fo=null,tc=n,I.H=r,I.A=a,null===nc&&(sc=null,rc=0,En()),i}function Wc(){for(;null!==nc;)Jc(nc)}function $c(){for(;null!==nc&&!ie();)Jc(nc)}function Jc(e){var t=xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Qc(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Zi(s,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Zi(s,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:ba(t);default:Xl(s,t),t=xo(s,t=nc=Fl(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Yc(e,t,s,n){bo=fo=null,ba(t),xr=null,gr=0;var r=t.return;try{if(function(e,t,s,n,r){if(s.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=s.alternate)&&wo(t,s,r,!0),null!==(s=Ar.current)){switch(s.tag){case 13:return null===Ir?Gc():null===s.alternate&&0===uc&&(uc=3),s.flags&=-257,s.flags|=65536,s.lanes=r,n===cr?s.flags|=16384:(null===(t=s.updateQueue)?s.updateQueue=new Set([n]):t.add(n),ad(e,n,r)),!1;case 22:return s.flags|=65536,n===cr?s.flags|=16384:(null===(t=s.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=t):null===(s=t.retryQueue)?t.retryQueue=new Set([n]):s.add(n),ad(e,n,r)),!1}throw Error(i(435,s.tag))}return ad(e,n,r),Gc(),!1}if(Yn)return null!==(t=Ar.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==er&&ir(Mn(e=Error(i(422),{cause:n}),s))):(n!==er&&ir(Mn(t=Error(i(423),{cause:n}),s)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,n=Mn(n,s),Mo(e,r=Ui(e.stateNode,n,r)),4!==uc&&(uc=2)),!1;var a=Error(i(520),{cause:n});if(a=Mn(a,s),null===fc?fc=[a]:fc.push(a),4!==uc&&(uc=2),null===t)return!0;n=Mn(n,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=r&-r,s.lanes|=e,Mo(s,e=Ui(s.stateNode,n,e)),!1;case 1:if(t=s.type,a=s.stateNode,0===(128&s.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===wc||!wc.has(a))))return s.flags|=65536,r&=-r,s.lanes|=r,Bi(r=Vi(r),e,s,n),Mo(s,r),!1}s=s.return}while(null!==s);return!1}(e,r,t,s,rc))return uc=1,zi(e,Mn(s,e.current)),void(nc=null)}catch(a){if(null!==r)throw nc=r,a;return uc=1,zi(e,Mn(s,e.current)),void(nc=null)}32768&t.flags?(Yn||1===n?e=!0:lc||0!==(536870912&rc)?e=!1:(oc=e=!0,(2===n||3===n||6===n)&&(null!==(n=Ar.current)&&13===n.tag&&(n.flags|=16384))),Zc(t,e)):Xc(t)}function Xc(e){var t=e;do{if(0!==(32768&t.flags))return void Zc(t,oc);e=t.return;var s=Ql(t.alternate,t,dc);if(null!==s)return void(nc=s);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Zc(e,t){do{var s=Yl(e.alternate,e);if(null!==s)return s.flags&=32767,void(nc=s);if(null!==(s=e.return)&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=s}while(null!==e);uc=6,nc=null}function ed(e,t,s,n,r,a,o,l,c,d){var u=I.T,m=B.p;try{B.p=2,I.T=null,function(e,t,s,n,r,a,o,l){do{sd()}while(null!==Sc);if(0!==(6&tc))throw Error(i(327));var c=e.finishedWork;if(n=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var d=c.lanes|c.childLanes;if(function(e,t,s,n,r,a){var i=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(s=i&~s;0<s;){var d=31-ye(s),u=1<<d;o[d]=0,l[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var h=m[d];null!==h&&(h.lane&=-536870913)}s&=~u}0!==n&&Re(e,n,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,n,d|=Cn,a,o,l),e===sc&&(nc=sc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||kc||(kc=!0,Ec=d,_c=s,function(e,t){re(e,t)}(me,(function(){return sd(),null}))),s=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||s?(s=I.T,I.T=null,a=B.p,B.p=2,o=tc,tc|=4,function(e,t){if(e=e.containerInfo,$d=Gu,en(e=Zs(e))){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(n&&0!==n.rangeCount){s=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch(g){s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==s||0!==r&&3!==m.nodeType||(l=o+r),m!==a||0!==n&&3!==m.nodeType||(c=o+n),3===m.nodeType&&(o+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===s&&++d===r&&(l=o),h===a&&++u===n&&(c=o),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}s=-1===l||-1===c?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Jd={focusedElem:e,selectionRange:s},Gu=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(a=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,s=t,r=a.memoizedProps,a=a.memoizedState,n=s.stateNode;try{var x=Ri(s.type,r,(s.elementType,s.type));e=n.getSnapshotBeforeUpdate(x,a),n.__reactInternalSnapshotBeforeUpdate=e}catch(f){rd(s,s.return,f)}}break;case 3:if(0!==(1024&e))if(9===(s=(e=t.stateNode.containerInfo).nodeType))ou(e);else if(1===s)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}x=rl,rl=!1}(e,c),xl(c,e),tn(Jd,e.containerInfo),Gu=!!$d,Jd=$d=null,e.current=c,al(e,c.alternate,c),oe(),tc=o,B.p=a,I.T=s):e.current=c,kc?(kc=!1,Sc=e,Cc=n):td(e,d),d=e.pendingLanes,0===d&&(wc=null),function(e){if(be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(fe,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),gd(e),null!==t)for(r=e.onRecoverableError,c=0;c<t.length;c++)d=t[c],r(d.value,{componentStack:d.stack});0!==(3&Cc)&&sd(),d=e.pendingLanes,0!==(4194218&n)&&0!==(42&d)?e===Ic?Ac++:(Ac=0,Ic=e):Ac=0,fd(0,!1)}(e,t,s,n,m,r,a,o)}finally{I.T=u,B.p=m}}function td(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Br(t)))}function sd(){if(null!==Sc){var e=Sc,t=Ec;Ec=0;var s=Me(Cc),n=I.T,r=B.p;try{if(B.p=32>s?32:s,I.T=null,null===Sc)var a=!1;else{s=_c,_c=null;var o=Sc,l=Cc;if(Sc=null,Cc=0,0!==(6&tc))throw Error(i(331));var c=tc;if(tc|=4,Pl(o.current),kl(o,o.current,l,s),tc=c,fd(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(fe,o)}catch(d){}a=!0}return a}finally{B.p=r,I.T=n,td(e,t)}}return!1}function nd(e,t,s){t=Mn(s,t),null!==(e=Ro(e,t=Ui(e.stateNode,t,2),2))&&(Pe(e,2),gd(e))}function rd(e,t,s){if(3===e.tag)nd(e,e,s);else for(;null!==t;){if(3===t.tag){nd(t,e,s);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===wc||!wc.has(n))){e=Mn(s,e),null!==(n=Ro(t,s=Vi(2),2))&&(Bi(s,n,t,e),Pe(n,2),gd(n));break}}t=t.return}}function ad(e,t,s){var n=e.pingCache;if(null===n){n=e.pingCache=new ec;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(s)||(cc=!0,r.add(s),e=id.bind(null,e,t,s),t.then(e,e))}function id(e,t,s){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,sc===e&&(rc&s)===s&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-yc?0===(2&tc)&&Vc(e,0):pc|=s,gc===rc&&(gc=0)),gd(e)}function od(e,t){0===t&&(t=Ie()),null!==(e=In(e,t))&&(Pe(e,t),gd(e))}function ld(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),od(e,s)}function cd(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(s=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==n&&n.delete(t),od(e,s)}var dd=null,ud=null,md=!1,hd=!1,pd=!1,xd=0;function gd(e){var t;e!==ud&&null===e.next&&(null===ud?dd=ud=e:ud=ud.next=e),hd=!0,md||(md=!0,t=bd,ru((function(){0!==(6&tc)?re(de,t):t()})))}function fd(e,t){if(!pd&&hd){pd=!0;do{for(var s=!1,n=dd;null!==n;){if(!t)if(0!==e){var r=n.pendingLanes;if(0===r)var a=0;else{var i=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-ye(42|e)+1)-1,a=201326677&(a&=r&~(i&~o))?201326677&a|1:a?2|a:0}0!==a&&(s=!0,jd(n,a))}else a=rc,0===(3&(a=Ce(n,n===sc?a:0)))||Ee(n,a)||(s=!0,jd(n,a));n=n.next}}while(s);pd=!1}}function bd(){hd=md=!1;var e=0;0!==xd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==eu&&(eu=e,!0);return eu=null,!1}()&&(e=xd),xd=0);for(var t=le(),s=null,n=dd;null!==n;){var r=n.next,a=vd(n,t);0===a?(n.next=null,null===s?dd=r:s.next=r,null===r&&(ud=s)):(s=n,(0!==e||0!==(3&a))&&(hd=!0)),n=r}fd(e,!1)}function vd(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-ye(a),o=1<<i,l=r[i];-1===l?0!==(o&s)&&0===(o&n)||(r[i]=_e(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(s=rc,s=Ce(e,e===(t=sc)?s:0),n=e.callbackNode,0===s||e===t&&2===ac||null!==e.cancelPendingCommit)return null!==n&&null!==n&&ae(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&s)||Ee(e,s)){if((t=s&-s)===e.callbackPriority)return t;switch(null!==n&&ae(n),Me(s)){case 2:case 8:s=ue;break;case 32:default:s=me;break;case 268435456:s=pe}return n=yd.bind(null,e),s=re(s,n),e.callbackPriority=t,e.callbackNode=s,t}return null!==n&&null!==n&&ae(n),e.callbackPriority=2,e.callbackNode=null,2}function yd(e,t){var s=e.callbackNode;if(sd()&&e.callbackNode!==s)return null;var n=rc;return 0===(n=Ce(e,e===sc?n:0))?null:(Oc(e,n,t),vd(e,le()),null!=e.callbackNode&&e.callbackNode===s?yd.bind(null,e):null)}function jd(e,t){if(sd())return null;Oc(e,t,!0)}function Nd(){return 0===xd&&(xd=Ae()),xd}function wd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function kd(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}for(var Sd=0;Sd<Nn.length;Sd++){var Cd=Nn[Sd];wn(Cd.toLowerCase(),"on"+(Cd[0].toUpperCase()+Cd.slice(1)))}wn(pn,"onAnimationEnd"),wn(xn,"onAnimationIteration"),wn(gn,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(fn,"onTransitionRun"),wn(bn,"onTransitionStart"),wn(vn,"onTransitionCancel"),wn(yn,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_d=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ed));function Ad(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var n=e[s],r=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=c;try{a(r)}catch(d){Oi(d)}r.currentTarget=null,a=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=c;try{a(r)}catch(d){Oi(d)}r.currentTarget=null,a=l}}}}function Id(e,t){var s=t[Ve];void 0===s&&(s=t[Ve]=new Set);var n=e+"__bubble";s.has(n)||(Od(t,e,2,!1),s.add(n))}function Td(e,t,s){var n=0;t&&(n|=4),Od(s,e,n,t)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function Rd(e){if(!e[Pd]){e[Pd]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(_d.has(t)||Td(t,!1,e),Td(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Pd]||(t[Pd]=!0,Td("selectionchange",!1,t))}}function Od(e,t,s,n){switch(Xu(t)){case 2:var r=Ku;break;case 8:r=Wu;break;default:r=$u}s=r.bind(null,t,s,e),r=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,s,{capture:!0,passive:r}):e.addEventListener(t,s,!0):void 0!==r?e.addEventListener(t,s,{passive:r}):e.addEventListener(t,s,!1)}function Md(e,t,s,n,r){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;i=i.return}for(;null!==o;){if(null===(i=We(o)))return;if(5===(l=i.tag)||6===l||26===l||27===l){n=a=i;continue e}o=o.parentNode}}n=n.return}Dt((function(){var n=a,r=Tt(s),i=[];e:{var o=jn.get(e);if(void 0!==o){var l=Zt,c=e;switch(e){case"keypress":if(0===Ht(s))break e;case"keydown":case"keyup":l=ps;break;case"focusin":c="focus",l=as;break;case"focusout":c="blur",l=as;break;case"beforeblur":case"afterblur":l=as;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gs;break;case pn:case xn:case gn:l=is;break;case yn:l=fs;break;case"scroll":case"scrollend":l=ts;break;case"wheel":l=bs;break;case"copy":case"cut":case"paste":l=os;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xs;break;case"toggle":case"beforetoggle":l=vs}var d=0!==(4&t),u=!d&&("scroll"===e||"scrollend"===e),m=d?null!==o?o+"Capture":null:o;d=[];for(var h,p=n;null!==p;){var x=p;if(h=x.stateNode,5!==(x=x.tag)&&26!==x&&27!==x||null===h||null===m||null!=(x=Lt(p,m))&&d.push(Dd(p,x,h)),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,s,r),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||s===It||!(c=s.relatedTarget||s.fromElement)||!We(c)&&!c[Ue])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=s.relatedTarget||s.toElement)?We(c):null)&&(u=L(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=n),l!==c)){if(d=ns,x="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=xs,x="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==l?o:Je(l),h=null==c?o:Je(c),(o=new d(x,p+"leave",l,s,r)).target=u,o.relatedTarget=h,x=null,We(r)===n&&((d=new d(m,p+"enter",c,s,r)).target=h,d.relatedTarget=u,x=d),u=x,l&&c)e:{for(m=c,p=0,h=d=l;h;h=zd(h))p++;for(h=0,x=m;x;x=zd(x))h++;for(;0<p-h;)d=zd(d),p--;for(;0<h-p;)m=zd(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=zd(d),m=zd(m)}d=null}else d=null;null!==l&&Fd(i,o,l,d,!1),null!==c&&null!==u&&Fd(i,u,c,d,!0)}if("select"===(l=(o=n?Je(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Ls;else if(Ts(o))if(zs)g=Ws;else{g=Gs;var f=Hs}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&Ct(n.elementType)&&(g=Ls):g=Ks;switch(g&&(g=g(e,n))?Ps(i,g,s,r):(f&&f(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&bt(o,"number",o.value)),f=n?Je(n):window,e){case"focusin":(Ts(f)||"true"===f.contentEditable)&&(nn=f,rn=n,an=null);break;case"focusout":an=rn=nn=null;break;case"mousedown":on=!0;break;case"contextmenu":case"mouseup":case"dragend":on=!1,ln(i,s,r);break;case"selectionchange":if(sn)break;case"keydown":case"keyup":ln(i,s,r)}var b;if(js)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else As?Es(e,s)&&(v="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(v="onCompositionStart");v&&(ks&&"ko"!==s.locale&&(As||"onCompositionStart"!==v?"onCompositionEnd"===v&&As&&(b=qt()):(Vt="value"in(Ut=r)?Ut.value:Ut.textContent,As=!0)),0<(f=Ld(n,v)).length&&(v=new ls(v,e,null,s,r),i.push({event:v,listeners:f}),b?v.data=b:null!==(b=_s(s))&&(v.data=b))),(b=ws?function(e,t){switch(e){case"compositionend":return _s(t);case"keypress":return 32!==t.which?null:(Cs=!0,Ss);case"textInput":return(e=t.data)===Ss&&Cs?null:e;default:return null}}(e,s):function(e,t){if(As)return"compositionend"===e||!js&&Es(e,t)?(e=qt(),Bt=Vt=Ut=null,As=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ks&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(v=Ld(n,"onBeforeInput")).length&&(f=new ls("onBeforeInput","beforeinput",null,s,r),i.push({event:f,listeners:v}),f.data=b)),function(e,t,s,n,r){if("submit"===t&&s&&s.stateNode===r){var a=wd((r[Fe]||null).action),i=n.submitter;i&&null!==(t=(t=i[Fe]||null)?wd(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var o=new Zt("action","action",null,n,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==xd){var e=i?kd(r,i):new FormData(r);ui(s,{pending:!0,data:e,method:r.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=i?kd(r,i):new FormData(r),ui(s,{pending:!0,data:e,method:r.method,action:a},a,e))},currentTarget:r}]})}}(i,e,n,s,r)}Ad(i,t)}))}function Dd(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ld(e,t){for(var s=t+"Capture",n=[];null!==e;){var r=e,a=r.stateNode;5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=Lt(e,s))&&n.unshift(Dd(e,r,a)),null!=(r=Lt(e,t))&&n.push(Dd(e,r,a))),e=e.return}return n}function zd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Fd(e,t,s,n,r){for(var a=t._reactName,i=[];null!==s&&s!==n;){var o=s,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=Lt(s,a))&&i.unshift(Dd(s,c,l)):r||null!=(c=Lt(s,a))&&i.push(Dd(s,c,l))),s=s.return}0!==i.length&&e.push({event:t,listeners:i})}var Ud=/\r\n?/g,Vd=/\u0000|\uFFFD/g;function Bd(e){return("string"===typeof e?e:""+e).replace(Ud,"\n").replace(Vd,"")}function qd(e,t){return t=Bd(t),Bd(e)===t}function Hd(){}function Gd(e,t,s,n,r,a){switch(s){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||Nt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&Nt(e,""+n);break;case"className":ot(e,"class",n);break;case"tabIndex":ot(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,s,n);break;case"style":St(e,n,a);break;case"data":if("object"!==t){ot(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==s)){e.removeAttribute(s);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(s);break}n=At(""+n),e.setAttribute(s,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===s?("input"!==t&&Gd(e,t,"name",r.name,r,null),Gd(e,t,"formEncType",r.formEncType,r,null),Gd(e,t,"formMethod",r.formMethod,r,null),Gd(e,t,"formTarget",r.formTarget,r,null)):(Gd(e,t,"encType",r.encType,r,null),Gd(e,t,"method",r.method,r,null),Gd(e,t,"target",r.target,r,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(s);break}n=At(""+n),e.setAttribute(s,n);break;case"onClick":null!=n&&(e.onclick=Hd);break;case"onScroll":null!=n&&Id("scroll",e);break;case"onScrollEnd":null!=n&&Id("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(s=n.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}s=At(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(s,""+n):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":!0===n?e.setAttribute(s,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(s,n):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(s,n):e.removeAttribute(s);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(s):e.setAttribute(s,n);break;case"popover":Id("beforetoggle",e),Id("toggle",e),it(e,"popover",n);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":it(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||"o"!==s[0]&&"O"!==s[0]||"n"!==s[1]&&"N"!==s[1])&&it(e,s=Et.get(s)||s,n)}}function Kd(e,t,s,n,r,a){switch(s){case"style":St(e,n,a);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(s=n.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=s}}break;case"children":"string"===typeof n?Nt(e,n):("number"===typeof n||"bigint"===typeof n)&&Nt(e,""+n);break;case"onScroll":null!=n&&Id("scroll",e);break;case"onScrollEnd":null!=n&&Id("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Hd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(s)||("o"!==s[0]||"n"!==s[1]||(r=s.endsWith("Capture"),t=s.slice(2,r?s.length-7:void 0),"function"===typeof(a=null!=(a=e[Fe]||null)?a[s]:null)&&e.removeEventListener(t,a,r),"function"!==typeof n)?s in e?e[s]=n:!0===n?e.setAttribute(s,""):it(e,s,n):("function"!==typeof a&&null!==a&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,n,r)))}}function Wd(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Id("error",e),Id("load",e);var n,r=!1,a=!1;for(n in s)if(s.hasOwnProperty(n)){var o=s[n];if(null!=o)switch(n){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Gd(e,t,n,o,s,null)}}return a&&Gd(e,t,"srcSet",s.srcSet,s,null),void(r&&Gd(e,t,"src",s.src,s,null));case"input":Id("invalid",e);var l=n=o=a=null,c=null,d=null;for(r in s)if(s.hasOwnProperty(r)){var u=s[r];if(null!=u)switch(r){case"name":a=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:Gd(e,t,r,u,s,null)}}return ft(e,n,l,c,d,o,a,!1),void ut(e);case"select":for(a in Id("invalid",e),r=o=n=null,s)if(s.hasOwnProperty(a)&&null!=(l=s[a]))switch(a){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":r=l;default:Gd(e,t,a,l,s,null)}return t=n,s=o,e.multiple=!!r,void(null!=t?vt(e,!!r,t,!1):null!=s&&vt(e,!!r,s,!0));case"textarea":for(o in Id("invalid",e),n=a=r=null,s)if(s.hasOwnProperty(o)&&null!=(l=s[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Gd(e,t,o,l,s,null)}return jt(e,r,a,n),void ut(e);case"option":for(c in s)if(s.hasOwnProperty(c)&&null!=(r=s[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Gd(e,t,c,r,s,null);return;case"dialog":Id("cancel",e),Id("close",e);break;case"iframe":case"object":Id("load",e);break;case"video":case"audio":for(r=0;r<Ed.length;r++)Id(Ed[r],e);break;case"image":Id("error",e),Id("load",e);break;case"details":Id("toggle",e);break;case"embed":case"source":case"link":Id("error",e),Id("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in s)if(s.hasOwnProperty(d)&&null!=(r=s[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Gd(e,t,d,r,s,null)}return;default:if(Ct(t)){for(u in s)s.hasOwnProperty(u)&&(void 0!==(r=s[u])&&Kd(e,t,u,r,s,void 0));return}}for(l in s)s.hasOwnProperty(l)&&(null!=(r=s[l])&&Gd(e,t,l,r,s,null))}var $d=null,Jd=null;function Qd(e){return 9===e.nodeType?e:e.ownerDocument}function Yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var eu=null;var tu="function"===typeof setTimeout?setTimeout:void 0,su="function"===typeof clearTimeout?clearTimeout:void 0,nu="function"===typeof Promise?Promise:void 0,ru="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nu?function(e){return nu.resolve(null).then(e).catch(au)}:tu;function au(e){setTimeout((function(){throw e}))}function iu(e,t){var s=t,n=0;do{var r=s.nextSibling;if(e.removeChild(s),r&&8===r.nodeType)if("/$"===(s=r.data)){if(0===n)return e.removeChild(r),void gm(t);n--}else"$"!==s&&"$?"!==s&&"$!"!==s||n++;s=r}while(s);gm(t)}function ou(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ou(s),Ke(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===s.rel.toLowerCase())continue}e.removeChild(s)}}function lu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function cu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}function du(e,t,s){switch(t=Qd(s),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}var uu=new Map,mu=new Set;function hu(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var pu=B.d;B.d={f:function(){var e=pu.f(),t=Fc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?hi(t):pu.r(e)},D:function(e){pu.D(e),gu("dns-prefetch",e,null)},C:function(e,t){pu.C(e,t),gu("preconnect",e,t)},L:function(e,t,s){pu.L(e,t,s);var n=xu;if(n&&e&&t){var r='link[rel="preload"][as="'+xt(t)+'"]';"image"===t&&s&&s.imageSrcSet?(r+='[imagesrcset="'+xt(s.imageSrcSet)+'"]',"string"===typeof s.imageSizes&&(r+='[imagesizes="'+xt(s.imageSizes)+'"]')):r+='[href="'+xt(e)+'"]';var a=r;switch(t){case"style":a=bu(e);break;case"script":a=ju(e)}uu.has(a)||(e=T({rel:"preload",href:"image"===t&&s&&s.imageSrcSet?void 0:e,as:t},s),uu.set(a,e),null!==n.querySelector(r)||"style"===t&&n.querySelector(vu(a))||"script"===t&&n.querySelector(Nu(a))||(Wd(t=n.createElement("link"),"link",e),Ye(t),n.head.appendChild(t)))}},m:function(e,t){pu.m(e,t);var s=xu;if(s&&e){var n=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+xt(n)+'"][href="'+xt(e)+'"]',a=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ju(e)}if(!uu.has(a)&&(e=T({rel:"modulepreload",href:e},t),uu.set(a,e),null===s.querySelector(r))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Nu(a)))return}Wd(n=s.createElement("link"),"link",e),Ye(n),s.head.appendChild(n)}}},X:function(e,t){pu.X(e,t);var s=xu;if(s&&e){var n=Qe(s).hoistableScripts,r=ju(e),a=n.get(r);a||((a=s.querySelector(Nu(r)))||(e=T({src:e,async:!0},t),(t=uu.get(r))&&Cu(e,t),Ye(a=s.createElement("script")),Wd(a,"link",e),s.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(r,a))}},S:function(e,t,s){pu.S(e,t,s);var n=xu;if(n&&e){var r=Qe(n).hoistableStyles,a=bu(e);t=t||"default";var i=r.get(a);if(!i){var o={loading:0,preload:null};if(i=n.querySelector(vu(a)))o.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},s),(s=uu.get(a))&&Su(e,s);var l=i=n.createElement("link");Ye(l),Wd(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,ku(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:o},r.set(a,i)}}},M:function(e,t){pu.M(e,t);var s=xu;if(s&&e){var n=Qe(s).hoistableScripts,r=ju(e),a=n.get(r);a||((a=s.querySelector(Nu(r)))||(e=T({src:e,async:!0,type:"module"},t),(t=uu.get(r))&&Cu(e,t),Ye(a=s.createElement("script")),Wd(a,"link",e),s.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(r,a))}}};var xu="undefined"===typeof document?null:document;function gu(e,t,s){var n=xu;if(n&&"string"===typeof t&&t){var r=xt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof s&&(r+='[crossorigin="'+s+'"]'),mu.has(r)||(mu.add(r),e={rel:e,crossOrigin:s,href:t},null===n.querySelector(r)&&(Wd(t=n.createElement("link"),"link",e),Ye(t),n.head.appendChild(t)))}}function fu(e,t,s,n){var r,a,o,l,c=(c=Y.current)?hu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof s.precedence&&"string"===typeof s.href?(t=bu(s.href),(n=(s=Qe(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===s.rel&&"string"===typeof s.href&&"string"===typeof s.precedence){e=bu(s.href);var d=Qe(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(vu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),uu.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},uu.set(e,s),d||(r=c,a=e,o=s,l=u.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),Wd(a,"link",o),Ye(a),r.head.appendChild(a))))),t&&null===n)throw Error(i(528,""));return u}if(t&&null!==n)throw Error(i(529,""));return null;case"script":return t=s.async,"string"===typeof(s=s.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=ju(s),(n=(s=Qe(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function bu(e){return'href="'+xt(e)+'"'}function vu(e){return'link[rel="stylesheet"]['+e+"]"}function yu(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function ju(e){return'[src="'+xt(e)+'"]'}function Nu(e){return"script[async]"+e}function wu(e,t,s){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+xt(s.href)+'"]');if(n)return t.instance=n,Ye(n),n;var r=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return Ye(n=(e.ownerDocument||e).createElement("style")),Wd(n,"style",r),ku(n,s.precedence,e),t.instance=n;case"stylesheet":r=bu(s.href);var a=e.querySelector(vu(r));if(a)return t.state.loading|=4,t.instance=a,Ye(a),a;n=yu(s),(r=uu.get(r))&&Su(n,r),Ye(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wd(a,"link",n),t.state.loading|=4,ku(a,s.precedence,e),t.instance=a;case"script":return a=ju(s.src),(r=e.querySelector(Nu(a)))?(t.instance=r,Ye(r),r):(n=s,(r=uu.get(a))&&Cu(n=T({},s),r),Ye(r=(e=e.ownerDocument||e).createElement("script")),Wd(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,ku(n,s.precedence,e));return t.instance}function ku(e,t,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,a=r,i=0;i<n.length;i++){var o=n[i];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===s.nodeType?s.head:s).insertBefore(e,t.firstChild)}function Su(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Cu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Eu=null;function _u(e,t,s){if(null===Eu){var n=new Map,r=Eu=new Map;r.set(s,n)}else(n=(r=Eu).get(s))||(n=new Map,r.set(s,n));if(n.has(e))return n;for(n.set(e,null),s=s.getElementsByTagName(e),r=0;r<s.length;r++){var a=s[r];if(!(a[Ge]||a[ze]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var o=n.get(i);o?o.push(a):n.set(i,[a])}}return n}function Au(e,t,s){(e=e.ownerDocument||e).head.insertBefore(s,"title"===t?e.querySelector("head > title"):null)}function Iu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Tu=null;function Pu(){}function Ru(){if(this.count--,0===this.count)if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Ou=null;function Mu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Ou=new Map,t.forEach(Du,e),Ou=null,Ru.call(e))}function Du(e,t){if(!(4&t.state.loading)){var s=Ou.get(e);if(s)var n=s.get(null);else{s=new Map,Ou.set(e,s);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var i=r[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(s.set(i.dataset.precedence,i),n=i)}n&&s.set(null,n)}i=(r=t.instance).getAttribute("data-precedence"),(a=s.get(i)||n)===n&&s.set(null,r),s.set(i,r),this.count++,n=Ru.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),a?a.parentNode.insertBefore(r,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Lu={$$typeof:g,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function zu(e,t,s,n,r,a,i,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Fu(e,t,s,n,r,a,i,o,l,c,d,u){return e=new zu(e,t,s,i,o,l,c,u),t=1,!0===a&&(t|=24),a=Dl(3,null,null,t),e.current=a,a.stateNode=e,(t=Vr()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:n,isDehydrated:s,cache:t},Io(a),e}function Uu(e){return e?e=Rn:Rn}function Vu(e,t,s,n,r,a){r=Uu(r),null===n.context?n.context=r:n.pendingContext=r,(n=Po(t)).payload={element:s},null!==(a=void 0===a?null:a)&&(n.callback=a),null!==(s=Ro(e,n,t))&&(Rc(s,0,t),Oo(s,e,t))}function Bu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function qu(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}function Hu(e){if(13===e.tag){var t=In(e,67108864);null!==t&&Rc(t,0,67108864),qu(e,67108864)}}var Gu=!0;function Ku(e,t,s,n){var r=I.T;I.T=null;var a=B.p;try{B.p=2,$u(e,t,s,n)}finally{B.p=a,I.T=r}}function Wu(e,t,s,n){var r=I.T;I.T=null;var a=B.p;try{B.p=8,$u(e,t,s,n)}finally{B.p=a,I.T=r}}function $u(e,t,s,n){if(Gu){var r=Ju(n);if(null===r)Md(e,t,n,Qu,s),om(e,n);else if(function(e,t,s,n,r){switch(t){case"focusin":return em=lm(em,e,t,s,n,r),!0;case"dragenter":return tm=lm(tm,e,t,s,n,r),!0;case"mouseover":return sm=lm(sm,e,t,s,n,r),!0;case"pointerover":var a=r.pointerId;return nm.set(a,lm(nm.get(a)||null,e,t,s,n,r)),!0;case"gotpointercapture":return a=r.pointerId,rm.set(a,lm(rm.get(a)||null,e,t,s,n,r)),!0}return!1}(r,e,t,s,n))n.stopPropagation();else if(om(e,n),4&t&&-1<im.indexOf(e)){for(;null!==r;){var a=$e(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=Se(a.pendingLanes);if(0!==i){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-ye(i);o.entanglements[1]|=l,i&=~l}gd(a),0===(6&tc)&&(jc=le()+500,fd(0,!1))}}break;case 13:null!==(o=In(a,2))&&Rc(o,0,2),Fc(),qu(a,2)}if(null===(a=Ju(n))&&Md(e,t,n,Qu,s),a===r)break;r=a}null!==r&&n.stopPropagation()}else Md(e,t,n,null,s)}}function Ju(e){return Yu(e=Tt(e))}var Qu=null;function Yu(e){if(Qu=null,null!==(e=We(e))){var t=L(e);if(null===t)e=null;else{var s=t.tag;if(13===s){if(null!==(e=z(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qu=e,null}function Xu(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case me:case he:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Zu=!1,em=null,tm=null,sm=null,nm=new Map,rm=new Map,am=[],im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function om(e,t){switch(e){case"focusin":case"focusout":em=null;break;case"dragenter":case"dragleave":tm=null;break;case"mouseover":case"mouseout":sm=null;break;case"pointerover":case"pointerout":nm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rm.delete(t.pointerId)}}function lm(e,t,s,n,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=$e(t))&&Hu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function cm(e){var t=We(e.target);if(null!==t){var s=L(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=z(s)))return e.blockedOn=t,void function(e,t){var s=B.p;try{return B.p=e,t()}finally{B.p=s}}(e.priority,(function(){if(13===s.tag){var e=Tc(),t=In(s,e);null!==t&&Rc(t,0,e),qu(s,e)}}))}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function dm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Ju(e.nativeEvent);if(null!==s)return null!==(t=$e(s))&&Hu(t),e.blockedOn=s,!1;var n=new(s=e.nativeEvent).constructor(s.type,s);It=n,s.target.dispatchEvent(n),It=null,t.shift()}return!0}function um(e,t,s){dm(e)&&s.delete(t)}function mm(){Zu=!1,null!==em&&dm(em)&&(em=null),null!==tm&&dm(tm)&&(tm=null),null!==sm&&dm(sm)&&(sm=null),nm.forEach(um),rm.forEach(um)}function hm(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mm)))}var pm=null;function xm(e){pm!==e&&(pm=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,(function(){pm===e&&(pm=null);for(var t=0;t<e.length;t+=3){var s=e[t],n=e[t+1],r=e[t+2];if("function"!==typeof n){if(null===Yu(n||s))continue;break}var a=$e(s);null!==a&&(e.splice(t,3),t-=3,ui(a,{pending:!0,data:r,method:s.method,action:n},n,r))}})))}function gm(e){function t(t){return hm(t,e)}null!==em&&hm(em,e),null!==tm&&hm(tm,e),null!==sm&&hm(sm,e),nm.forEach(t),rm.forEach(t);for(var s=0;s<am.length;s++){var n=am[s];n.blockedOn===e&&(n.blockedOn=null)}for(;0<am.length&&null===(s=am[0]).blockedOn;)cm(s),null===s.blockedOn&&am.shift();if(null!=(s=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<s.length;n+=3){var r=s[n],a=s[n+1],i=r[Fe]||null;if("function"===typeof a)i||xm(s);else if(i){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,i=a[Fe]||null)o=i.formAction;else if(null!==Yu(r))continue}else o=i.action;"function"===typeof o?s[n+1]=o:(s.splice(n,3),n-=3),xm(s)}}}function fm(e){this._internalRoot=e}function bm(e){this._internalRoot=e}bm.prototype.render=fm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vu(t.current,Tc(),e,t,null,null)},bm.prototype.unmount=fm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&sd(),Vu(e.current,2,null,e,null,null),Fc(),t[Ue]=null}},bm.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var s=0;s<am.length&&0!==t&&t<am[s].priority;s++);am.splice(s,0,e),0===s&&cm(e)}};var vm=r.version;if("19.0.0"!==vm)throw Error(i(527,vm,"19.0.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=L(e)))throw Error(i(188));return t!==e?null:e}for(var s=e,n=t;;){var r=s.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(n=r.return)){s=n;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===s)return F(r),e;if(a===n)return F(r),t;a=a.sibling}throw Error(i(188))}if(s.return!==n.return)s=r,n=a;else{for(var o=!1,l=r.child;l;){if(l===s){o=!0,s=r,n=a;break}if(l===n){o=!0,n=r,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=r;break}if(l===n){o=!0,n=a,s=r;break}l=l.sibling}if(!o)throw Error(i(189))}}if(s.alternate!==n)throw Error(i(190))}if(3!==s.tag)throw Error(i(188));return s.stateNode.current===s?e:t}(t),e=null===(e=null!==e?U(e):null)?null:e.stateNode};var ym={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:We,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jm.isDisabled&&jm.supportsFiber)try{fe=jm.inject(ym),be=jm}catch(wm){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var s=!1,n="",r=Mi,a=Di,l=Li;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Fu(e,1,!1,null,0,s,n,r,a,l,0,null),e[Ue]=t.current,Rd(8===e.nodeType?e.parentNode:e),new fm(t)},t.hydrateRoot=function(e,t,s){if(!o(e))throw Error(i(299));var n=!1,r="",a=Mi,l=Di,c=Li,d=null;return null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(r=s.identifierPrefix),void 0!==s.onUncaughtError&&(a=s.onUncaughtError),void 0!==s.onCaughtError&&(l=s.onCaughtError),void 0!==s.onRecoverableError&&(c=s.onRecoverableError),void 0!==s.unstable_transitionCallbacks&&s.unstable_transitionCallbacks,void 0!==s.formState&&(d=s.formState)),(t=Fu(e,1,!0,t,0,n,r,a,l,c,0,d)).context=Uu(null),s=t.current,(r=Po(n=Tc())).callback=null,Ro(s,r,n),t.current.lanes=n,Pe(t,n),gd(t),e[Ue]=t.current,Rd(e),new bm(t)},t.version="19.0.0"},672:(e,t,s)=>{var n=s(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,s){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.flushSync=function(e){var t=l.T,s=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=s,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var s=t.as,n=c(s,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===s?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:r,fetchPriority:a}):"script"===s&&i.d.X(e,{crossOrigin:n,integrity:r,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var s=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var s=t.as,n=c(s,t.crossOrigin);i.d.L(e,s,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var s=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,s){return l.H.useFormState(e,t,s)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(4)},950:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(672)},799:(e,t)=>{var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var a in n={},t)"key"!==a&&(n[a]=t[a]);else n=t;return t=n.ref,{$$typeof:s,type:e,key:r,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=r,t.jsxs=r},288:(e,t)=>{var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function f(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||p}function b(){}function v(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||p}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=f.prototype;var y=v.prototype=new b;y.constructor=v,x(y,f.prototype),y.isPureReactComponent=!0;var j=Array.isArray,N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function k(e,t,n,r,a,i){return n=i.ref,{$$typeof:s,type:e,key:t,ref:void 0!==n?n:null,props:i}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(){}function A(e,t,r,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case s:case n:d=!0;break;case m:return A((d=e._init)(e._payload),t,r,a,i)}}if(d)return i=i(e),d=""===a?"."+E(e,0):a,j(i)?(r="",null!=d&&(r=d.replace(C,"$&/")+"/"),A(i,t,r,"",(function(e){return e}))):null!=i&&(S(i)&&(l=i,c=r+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+d,i=k(l.type,c,void 0,0,0,l.props)),t.push(i)),1;d=0;var u,p=""===a?".":a+":";if(j(e))for(var x=0;x<e.length;x++)d+=A(a=e[x],t,r,o=p+E(a,x),i);else if("function"===typeof(x=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=x.call(e),x=0;!(a=e.next()).done;)d+=A(a=a.value,t,r,o=p+E(a,x++),i);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function I(e,t,s){if(null==e)return e;var n=[],r=0;return A(e,n,"","",(function(e){return t.call(s,e,r++)})),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:I,forEach:function(e,t,s){I(e,(function(){t.apply(this,arguments)}),s)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=r,t.Profiler=i,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=x({},e.props),r=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!w.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(n[a]=t[a]);var a=arguments.length-2;if(1===a)n.children=s;else if(1<a){for(var i=Array(a),o=0;o<a;o++)i[o]=arguments[o+2];n.children=i}return k(e.type,r,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,s){var n,r={},a=null;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)w.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(r[n]=t[n]);var i=arguments.length-2;if(1===i)r.children=s;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===r[n]&&(r[n]=i[n]);return k(e,a,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,s={};N.T=s;try{var n=e(),r=N.S;null!==r&&r(s,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(R,P)}catch(a){P(a)}finally{N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,s){return N.H.useActionState(e,t,s)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return N.H.useEffect(e,t)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,s){return N.H.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,s){return N.H.useReducer(e,t,s)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,s){return N.H.useSyncExternalStore(e,t,s)},t.useTransition=function(){return N.H.useTransition()},t.version="19.0.0"},43:(e,t,s)=>{e.exports=s(288)},579:(e,t,s)=>{e.exports=s(799)},896:(e,t)=>{function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var n=s-1>>>1,r=e[n];if(!(0<a(r,t)))break e;e[n]=t,e[s]=r,s=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var n=0,r=e.length,i=r>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,s))c<r&&0>a(d,l)?(e[n]=d,e[c]=s,n=c):(e[n]=l,e[o]=s,n=o);else{if(!(c<r&&0>a(d,s)))break e;e[n]=d,e[c]=s,n=c}}}return t}function a(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,x=!1,g=!1,f="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,s(c,t)}t=n(d)}}function j(e){if(g=!1,y(e),!x)if(null!==n(c))x=!0,T();else{var t=n(d);null!==t&&P(j,t.startTime-e)}}var N,w=!1,k=-1,S=5,C=-1;function E(){return!(t.unstable_now()-C<S)}function _(){if(w){var e=t.unstable_now();C=e;var s=!0;try{e:{x=!1,g&&(g=!1,b(k),k=-1),p=!0;var a=h;try{t:{for(y(e),m=n(c);null!==m&&!(m.expirationTime>e&&E());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var o=i(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){m.callback=o,y(e),s=!0;break t}m===n(c)&&r(c),y(e)}else r(c);m=n(c)}if(null!==m)s=!0;else{var l=n(d);null!==l&&P(j,l.startTime-e),s=!1}}break e}finally{m=null,h=a,p=!1}s=void 0}}finally{s?N():w=!1}}}if("function"===typeof v)N=function(){v(_)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=_,N=function(){I.postMessage(null)}}else N=function(){f(_,0)};function T(){w||(w=!0,N())}function P(e,s){k=f((function(){e(t.unstable_now())}),s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,T())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var s=h;h=t;try{return e()}finally{h=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=h;h=e;try{return t()}finally{h=s}},t.unstable_scheduleCallback=function(e,r,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,s(d,e),null===n(c)&&e===n(d)&&(g?(b(k),k=-1):g=!0,P(j,a-i))):(e.sortIndex=o,s(c,e),x||p||(x=!0,T())),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var s=h;h=t;try{return e.apply(this,arguments)}finally{h=s}}}},853:(e,t,s)=>{e.exports=s(896)}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};s.r(n),s.d(n,{hasBrowserEnv:()=>Vh,hasStandardBrowserEnv:()=>qh,hasStandardBrowserWebWorkerEnv:()=>Hh,navigator:()=>Bh,origin:()=>Gh});var r=s(43),a=s(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function l(e,t,s){return(t=o(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function u(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}const m=["onSuccess","onError","useOneTap","promptMomentNotification","type","theme","size","text","shape","logo_alignment","width","locale","click_listener","containerProps"];const h=(0,r.createContext)(null);function p(e){let{clientId:t,nonce:s,onScriptLoadSuccess:n,onScriptLoadError:a,children:i}=e;const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:t,onScriptLoadSuccess:s,onScriptLoadError:n}=e,[a,i]=(0,r.useState)(!1),o=(0,r.useRef)(s);o.current=s;const l=(0,r.useRef)(n);return l.current=n,(0,r.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;i(!0),null===(e=o.current)||void 0===e||e.call(o)},e.onerror=()=>{var e;i(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[t]),a}({nonce:s,onScriptLoadSuccess:n,onScriptLoadError:a}),l=(0,r.useMemo)((()=>({clientId:t,scriptLoadedSuccessfully:o})),[t,o]);return r.createElement(h.Provider,{value:l},i)}function x(){const e=(0,r.useContext)(h);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function g(e){var t;return null!==(t=null===e||void 0===e?void 0:e.clientId)&&void 0!==t?t:null===e||void 0===e?void 0:e.client_id}const f={large:40,medium:32,small:20};function b(e){let{onSuccess:t,onError:s,useOneTap:n,promptMomentNotification:a,type:i="standard",theme:o="outline",size:l="large",text:c,shape:h,logo_alignment:p,width:b,locale:v,click_listener:y,containerProps:j}=e,N=u(e,m);const w=(0,r.useRef)(null),{clientId:k,scriptLoadedSuccessfully:S}=x(),C=(0,r.useRef)(t);C.current=t;const E=(0,r.useRef)(s);E.current=s;const _=(0,r.useRef)(a);return _.current=a,(0,r.useEffect)((()=>{var e,t,s,r,a,u,m,x,f;if(S)return null===(s=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===s||s.initialize(d({client_id:k,callback:e=>{var t;if(!(null===e||void 0===e?void 0:e.credential))return null===(t=E.current)||void 0===t?void 0:t.call(E);const{credential:s,select_by:n}=e;C.current({credential:s,clientId:g(e),select_by:n})}},N)),null===(u=null===(a=null===(r=null===window||void 0===window?void 0:window.google)||void 0===r?void 0:r.accounts)||void 0===a?void 0:a.id)||void 0===u||u.renderButton(w.current,{type:i,theme:o,size:l,text:c,shape:h,logo_alignment:p,width:b,locale:v,click_listener:y}),n&&(null===(f=null===(x=null===(m=null===window||void 0===window?void 0:window.google)||void 0===m?void 0:m.accounts)||void 0===x?void 0:x.id)||void 0===f||f.prompt(_.current)),()=>{var e,t,s;n&&(null===(s=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===s||s.cancel())}}),[k,S,n,i,o,l,c,h,p,b,v]),r.createElement("div",d(d({},j),{},{ref:w,style:d({height:f[l]},null===j||void 0===j?void 0:j.style)}))}const v=function(e){const t=[];let s=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[s++]=r:r<2048?(t[s++]=r>>6|192,t[s++]=63&r|128):55296===(64512&r)&&n+1<e.length&&56320===(64512&e.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),t[s++]=r>>18|240,t[s++]=r>>12&63|128,t[s++]=r>>6&63|128,t[s++]=63&r|128):(t[s++]=r>>12|224,t[s++]=r>>6&63|128,t[s++]=63&r|128)}return t},y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<e.length;r+=3){const t=e[r],a=r+1<e.length,i=a?e[r+1]:0,o=r+2<e.length,l=o?e[r+2]:0,c=t>>2,d=(3&t)<<4|i>>4;let u=(15&i)<<2|l>>6,m=63&l;o||(m=64,a||(u=64)),n.push(s[c],s[d],s[u],s[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(v(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let s=0,n=0;for(;s<e.length;){const r=e[s++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[s++];t[n++]=String.fromCharCode((31&r)<<6|63&a)}else if(r>239&&r<365){const a=((7&r)<<18|(63&e[s++])<<12|(63&e[s++])<<6|63&e[s++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else{const a=e[s++],i=e[s++];t[n++]=String.fromCharCode((15&r)<<12|(63&a)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<e.length;){const t=s[e.charAt(r++)],a=r<e.length?s[e.charAt(r)]:0;++r;const i=r<e.length?s[e.charAt(r)]:64;++r;const o=r<e.length?s[e.charAt(r)]:64;if(++r,null==t||null==a||null==i||null==o)throw new j;const l=t<<2|a>>4;if(n.push(l),64!==i){const e=a<<4&240|i>>2;if(n.push(e),64!==o){const e=i<<6&192|o;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class j extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N=function(e){return function(e){const t=v(e);return y.encodeByteArray(t,!0)}(e).replace(/\./g,"")},w=function(e){try{return y.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function k(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof s.g)return s.g;throw new Error("Unable to locate global object.")}const S=()=>{try{return k().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"443",FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(s){return}const t=e&&w(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},C=e=>{var t;return null===(t=S())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},E=e=>{const t=C(e);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const n=parseInt(t.substring(s+1),10);return"["===t[0]?[t.substring(1,s-1),n]:[t.substring(0,s),n]},_=()=>{var e;return null===(e=S())||void 0===e?void 0:e.config},A=e=>{var t;return null===(t=S())||void 0===t?void 0:t["_".concat(e)]};class I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,s))}}}function T(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function P(e){return(await fetch(e,{credentials:"include"})).ok}const R={};let O=!1;function M(e,t){if("undefined"===typeof window||"undefined"===typeof document||!T(window.location.host)||R[e]===t||R[e]||O)return;function s(e){return"__firebase__banner__".concat(e)}R[e]=t;const n="__firebase__banner",r=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(R))R[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{O=!0,function(){const e=document.getElementById(n);e&&e.remove()}()},e}function i(){const e=function(e){let t=document.getElementById(e),s=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),s=!0),{created:s,element:t}}(n),t=s("text"),i=document.getElementById(t)||document.createElement("span"),o=s("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=s("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const s=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,i,l,s),document.body.appendChild(t)}r?(i.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',i.innerText="Preview backend running in this workspace."),i.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",i):i()}function D(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function L(){var e;const t=null===(e=S())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(s.g.process)}catch(n){return!1}}function z(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function F(){return!L()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){try{return"object"===typeof indexedDB}catch(e){return!1}}function V(){return new Promise(((e,t)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),s||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{s=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(s){t(s)}}))}class B extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name="FirebaseError",Object.setPrototypeOf(this,B.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},s="".concat(this.service,"/").concat(e),n=this.errors[e],r=n?function(e,t){return e.replace(H,((e,s)=>{const n=t[s];return null!=n?String(n):"<".concat(s,"?>")}))}(n,t):"Error",a="".concat(this.serviceName,": ").concat(r," (").concat(s,").");return new B(s,a,t)}}const H=/\{\$([^}]+)}/g;function G(e,t){if(e===t)return!0;const s=Object.keys(e),n=Object.keys(t);for(const r of s){if(!n.includes(r))return!1;const s=e[r],a=t[r];if(K(s)&&K(a)){if(!G(s,a))return!1}else if(s!==a)return!1}for(const r of n)if(!s.includes(r))return!1;return!0}function K(e){return null!==e&&"object"===typeof e}function W(e){const t=[];for(const[s,n]of Object.entries(e))Array.isArray(n)?n.forEach((e=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(s)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function $(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[s,n]=e.split("=");t[decodeURIComponent(s)]=decodeURIComponent(n)}})),t}function J(e){const t=e.indexOf("?");if(!t)return"";const s=e.indexOf("#",t);return e.substring(t,s>0?s:void 0)}class Q{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,s){let n;if(void 0===e&&void 0===t&&void 0===s)throw new Error("Missing Observer.");n=function(e,t){if("object"!==typeof e||null===e)return!1;for(const s of t)if(s in e&&"function"===typeof e[s])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:s},void 0===n.next&&(n.next=Y),void 0===n.error&&(n.error=Y),void 0===n.complete&&(n.complete=Y);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}})),this.observers.push(n),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(s){"undefined"!==typeof console&&console.error&&console.error(s)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Y(){}function X(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const s=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),n=Math.round(.5*s*(Math.random()-.5)*2);return Math.min(144e5,s+n)}function Z(e){return e&&e._delegate?e._delegate:e}class ee{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const te="[DEFAULT]";class se{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new I;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&e.resolve(s)}catch(s){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),n=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(s)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(n)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:te})}catch(t){}for(const[e,s]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});s.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error("".concat(this.name,"(").concat(s,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const n=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[r,a]of this.instancesDeferred.entries()){s===this.normalizeInstanceIdentifier(r)&&a.resolve(n)}return n}onInit(e,t){var s;const n=this.normalizeInstanceIdentifier(t),r=null!==(s=this.onInitCallbacks.get(n))&&void 0!==s?s:new Set;r.add(e),this.onInitCallbacks.set(n,r);const a=this.instances.get(n);return a&&e(a,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const r of s)try{r(e,t)}catch(n){}}getOrInitializeService(e){let{instanceIdentifier:t,options:s={}}=e,n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===te?void 0:r),options:s}),this.instances.set(t,n),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(a){}var r;return n||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.component?this.component.multipleInstances?e:te:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new se(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const re=[];var ae;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ae||(ae={}));const ie={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},oe=ae.INFO,le={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},ce=function(e,t){if(t<e.logLevel)return;const s=(new Date).toISOString(),n=le[t];if(!n)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];console[n]("[".concat(s,"]  ").concat(e.name,":"),...a)};class de{constructor(e){this.name=e,this._logLevel=oe,this._logHandler=ce,this._userLogHandler=null,re.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}let ue,me;const he=new WeakMap,pe=new WeakMap,xe=new WeakMap,ge=new WeakMap,fe=new WeakMap;let be={get(e,t,s){if(e instanceof IDBTransaction){if("done"===t)return pe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||xe.get(e);if("store"===t)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return je(e[t])},set:(e,t,s)=>(e[t]=s,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ve(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e.apply(Ne(this),s),je(he.get(this))}:function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return je(e.apply(Ne(this),s))}:function(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];const a=e.call(Ne(this),t,...n);return xe.set(a,t.sort?t.sort():[t]),je(a)}}function ye(e){return"function"===typeof e?ve(e):(e instanceof IDBTransaction&&function(e){if(pe.has(e))return;const t=new Promise(((t,s)=>{const n=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{t(),n()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)}));pe.set(e,t)}(e),t=e,(ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,be):e);var t}function je(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,s)=>{const n=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{t(je(e.result)),n()},a=()=>{s(e.error),n()};e.addEventListener("success",r),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&he.set(t,e)})).catch((()=>{})),fe.set(t,e),t}(e);if(ge.has(e))return ge.get(e);const t=ye(e);return t!==e&&(ge.set(e,t),fe.set(t,e)),t}const Ne=e=>fe.get(e);function we(e,t){let{blocked:s,upgrade:n,blocking:r,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),o=je(i);return n&&i.addEventListener("upgradeneeded",(e=>{n(je(i.result),e.oldVersion,e.newVersion,je(i.transaction),e)})),s&&i.addEventListener("blocked",(e=>s(e.oldVersion,e.newVersion,e))),o.then((e=>{a&&e.addEventListener("close",(()=>a())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const ke=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],Ce=new Map;function Ee(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ce.get(t))return Ce.get(t);const s=t.replace(/FromIndex$/,""),n=t!==s,r=Se.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!ke.includes(s))return;const a=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let a=t.store;for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return n&&(a=a.index(o.shift())),(await Promise.all([a[s](...o),r&&t.done]))[0]};return Ce.set(t,a),a}be=(e=>d(d({},e),{},{get:(t,s,n)=>Ee(t,s)||e.get(t,s,n),has:(t,s)=>!!Ee(t,s)||e.has(t,s)}))(be);class _e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ae="@firebase/app",Ie="0.14.0",Te=new de("@firebase/app"),Pe="@firebase/app-compat",Re="@firebase/analytics-compat",Oe="@firebase/analytics",Me="@firebase/app-check-compat",De="@firebase/app-check",Le="@firebase/auth",ze="@firebase/auth-compat",Fe="@firebase/database",Ue="@firebase/data-connect",Ve="@firebase/database-compat",Be="@firebase/functions",qe="@firebase/functions-compat",He="@firebase/installations",Ge="@firebase/installations-compat",Ke="@firebase/messaging",We="@firebase/messaging-compat",$e="@firebase/performance",Je="@firebase/performance-compat",Qe="@firebase/remote-config",Ye="@firebase/remote-config-compat",Xe="@firebase/storage",Ze="@firebase/storage-compat",et="@firebase/firestore",tt="@firebase/ai",st="@firebase/firestore-compat",nt="firebase",rt="[DEFAULT]",at={[Ae]:"fire-core",[Pe]:"fire-core-compat",[Oe]:"fire-analytics",[Re]:"fire-analytics-compat",[De]:"fire-app-check",[Me]:"fire-app-check-compat",[Le]:"fire-auth",[ze]:"fire-auth-compat",[Fe]:"fire-rtdb",[Ue]:"fire-data-connect",[Ve]:"fire-rtdb-compat",[Be]:"fire-fn",[qe]:"fire-fn-compat",[He]:"fire-iid",[Ge]:"fire-iid-compat",[Ke]:"fire-fcm",[We]:"fire-fcm-compat",[$e]:"fire-perf",[Je]:"fire-perf-compat",[Qe]:"fire-rc",[Ye]:"fire-rc-compat",[Xe]:"fire-gcs",[Ze]:"fire-gcs-compat",[et]:"fire-fst",[st]:"fire-fst-compat",[tt]:"fire-vertex","fire-js":"fire-js",[nt]:"fire-js-all"},it=new Map,ot=new Map,lt=new Map;function ct(e,t){try{e.container.addComponent(t)}catch(s){Te.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),s)}}function dt(e){const t=e.name;if(lt.has(t))return Te.debug("There were multiple attempts to register component ".concat(t,".")),!1;lt.set(t,e);for(const s of it.values())ct(s,e);for(const s of ot.values())ct(s,e);return!0}function ut(e,t){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(t)}function mt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const ht=new q("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class pt{constructor(e,t,s){this._isDeleted=!1,this._options=d({},e),this._config=d({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ee("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ht.create("app-deleted",{appName:this._name})}}const xt="12.0.0";function gt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e;if("object"!==typeof t){t={name:t}}const n=d({name:rt,automaticDataCollectionEnabled:!0},t),r=n.name;if("string"!==typeof r||!r)throw ht.create("bad-app-name",{appName:String(r)});if(s||(s=_()),!s)throw ht.create("no-options");const a=it.get(r);if(a){if(G(s,a.options)&&G(n,a.config))return a;throw ht.create("duplicate-app",{appName:r})}const i=new ne(r);for(const l of lt.values())i.addComponent(l);const o=new pt(s,n,i);return it.set(r,o),o}function ft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;const t=it.get(e);if(!t&&e===rt&&_())return gt();if(!t)throw ht.create("no-app",{appName:e});return t}function bt(e,t,s){var n;let r=null!==(n=at[e])&&void 0!==n?n:e;s&&(r+="-".concat(s));const a=r.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),a&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Te.warn(e.join(" "))}dt(new ee("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}const vt="firebase-heartbeat-store";let yt=null;function jt(){return yt||(yt=we("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(vt)}catch(s){console.warn(s)}}}).catch((e=>{throw ht.create("idb-open",{originalErrorMessage:e.message})}))),yt}async function Nt(e,t){try{const s=(await jt()).transaction(vt,"readwrite"),n=s.objectStore(vt);await n.put(t,wt(e)),await s.done}catch(s){if(s instanceof B)Te.warn(s.message);else{const e=ht.create("idb-set",{originalErrorMessage:null===s||void 0===s?void 0:s.message});Te.warn(e.message)}}}function wt(e){return"".concat(e.name,"!").concat(e.options.appId)}class kt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ct(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){try{var e;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=St();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:s}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,s=e[0].date;for(let n=1;n<e.length;n++)e[n].date<s&&(s=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Te.warn(s)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=St(),{heartbeatsToSend:s,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const s=[];let n=e.slice();for(const r of e){const e=s.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),Et(s)>t){e.dates.pop();break}}else if(s.push({agent:r.agent,dates:[r.date]}),Et(s)>t){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}(this._heartbeatsCache.heartbeats),r=N(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Te.warn(t),""}}}function St(){return(new Date).toISOString().substring(0,10)}class Ct{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!U()&&V().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await jt()).transaction(vt),s=await t.objectStore(vt).get(wt(e));return await t.done,s}catch(t){if(t instanceof B)Te.warn(t.message);else{const e=ht.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Te.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const s=await this.read();return Nt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const s=await this.read();return Nt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}}}function Et(e){return N(JSON.stringify({version:2,heartbeats:e})).length}var _t;_t="",dt(new ee("platform-logger",(e=>new _e(e)),"PRIVATE")),dt(new ee("heartbeat",(e=>new kt(e)),"PRIVATE")),bt(Ae,Ie,_t),bt(Ae,Ie,"esm2020"),bt("fire-js","");bt("firebase","12.0.0","app");var At,It="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Tt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function s(e,t,s){s||(s=0);var n=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)n[r]=t.charCodeAt(s++)|t.charCodeAt(s++)<<8|t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<24;else for(r=0;16>r;++r)n[r]=t[s++]|t[s++]<<8|t[s++]<<16|t[s++]<<24;t=e.g[0],s=e.g[1],r=e.g[2];var a=e.g[3],i=t+(a^s&(r^a))+n[0]+3614090360&4294967295;i=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=(s=(r=(a=(t=s+(i<<7&4294967295|i>>>25))+((i=a+(r^t&(s^r))+n[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=r+(s^a&(t^s))+n[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=s+(t^r&(a^t))+n[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^s&(r^a))+n[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=a+(r^t&(s^r))+n[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=r+(s^a&(t^s))+n[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=s+(t^r&(a^t))+n[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^s&(r^a))+n[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=a+(r^t&(s^r))+n[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=r+(s^a&(t^s))+n[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=s+(t^r&(a^t))+n[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^s&(r^a))+n[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=a+(r^t&(s^r))+n[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=r+(s^a&(t^s))+n[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=s+(t^r&(a^t))+n[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(r^a&(s^r))+n[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=a+(s^r&(t^s))+n[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^s&(a^t))+n[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=s+(a^t&(r^a))+n[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^a&(s^r))+n[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=a+(s^r&(t^s))+n[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^s&(a^t))+n[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=s+(a^t&(r^a))+n[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^a&(s^r))+n[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=a+(s^r&(t^s))+n[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^s&(a^t))+n[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=s+(a^t&(r^a))+n[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^a&(s^r))+n[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=a+(s^r&(t^s))+n[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^s&(a^t))+n[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=s+(a^t&(r^a))+n[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(s^r^a)+n[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^s^r)+n[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=r+(a^t^s)+n[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=s+(r^a^t)+n[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(s^r^a)+n[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^s^r)+n[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=r+(a^t^s)+n[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=s+(r^a^t)+n[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(s^r^a)+n[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^s^r)+n[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=r+(a^t^s)+n[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=s+(r^a^t)+n[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(s^r^a)+n[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^s^r)+n[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=r+(a^t^s)+n[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=s+(r^a^t)+n[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(r^(s|~a))+n[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=a+(s^(t|~r))+n[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(a|~s))+n[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=s+(a^(r|~t))+n[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(r^(s|~a))+n[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=a+(s^(t|~r))+n[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(a|~s))+n[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=s+(a^(r|~t))+n[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(r^(s|~a))+n[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=a+(s^(t|~r))+n[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(a|~s))+n[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=s+(a^(r|~t))+n[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((a=(t=s+((i=t+(r^(s|~a))+n[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=a+(s^(t|~r))+n[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((r=a+((i=r+(t^(a|~s))+n[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+a&4294967295}function n(e,t){this.h=t;for(var s=[],n=!0,r=e.length-1;0<=r;r--){var a=0|e[r];n&&a==t||(s[r]=a,n=!1)}this.g=s}!function(e,t){function s(){}s.prototype=t.prototype,e.D=t.prototype,e.prototype=new s,e.prototype.constructor=e,e.C=function(e,s,n){for(var r=Array(arguments.length-2),a=2;a<arguments.length;a++)r[a-2]=arguments[a];return t.prototype[s].apply(e,r)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.B,a=this.h,i=0;i<t;){if(0==a)for(;i<=n;)s(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[a++]=e.charCodeAt(i++),a==this.blockSize){s(this,r),a=0;break}}else for(;i<t;)if(r[a++]=e[i++],a==this.blockSize){s(this,r),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var s=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&s,s/=256;for(this.u(e),e=Array(16),t=s=0;4>t;++t)for(var n=0;32>n;n+=8)e[s++]=this.g[t]>>>n&255;return e};var r={};function a(e){return-128<=e&&128>e?function(e,t){var s=r;return Object.prototype.hasOwnProperty.call(s,e)?s[e]:s[e]=t(e)}(e,(function(e){return new n([0|e],0>e?-1:0)})):new n([0|e],0>e?-1:0)}function i(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return m(i(-e));for(var t=[],s=1,r=0;e>=s;r++)t[r]=e/s|0,s*=4294967296;return new n(t,0)}var o=a(0),l=a(1),c=a(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function u(e){return-1==e.h}function m(e){for(var t=e.g.length,s=[],r=0;r<t;r++)s[r]=~e.g[r];return new n(s,~e.h).add(l)}function h(e,t){return e.add(m(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function x(e,t){this.g=e,this.h=t}function g(e,t){if(d(t))throw Error("division by zero");if(d(e))return new x(o,o);if(u(e))return t=g(m(e),t),new x(m(t.g),m(t.h));if(u(t))return t=g(e,m(t)),new x(m(t.g),t.h);if(30<e.g.length){if(u(e)||u(t))throw Error("slowDivide_ only works with positive integers.");for(var s=l,n=t;0>=n.l(e);)s=f(s),n=f(n);var r=b(s,1),a=b(n,1);for(n=b(n,2),s=b(s,2);!d(n);){var c=a.add(n);0>=c.l(e)&&(r=r.add(s),a=c),n=b(n,1),s=b(s,1)}return t=h(e,r.j(t)),new x(r,t)}for(r=o;0<=e.l(t);){for(s=Math.max(1,Math.floor(e.m()/t.m())),n=48>=(n=Math.ceil(Math.log(s)/Math.LN2))?1:Math.pow(2,n-48),c=(a=i(s)).j(t);u(c)||0<c.l(e);)c=(a=i(s-=n)).j(t);d(a)&&(a=l),r=r.add(a),e=h(e,c)}return new x(r,e)}function f(e){for(var t=e.g.length+1,s=[],r=0;r<t;r++)s[r]=e.i(r)<<1|e.i(r-1)>>>31;return new n(s,e.h)}function b(e,t){var s=t>>5;t%=32;for(var r=e.g.length-s,a=[],i=0;i<r;i++)a[i]=0<t?e.i(i+s)>>>t|e.i(i+s+1)<<32-t:e.i(i+s);return new n(a,e.h)}(e=n.prototype).m=function(){if(u(this))return-m(this).m();for(var e=0,t=1,s=0;s<this.g.length;s++){var n=this.i(s);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(u(this))return"-"+m(this).toString(e);for(var t=i(Math.pow(e,6)),s=this,n="";;){var r=g(s,t).g,a=((0<(s=h(s,r.j(t))).g.length?s.g[0]:s.h)>>>0).toString(e);if(d(s=r))return a+n;for(;6>a.length;)a="0"+a;n=a+n}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=h(this,e))?-1:d(e)?0:1},e.abs=function(){return u(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),s=[],r=0,a=0;a<=t;a++){var i=r+(65535&this.i(a))+(65535&e.i(a)),o=(i>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);r=o>>>16,i&=65535,o&=65535,s[a]=o<<16|i}return new n(s,-2147483648&s[s.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return o;if(u(this))return u(e)?m(this).j(m(e)):m(m(this).j(e));if(u(e))return m(this.j(m(e)));if(0>this.l(c)&&0>e.l(c))return i(this.m()*e.m());for(var t=this.g.length+e.g.length,s=[],r=0;r<2*t;r++)s[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<e.g.length;a++){var l=this.i(r)>>>16,h=65535&this.i(r),x=e.i(a)>>>16,g=65535&e.i(a);s[2*r+2*a]+=h*g,p(s,2*r+2*a),s[2*r+2*a+1]+=l*g,p(s,2*r+2*a+1),s[2*r+2*a+1]+=h*x,p(s,2*r+2*a+1),s[2*r+2*a+2]+=l*x,p(s,2*r+2*a+2)}for(r=0;r<t;r++)s[r]=s[2*r+1]<<16|s[2*r];for(r=t;r<2*t;r++)s[r]=0;return new n(s,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),s=[],r=0;r<t;r++)s[r]=this.i(r)&e.i(r);return new n(s,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),s=[],r=0;r<t;r++)s[r]=this.i(r)|e.i(r);return new n(s,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),s=[],r=0;r<t;r++)s[r]=this.i(r)^e.i(r);return new n(s,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Tt.Md5=t,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=i,n.fromString=function e(t,s){if(0==t.length)throw Error("number format error: empty string");if(2>(s=s||10)||36<s)throw Error("radix out of range: "+s);if("-"==t.charAt(0))return m(e(t.substring(1),s));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=i(Math.pow(s,8)),r=o,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),s);8>l?(l=i(Math.pow(s,l)),r=r.j(l).add(i(c))):r=(r=r.j(n)).add(i(c))}return r},At=Tt.Integer=n}).apply("undefined"!==typeof It?It:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Pt,Rt,Ot,Mt,Dt,Lt,zt,Ft,Ut="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Vt={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,s){return e==Array.prototype||e==Object.prototype||(e[t]=s.value),e};var s=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ut&&Ut];for(var t=0;t<e.length;++t){var s=e[t];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")}(this);!function(e,n){if(n)e:{var r=s;e=e.split(".");for(var a=0;a<e.length-1;a++){var i=e[a];if(!(i in r))break e;r=r[i]}(n=n(a=r[e=e[e.length-1]]))!=a&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var s=0,n=!1,r={next:function(){if(!n&&s<e.length){var r=s++;return{value:t(r,e[r]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return t}))}}));var n=n||{},r=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,s){return e.call.apply(e.bind,arguments)}function l(e,t,s){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,n),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function c(e,t,s){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function d(e,t){var s=Array.prototype.slice.call(arguments,1);return function(){var t=s.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function s(){}s.prototype=t.prototype,e.aa=t.prototype,e.prototype=new s,e.prototype.constructor=e,e.Qb=function(e,s,n){for(var r=Array(arguments.length-2),a=2;a<arguments.length;a++)r[a-2]=arguments[a];return t.prototype[s].apply(e,r)}}function m(e){const t=e.length;if(0<t){const s=Array(t);for(let n=0;n<t;n++)s[n]=e[n];return s}return[]}function h(e,t){for(let s=1;s<arguments.length;s++){const t=arguments[s];if(a(t)){const s=e.length||0,n=t.length||0;e.length=s+n;for(let r=0;r<n;r++)e[s+r]=t[r]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function x(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var f=-1!=x().indexOf("Gecko")&&!(-1!=x().toLowerCase().indexOf("webkit")&&-1==x().indexOf("Edge"))&&!(-1!=x().indexOf("Trident")||-1!=x().indexOf("MSIE"))&&-1==x().indexOf("Edge");function b(e,t,s){for(const n in e)t.call(s,e[n],n,e)}function v(e){const t={};for(const s in e)t[s]=e[s];return t}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){let s,n;for(let r=1;r<arguments.length;r++){for(s in n=arguments[r],n)e[s]=n[s];for(let t=0;t<y.length;t++)s=y[t],Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}}function N(e){var t=1;e=e.split(":");const s=[];for(;0<t&&e.length;)s.push(e.shift()),t--;return e.length&&s.push(e.join(":")),s}function w(e){r.setTimeout((()=>{throw e}),0)}function k(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,_=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const s=S.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},I=()=>{const e=r.Promise.resolve(void 0);E=()=>{e.then(T)}};var T=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(s){w(s)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(s){}return e}();function M(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var s=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(f){e:{try{g(t.nodeName);var r=!0;break e}catch(a){}r=!1}r||(t=null)}}else"mouseover"==s?t=e.fromElement:"mouseout"==s&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:D[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}u(M,R);var D={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),z=0;function F(e,t,s,n,r){this.listener=e,this.proxy=null,this.src=t,this.type=s,this.capture=!!n,this.ha=r,this.key=++z,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var s=t.type;if(s in e.g){var n,r=e.g[s],a=Array.prototype.indexOf.call(r,t,void 0);(n=0<=a)&&Array.prototype.splice.call(r,a,1),n&&(U(t),0==e.g[s].length&&(delete e.g[s],e.h--))}}function q(e,t,s,n){for(var r=0;r<e.length;++r){var a=e[r];if(!a.da&&a.listener==t&&a.capture==!!s&&a.ha==n)return r}return-1}V.prototype.add=function(e,t,s,n,r){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var i=q(e,t,n,r);return-1<i?(t=e[i],s||(t.fa=!1)):((t=new F(t,this.src,a,!!n,r)).fa=s,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),G={};function K(e,t,s,n,r){if(n&&n.once)return $(e,t,s,n,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],s,n,r);return null}return s=te(s),e&&e[L]?e.K(t,s,i(n)?!!n.capture:!!n,r):W(e,t,s,!1,n,r)}function W(e,t,s,n,r,a){if(!t)throw Error("Invalid event type");var o=i(r)?!!r.capture:!!r,l=Z(e);if(l||(e[H]=l=new V(e)),(s=l.add(t,s,n,o,a)).proxy)return s;if(n=function(){function e(s){return t.call(e.src,e.listener,s)}const t=X;return e}(),s.proxy=n,n.src=e,n.listener=s,e.addEventListener)O||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),n,r);else if(e.attachEvent)e.attachEvent(Y(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return s}function $(e,t,s,n,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)$(e,t[a],s,n,r);return null}return s=te(s),e&&e[L]?e.L(t,s,i(n)?!!n.capture:!!n,r):W(e,t,s,!0,n,r)}function J(e,t,s,n,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)J(e,t[a],s,n,r);else n=i(n)?!!n.capture:!!n,s=te(s),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(s=q(a=e.g[t],s,n,r))&&(U(a[s]),Array.prototype.splice.call(a,s,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,s,n,r)),(s=-1<e?t[e]:null)&&Q(s))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var s=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(s,n,e.capture):t.detachEvent?t.detachEvent(Y(s),n):t.addListener&&t.removeListener&&t.removeListener(n),(s=Z(t))?(B(s,e),0==s.h&&(s.src=null,t[H]=null)):U(e)}}}function Y(e){return e in G?G[e]:G[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new M(t,this);var s=e.listener,n=e.ha||e.src;e.fa&&Q(e),e=s.call(n,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function se(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function ne(e,t){var s,n=e.F;if(n)for(s=[];n;n=n.F)s.push(n);if(e=e.M,n=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var r=t;j(t=new R(n,e),r)}if(r=!0,s)for(var a=s.length-1;0<=a;a--){var i=t.g=s[a];r=re(i,n,!0,t)&&r}if(r=re(i=t.g=e,n,!0,t)&&r,r=re(i,n,!1,t)&&r,s)for(a=0;a<s.length;a++)r=re(i=t.g=s[a],n,!1,t)&&r}function re(e,t,s,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var i=t[a];if(i&&!i.da&&i.capture==s){var o=i.listener,l=i.ha||i.src;i.fa&&B(e.i,i),r=!1!==o.call(l,n)&&r}}return r&&!n.defaultPrevented}function ae(e,t,s){if("function"===typeof e)s&&(e=c(e,s));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function ie(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,ie(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(se,P),se.prototype[L]=!0,se.prototype.removeEventListener=function(e,t,s,n){J(this,e,t,s,n)},se.prototype.N=function(){if(se.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var s=t.g[e],n=0;n<s.length;n++)U(s[n]);delete t.g[e],t.h--}}this.F=null},se.prototype.K=function(e,t,s,n){return this.i.add(String(e),t,!1,s,n)},se.prototype.L=function(e,t,s,n){return this.i.add(String(e),t,!0,s,n)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}u(le,P);var ce=[];function de(e){b(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),de(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=r.JSON.stringify,me=r.JSON.parse,he=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function pe(){}function xe(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function be(){R.call(this,"d")}function ve(){R.call(this,"c")}u(be,R),u(ve,R);var ye={},je=null;function Ne(){return je=je||new se}function we(e){R.call(this,ye.La,e)}function ke(e){const t=Ne();ne(t,new we(t))}function Se(e,t){R.call(this,ye.STAT_EVENT,e),this.stat=t}function Ce(e){const t=Ne();ne(t,new Se(t,e))}function Ee(e,t){R.call(this,ye.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Ie(e,t,s,n){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var i=1;i<r.length;i++)r[i]=""}}}return ue(s)}catch(o){return t}}(e,s)+(n?" "+n:"")}))}ye.La="serverreachability",u(we,R),ye.STAT_EVENT="statevent",u(Se,R),ye.Ma="timingevent",u(Ee,R),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Te,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Me(e,t,s,n){this.j=e,this.i=t,this.l=s,this.R=n||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}u(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Te=new Oe;var Le={},ze={};function Fe(e,t,s){e.L=1,e.v=ut(it(t)),e.m=s,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),qe(e),e.A=it(e.v);var s=e.A,n=e.R;Array.isArray(n)||(n=[String(n)]),St(s.i,"t",n),e.C=0,s=e.j.J,e.h=new De,e.g=Ns(e.j,s?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,s=e.g,n=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(ce[0]=r.toString()),r=ce);for(var a=0;a<r.length;a++){var i=K(s,r[a],n||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,s,n,r,a){e.info((function(){if(e.g)if(a)for(var i="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var d=c[0];c=c[1];var u=d.split("_");i=2<=u.length&&"type"==u[1]?i+(d+"=")+c+"&":i+(d+"=redacted&")}}else i=null;else i=a;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+"\n"+s+"\n"+i}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var s=e.C,n=t.indexOf("\n",s);return-1==n?ze:(s=Number(t.substring(s,n)),isNaN(s)?Le:(n+=1)+s>t.length?ze:(t=t.slice(n,n+s),e.C=n+s,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function Ge(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||fs(e.j,e)}function We(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,de(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function $e(e,t){try{var s=e.j;if(0!=s.G&&(s.g==e||Ze(s.h,e)))if(!e.K&&Ze(s.h,e)&&3==s.G){try{var n=s.Da.g.parse(t)}catch(d){n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){e:if(!s.u){if(s.g){if(!(s.g.F+3e3<e.F))break e;gs(s),is(s)}hs(s),Ce(18)}}else s.za=r[1],0<s.za-s.T&&37500>r[2]&&s.F&&0==s.v&&!s.C&&(s.C=_e(c(s.Za,s),6e3));if(1>=Xe(s.h)&&s.ca){try{s.ca()}catch(d){}s.ca=void 0}}else vs(s,11)}else if((e.K||s.g==e)&&gs(s),!p(t))for(r=s.Da.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(s.T=c[0],c=c[1],2==s.G)if("c"==c[0]){s.K=c[1],s.ia=c[2];const t=c[3];null!=t&&(s.la=t,s.j.info("VER="+s.la));const r=c[4];null!=r&&(s.Aa=r,s.j.info("SVER="+s.Aa));const d=c[5];null!=d&&"number"===typeof d&&0<d&&(n=1.5*d,s.L=n,s.j.info("backChannelRequestTimeoutMs_="+n)),n=s;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=n.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(n.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.ya=e,dt(n.I,n.D,e))}}s.G=3,s.l&&s.l.ua(),s.ba&&(s.R=Date.now()-e.F,s.j.info("Handshake RTT: "+s.R+"ms"));var i=e;if((n=s).qa=js(n,n.J?n.ia:null,n.W),i.K){tt(n.h,i);var o=i,l=n.L;l&&(o.I=l),o.B&&(Ge(o),qe(o)),n.g=i}else ms(n);0<s.i.length&&ls(s)}else"stop"!=c[0]&&"close"!=c[0]||vs(s,7);else 3==s.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?vs(s,7):as(s):"noop"!=c[0]&&s.l&&s.l.ta(c),s.v=0)}ke()}catch(d){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==ts(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const m=ts(this.g);var t=this.g.Ba();this.g.Z();if(!(3>m)&&(3!=m||this.g&&(this.h.h||this.g.oa()||ss(this.g)))){this.J||4!=m||7==t||ke(),Ge(this);var s=this.g.Z();this.X=s;t:if(Ve(this)){var n=ss(this.g);e="";var a=n.length,i=4==ts(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ke(this);var o="";break t}this.h.i=new r.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:!(i&&t==a-1)});n.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==s,function(e,t,s,n,r,a,i){e.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+"\n"+s+"\n"+a+" "+i}))}(this.i,this.u,this.A,this.l,this.R,m,s),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var d=l;break t}}d=null}if(!(s=d)){this.o=!1,this.s=3,Ce(12),We(this),Ke(this);break e}Ie(this.i,this.l,s,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$e(this,s)}if(this.P){let e;for(s=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==ze){4==m&&(this.s=4,Ce(14),s=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ce(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),s=!1;break}Ie(this.i,this.l,e,null),$e(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=m||0!=o.length||this.h.h||(this.s=1,Ce(16),s=!1),this.o=this.o&&s,s){if(0<o.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),ps(u),u.M=!0,Ce(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),We(this),Ke(this)}else Ie(this.i,this.l,o,null),$e(this,o);4==m&&We(this),this.o&&!this.J&&(4==m?fs(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=ts(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(p(e[n]))continue;var s=N(e[n]);const r=s[0];if("string"!==typeof(s=s[1]))continue;s=s.trim();const a=t[r]||[];t[r]=a,a.push(s)}!function(e,t){for(const s in e)t.call(void 0,e[s],s,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==s&&0<o.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),We(this),Ke(this)}}}catch(m){}},Me.prototype.cancel=function(){this.J=!0,We(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ce(17)),We(this),this.s=2,Ke(this)):He(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function st(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const s of e.g.values())t=t.concat(s.D);return t}return m(e.i)}function nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var s=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var s=0;s<e;s++)t.push(s);return t}t=[],s=0;for(const n in e)t[s++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],s=e.length,n=0;n<s;n++)t.push(e[n]);return t}for(n in t=[],s=0,e)t[s++]=e[n];return t}(e),r=n.length,i=0;i<r;i++)t.call(void 0,n[i],s&&s[i],e)}Qe.prototype.cancel=function(){if(this.i=st(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,s=new jt;s.i=t.i,t.g&&(s.g=new Map(t.g),s.h=t.h),ct(this,s),this.m=e.m}else e&&(t=String(e).match(rt))?(this.h=!1,ot(this,t[1]||"",!0),this.o=mt(t[2]||""),this.g=mt(t[3]||"",!0),lt(this,t[4]),this.l=mt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=mt(t[7]||"")):(this.h=!1,this.i=new jt(null,this.h))}function it(e){return new at(e)}function ot(e,t,s){e.j=s?mt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,s){t instanceof jt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach((function(e,t){var s=t.toLowerCase();t!=s&&(wt(this,t),St(this,s,e))}),e)),e.j=t}(e.i,e.h)):(s||(t=ht(t,vt)),e.i=new jt(t,e.h))}function dt(e,t,s){e.i.set(t,s)}function ut(e){return dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ht(e,t,s){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),s&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ht(t,gt,!0),":");var s=this.g;return(s||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ht(t,gt,!0),"@"),e.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(s=this.s)&&e.push(":",String(s))),(s=this.l)&&(this.g&&"/"!=s.charAt(0)&&e.push("/"),e.push(ht(s,"/"==s.charAt(0)?bt:ft,!0))),(s=this.i.toString())&&e.push("?",s),(s=this.m)&&e.push("#",ht(s,yt)),e.join("")};var xt,gt=/[#\/\?@]/g,ft=/[#\?:]/g,bt=/[#\?]/g,vt=/[#\?@]/g,yt=/#/g;function jt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var s=0;s<e.length;s++){var n=e[s].indexOf("="),r=null;if(0<=n){var a=e[s].substring(0,n);r=e[s].substring(n+1)}else a=e[s];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,s){e.add(decodeURIComponent(t.replace(/\+/g," ")),s)})))}function wt(e,t){Nt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return Nt(e),t=Ct(e,t),e.g.has(t)}function St(e,t,s){wt(e,t),0<s.length&&(e.i=null,e.g.set(Ct(e,t),m(s)),e.h+=s.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,s,n,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),n(s)}catch(a){}}function _t(){this.g=new he}function At(e,t,s){const n=s||"";try{nt(e,(function(e,s){let r=e;i(e)&&(r=ue(e)),t.push(n+s+"="+encodeURIComponent(r))}))}catch(r){throw t.push(n+"type="+encodeURIComponent("_badmap")),r}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Tt(e,t){se.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Bt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function qt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ht(e)}function Ht(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Gt(e){let t="";return b(e,(function(e,s){t+=s,t+=":",t+=e,t+="\r\n"})),t}function Kt(e,t,s){e:{for(n in s){var n=!1;break e}n=!0}n||(s=Gt(s),"string"===typeof e?null!=s&&encodeURIComponent(String(s)):dt(e,t,s))}function Wt(e){se.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=jt.prototype).add=function(e,t){Nt(this),this.i=null,e=Ct(this,e);var s=this.g.get(e);return s||this.g.set(e,s=[]),s.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach((function(s,n){s.forEach((function(s){e.call(t,s,n,this)}),this)}),this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),s=[];for(let n=0;n<t.length;n++){const r=e[n];for(let e=0;e<r.length;e++)s.push(t[n])}return s},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let s=0;s<e.length;s++)t=t.concat(e[s])}return t},e.set=function(e,t){return Nt(this),this.i=null,kt(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var s=0;s<t.length;s++){var n=t[s];const a=encodeURIComponent(String(n)),i=this.V(n);for(n=0;n<i.length;n++){var r=a;""!==i[n]&&(r+="="+encodeURIComponent(String(i[n]))),e.push(r)}}return this.i=e.join("&")},u(It,pe),It.prototype.g=function(){return new Tt(this.l,this.j)},It.prototype.i=(xt={},function(){return xt}),u(Tt,se),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ht(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ht(this)),this.g&&(this.readyState=3,Ht(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qt(this):Ht(this),3==this.readyState&&Bt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,qt(this))},e.Qa=function(e){this.g&&(this.response=e,qt(this))},e.ga=function(){this.g&&qt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var s=t.next();!s.done;)s=s.value,e.push(s[0]+": "+s[1]),s=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Wt,se);var $t=/^https?$/i,Jt=["POST","PUT"];function Qt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Yt(e),Zt(e)}function Yt(e){e.A||(e.A=!0,ne(e,"complete"),ne(e,"error"))}function Xt(e){if(e.h&&"undefined"!=typeof n&&(!e.v[1]||4!=ts(e)||2!=e.Z()))if(e.u&&4==ts(e))ae(e.Ea,0,e);else if(ne(e,"readystatechange"),4==ts(e)){e.h=!1;try{const n=e.Z();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var s;if(!(s=t)){var a;if(a=0===n){var i=String(e.D).match(rt)[1]||null;!i&&r.self&&r.self.location&&(i=r.self.location.protocol.slice(0,-1)),a=!$t.test(i?i.toLowerCase():"")}s=a}if(s)ne(e,"complete"),ne(e,"success");else{e.m=6;try{var o=2<ts(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Yt(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){es(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ne(e,"ready");try{n.onreadystatechange=r}catch(s){}}}function es(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function ts(e){return e.g?e.g.readyState:0}function ss(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ns(e,t,s){return s&&s.internalChannelParams&&s.internalChannelParams[e]||t}function rs(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,e),this.cb=ns("retryDelaySeedMs",1e4,e),this.Wa=ns("forwardChannelMaxRetries",2,e),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function as(e){if(os(e),3==e.G){var t=e.U++,s=it(e.I);if(dt(s,"SID",e.K),dt(s,"RID",t),dt(s,"TYPE","terminate"),ds(e,s),(t=new Me(e,e.j,t)).L=2,t.v=ut(it(s)),s=!1,r.navigator&&r.navigator.sendBeacon)try{s=r.navigator.sendBeacon(t.v.toString(),"")}catch(n){}!s&&r.Image&&((new Image).src=t.v,s=!0),s||(t.g=Ns(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}ys(e)}function is(e){e.g&&(ps(e),e.g.cancel(),e.g=null)}function os(e){is(e),e.u&&(r.clearTimeout(e.u),e.u=null),gs(e),e.h.cancel(),e.s&&("number"===typeof e.s&&r.clearTimeout(e.s),e.s=null)}function ls(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||I(),_||(E(),_=!0),A.add(t,e),e.B=0}}function cs(e,t){var s;s=t?t.l:e.U++;const n=it(e.I);dt(n,"SID",e.K),dt(n,"RID",s),dt(n,"AID",e.T),ds(e,n),e.m&&e.o&&Kt(n,e.m,e.o),s=new Me(e,e.j,s,e.B+1),null===e.m&&(s.H=e.o),t&&(e.i=t.D.concat(e.i)),t=us(e,s,1e3),s.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,s),Fe(s,n,t)}function ds(e,t){e.H&&b(e.H,(function(e,s){dt(t,s,e)})),e.l&&nt({},(function(e,s){dt(t,s,e)}))}function us(e,t,s){s=Math.min(e.i.length,s);var n=e.l?c(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+s];-1==t?0<s?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let o=0;o<s;o++){let s=r[o].g;const l=r[o].map;if(s-=t,0>s)t=Math.max(0,r[o].g-100),i=!1;else try{At(l,e,"req"+s+"_")}catch(a){n&&n(l)}}if(i){n=e.join("&");break e}}}return e=e.i.splice(0,s),t.D=e,n}function ms(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||I(),_||(E(),_=!0),A.add(t,e),e.v=0}}function hs(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),bs(e,e.v)),e.v++,!0)}function ps(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function xs(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);dt(t,"RID","rpc"),dt(t,"SID",e.K),dt(t,"AID",e.T),dt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&dt(t,"TO",e.ja),dt(t,"TYPE","xmlhttp"),ds(e,t),e.m&&e.o&&Kt(t,e.m,e.o),e.L&&(e.g.I=e.L);var s=e.g;e=e.ia,s.L=1,s.v=ut(it(t)),s.m=null,s.P=!0,Ue(s,e)}function gs(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function fs(e,t){var s=null;if(e.g==t){gs(e),ps(e),e.g=null;var n=2}else{if(!Ze(e.h,t))return;s=t.D,tt(e.h,t),n=1}if(0!=e.G)if(t.o)if(1==n){s=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;ne(n=Ne(),new Ee(n,s)),ls(e)}else ms(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==n&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),bs(e,e.B)),e.B++,!0))}(e,t)||2==n&&hs(e)))switch(s&&0<s.length&&(t=e.h,t.i=t.i.concat(s)),r){case 1:vs(e,5);break;case 4:vs(e,10);break;case 3:vs(e,6);break;default:vs(e,2)}}function bs(e,t){let s=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(s*=2),s*t}function vs(e,t){if(e.j.info("Error code "+t),2==t){var s=c(e.fb,e),n=e.Xa;const t=!n;n=new at(n||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||ot(n,"https"),ut(n),t?function(e,t){const s=new Ae;if(r.Image){const n=new Image;n.onload=d(Et,s,"TestLoadImage: loaded",!0,t,n),n.onerror=d(Et,s,"TestLoadImage: error",!1,t,n),n.onabort=d(Et,s,"TestLoadImage: abort",!1,t,n),n.ontimeout=d(Et,s,"TestLoadImage: timeout",!1,t,n),r.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=e}else t(!1)}(n.toString(),s):function(e,t){new Ae;const s=new AbortController,n=setTimeout((()=>{s.abort(),Et(0,0,!1,t)}),1e4);fetch(e,{signal:s.signal}).then((e=>{clearTimeout(n),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)})).catch((()=>{clearTimeout(n),Et(0,0,!1,t)}))}(n.toString(),s)}else Ce(2);e.G=0,e.l&&e.l.sa(t),ys(e),os(e)}function ys(e){if(e.G=0,e.ka=[],e.l){const t=st(e.h);0==t.length&&0==e.i.length||(h(e.ka,t),h(e.ka,e.i),e.h.i.length=0,m(e.i),e.i.length=0),e.l.ra()}}function js(e,t,s){var n=s instanceof at?it(s):new at(s);if(""!=n.g)t&&(n.g=t+"."+n.g),lt(n,n.s);else{var a=r.location;n=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var i=new at(null);n&&ot(i,n),t&&(i.g=t),a&&lt(i,a),s&&(i.l=s),n=i}return s=e.D,t=e.ya,s&&t&&dt(n,s,t),dt(n,"VER",e.la),ds(e,n),n}function Ns(e,t,s){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Wt(new It({eb:s})):new Wt(e.pa)).Ha(e.J),t}function ws(){}function ks(){}function Ss(e,t){se.call(this),this.g=new rs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _s(this)}function Cs(e){be.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const s in t){e=s;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Es(){ve.call(this),this.status=1}function _s(e){this.g=e}(e=Wt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,s,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Te.g(),this.v=this.o?xe(this.o):xe(Te),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(i){return void Qt(this,i)}if(e=s||"",s=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var a in n)s.set(a,n[a]);else{if("function"!==typeof n.keys||"function"!==typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const e of n.keys())s.set(e,n.get(e))}n=Array.from(s.keys()).find((e=>"content-type"==e.toLowerCase())),a=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Jt,t,void 0))||n||a||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of s)this.g.setRequestHeader(r,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{es(this),this.u=!0,this.g.send(e),this.u=!1}catch(i){Qt(this,i)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ne(this,"complete"),ne(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},e.bb=function(){Xt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<ts(this)?this.g.status:-1}catch(xt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(xt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),me(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=rs.prototype).la=8,e.G=1,e.connect=function(e,t,s,n){Ce(0),this.W=e,this.H=t||{},s&&void 0!==n&&(this.H.OSID=s,this.H.OAID=n),this.F=this.X,this.I=js(this,null,this.W),ls(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new Me(this,this.j,e);let a=this.o;if(this.S&&(a?(a=v(a),j(a,this.S)):a=this.S),null!==this.m||this.O||(r.H=a,a=null),this.P)e:{for(var t=0,s=0;s<this.i.length;s++){var n=this.i[s];if(void 0===(n="__data__"in n.map&&"string"===typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=s;break e}if(4096===t||s===this.i.length-1){t=s+1;break e}}t=1e3}else t=1e3;t=us(this,r,t),dt(s=it(this.I),"RID",e),dt(s,"CVER",22),this.D&&dt(s,"X-HTTP-Session-Id",this.D),ds(this,s),a&&(this.O?t="headers="+encodeURIComponent(String(Gt(a)))+"&"+t:this.m&&Kt(s,this.m,a)),et(this.h,r),this.Ua&&dt(s,"TYPE","init"),this.P?(dt(s,"$req",t),dt(s,"SID","null"),r.T=!0,Fe(r,s,null)):Fe(r,s,t),this.G=2}}else 3==this.G&&(e?cs(this,e):0==this.i.length||Ye(this.h)||cs(this))},e.Fa=function(){if(this.u=null,xs(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),is(this),xs(this))},e.Za=function(){null!=this.C&&(this.C=null,is(this),hs(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=ws.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},ks.prototype.g=function(e,t){return new Ss(e,t)},u(Ss,se),Ss.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ss.prototype.close=function(){as(this.g)},Ss.prototype.o=function(e){var t=this.g;if("string"===typeof e){var s={};s.__data__=e,e=s}else this.u&&((s={}).__data__=ue(e),e=s);t.i.push(new Je(t.Ya++,e)),3==t.G&&ls(t)},Ss.prototype.N=function(){this.g.l=null,delete this.j,as(this.g),delete this.g,Ss.aa.N.call(this)},u(Cs,be),u(Es,ve),u(_s,ws),_s.prototype.ua=function(){ne(this.g,"a")},_s.prototype.ta=function(e){ne(this.g,new Cs(e))},_s.prototype.sa=function(e){ne(this.g,new Es)},_s.prototype.ra=function(){ne(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,Ss.prototype.send=Ss.prototype.o,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,Ft=Vt.createWebChannelTransport=function(){return new ks},zt=Vt.getStatEventTarget=function(){return Ne()},Lt=Vt.Event=ye,Dt=Vt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Mt=Vt.ErrorCode=Pe,Re.COMPLETE="complete",Ot=Vt.EventType=Re,ge.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",se.prototype.listen=se.prototype.K,Rt=Vt.WebChannel=ge,Vt.FetchXmlHttpFactory=It,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,Pt=Vt.XhrIo=Wt}).apply("undefined"!==typeof Ut?Ut:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Bt="@firebase/firestore",qt="4.9.0";class Ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");let Gt="12.0.0";const Kt=new de("@firebase/firestore");function Wt(){return Kt.logLevel}function $t(e){if(Kt.logLevel<=ae.DEBUG){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];const r=s.map(Yt);Kt.debug("Firestore (".concat(Gt,"): ").concat(e),...r)}}function Jt(e){if(Kt.logLevel<=ae.ERROR){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];const r=s.map(Yt);Kt.error("Firestore (".concat(Gt,"): ").concat(e),...r)}}function Qt(e){if(Kt.logLevel<=ae.WARN){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];const r=s.map(Yt);Kt.warn("Firestore (".concat(Gt,"): ").concat(e),...r)}}function Yt(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Xt(e,t,s){let n="Unexpected state";"string"==typeof t?n=t:s=t,Zt(e,n,s)}function Zt(e,t,s){let n="FIRESTORE (".concat(Gt,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==s)try{n+=" CONTEXT: "+JSON.stringify(s)}catch(e){n+=" CONTEXT: "+s}throw Jt(n),new Error(n)}function es(e,t,s,n){let r="Unexpected state";"string"==typeof s?r=s:n=s,e||Zt(t,r,n)}function ts(e,t){return e}const ss={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ns extends B{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class rs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class as{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class is{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ht.UNAUTHENTICATED)))}shutdown(){}}class os{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ls{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){es(void 0===this.o,42304);let s=this.i;const n=e=>this.i!==s?(s=this.i,t(e)):Promise.resolve();let r=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new rs,e.enqueueRetryable((()=>n(this.currentUser)))};const a=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await n(this.currentUser)}))},i=e=>{$t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>i(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):($t("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new rs)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?($t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(es("string"==typeof t.accessToken,31837,{l:t}),new as(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return es(null===e||"string"==typeof e,2055,{h:e}),new Ht(e)}}class cs{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ds{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new cs(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ht.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class us{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ms{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){es(void 0===this.o,3512);const s=e=>{null!=e.error&&$t("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const s=e.token!==this.m;return this.m=e.token,$t("FirebaseAppCheckTokenProvider","Received ".concat(s?"new":"existing"," token.")),s?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>s(t)))};const n=e=>{$t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?n(e):$t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new us(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(es("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new us(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),s=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(s);else for(let n=0;n<e;n++)s[n]=Math.floor(256*Math.random());return s}class ps{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const s=hs(40);for(let n=0;n<s.length;++n)t.length<20&&s[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[n]%62))}return t}}function xs(e,t){return e<t?-1:e>t?1:0}function gs(e,t){const s=Math.min(e.length,t.length);for(let n=0;n<s;n++){const s=e.charAt(n),r=t.charAt(n);if(s!==r)return vs(s)===vs(r)?xs(s,r):vs(s)?1:-1}return xs(e.length,t.length)}const fs=55296,bs=57343;function vs(e){const t=e.charCodeAt(0);return t>=fs&&t<=bs}function ys(e,t,s){return e.length===t.length&&e.every(((e,n)=>s(e,t[n])))}const js="__name__";class Ns{constructor(e,t,s){void 0===t?t=0:t>e.length&&Xt(637,{offset:t,range:e.length}),void 0===s?s=e.length-t:s>e.length-t&&Xt(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Ns.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let n=0;n<s;n++){const s=Ns.compareSegments(e.get(n),t.get(n));if(0!==s)return s}return xs(e.length,t.length)}static compareSegments(e,t){const s=Ns.isNumericId(e),n=Ns.isNumericId(t);return s&&!n?-1:!s&&n?1:s&&n?Ns.extractNumericId(e).compare(Ns.extractNumericId(t)):gs(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return At.fromString(e.substring(4,e.length-2))}}class ws extends Ns{construct(e,t,s){return new ws(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];for(const r of s){if(r.indexOf("//")>=0)throw new ns(ss.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter((e=>e.length>0)))}return new ws(e)}static emptyPath(){return new ws([])}}const ks=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ss extends Ns{construct(e,t,s){return new Ss(e,t,s)}static isValidIdentifier(e){return ks.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ss.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===js}static keyField(){return new Ss([js])}static fromServerFormat(e){const t=[];let s="",n=0;const r=()=>{if(0===s.length)throw new ns(ss.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(s),s=""};let a=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new ns(ss.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ns(ss.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=t,n+=2}else"`"===t?(a=!a,n++):"."!==t||a?(s+=t,n++):(r(),n++)}if(r(),a)throw new ns(ss.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ss(t)}static emptyPath(){return new Ss([])}}class Cs{constructor(e){this.path=e}static fromPath(e){return new Cs(ws.fromString(e))}static fromName(e){return new Cs(ws.fromString(e).popFirst(5))}static empty(){return new Cs(ws.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ws.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ws.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Cs(new ws(e.slice()))}}function Es(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function _s(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Xt(12329,{type:typeof e})}function As(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ns(ss.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=_s(e);throw new ns(ss.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(s))}}return e}function Is(e,t){const s={typeString:e};return t&&(s.value=t),s}function Ts(e,t){if(!Es(e))throw new ns(ss.INVALID_ARGUMENT,"JSON must be an object");let s;for(const n in t)if(t[n]){const r=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){s="JSON missing required field: '".concat(n,"'");break}const i=e[n];if(r&&typeof i!==r){s="JSON field '".concat(n,"' must be a ").concat(r,".");break}if(void 0!==a&&i!==a.value){s="Expected '".concat(n,"' field to equal '").concat(a.value,"'");break}}if(s)throw new ns(ss.INVALID_ARGUMENT,s);return!0}const Ps=-62135596800,Rs=1e6;class Os{static now(){return Os.fromMillis(Date.now())}static fromDate(e){return Os.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Rs);return new Os(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ns(ss.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ns(ss.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ps)throw new ns(ss.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ns(ss.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rs}_compareTo(e){return this.seconds===e.seconds?xs(this.nanoseconds,e.nanoseconds):xs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Os._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ts(e,Os._jsonSchema))return new Os(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ps;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Os._jsonSchemaVersion="firestore/timestamp/1.0",Os._jsonSchema={type:Is("string",Os._jsonSchemaVersion),seconds:Is("number"),nanoseconds:Is("number")};class Ms{static fromTimestamp(e){return new Ms(e)}static min(){return new Ms(new Os(0,0))}static max(){return new Ms(new Os(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ds=-1;class Ls{constructor(e,t,s,n){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=n}}Ls.UNKNOWN_ID=-1;function zs(e,t){const s=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=Ms.fromTimestamp(1e9===n?new Os(s+1,0):new Os(s,n));return new Us(r,Cs.empty(),t)}function Fs(e){return new Us(e.readTime,e.key,Ds)}class Us{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Us(Ms.min(),Cs.empty(),Ds)}static max(){return new Us(Ms.max(),Cs.empty(),Ds)}}function Vs(e,t){let s=e.readTime.compareTo(t.readTime);return 0!==s?s:(s=Cs.comparator(e.documentKey,t.documentKey),0!==s?s:xs(e.largestBatchId,t.largestBatchId))}class Bs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class qs{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qs(((s,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(s,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(s,n)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof qs?t:qs.resolve(t)}catch(e){return qs.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):qs.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):qs.reject(t)}static resolve(e){return new qs(((t,s)=>{t(e)}))}static reject(e){return new qs(((t,s)=>{s(e)}))}static waitFor(e){return new qs(((t,s)=>{let n=0,r=0,a=!1;e.forEach((e=>{++n,e.next((()=>{++r,a&&r===n&&t()}),(e=>s(e)))})),a=!0,r===n&&t()}))}static or(e){let t=qs.resolve(!1);for(const s of e)t=t.next((e=>e?qs.resolve(e):s()));return t}static forEach(e,t){const s=[];return e.forEach(((e,n)=>{s.push(t.call(this,e,n))})),this.waitFor(s)}static mapArray(e,t){return new qs(((s,n)=>{const r=e.length,a=new Array(r);let i=0;for(let o=0;o<r;o++){const l=o;t(e[l]).next((e=>{a[l]=e,++i,i===r&&s(a)}),(e=>n(e)))}}))}static doWhile(e,t){return new qs(((s,n)=>{const r=()=>{!0===e()?t().next((()=>{r()}),n):s()};r()}))}}function Hs(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Gs(e){return"IndexedDbTransactionError"===e.name}class Ks{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ks.ce=-1;const Ws=-1;function $s(e){return null==e}function Js(e){return 0===e&&1/e==-1/0}const Qs="remoteDocuments",Ys="owner",Xs="mutationQueues",Zs="mutations";const en="documentMutations",tn="remoteDocumentsV14",sn="remoteDocumentGlobal",nn="targets",rn="targetDocuments",an="targetGlobal",on="collectionParents",ln="clientMetadata",cn="bundles",dn="namedQueries",un="indexConfiguration",mn="indexState",hn="indexEntries",pn="documentOverlays",xn="globals",gn=[Xs,Zs,en,Qs,nn,Ys,an,rn,ln,sn,on,cn,dn],fn=[Xs,Zs,en,tn,nn,Ys,an,rn,ln,sn,on,cn,dn,pn],bn=fn,vn=[...bn,un,mn,hn];function yn(e){let t=0;for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&t++;return t}function jn(e,t){for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&t(s,e[s])}function Nn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wn{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const n=this.comparator(e,s.key);if(0===n)return t+s.left.size;n<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push("".concat(t,":").concat(s)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kn(this.root,e,this.comparator,!1)}getReverseIterator(){return new kn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kn(this.root,e,this.comparator,!0)}}class kn{constructor(e,t,s,n){this.isReverse=n,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?s(e.key,t):1,t&&n&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,t,s,n,r){this.key=e,this.value=t,this.color=null!=s?s:Sn.RED,this.left=null!=n?n:Sn.EMPTY,this.right=null!=r?r:Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,n,r){return new Sn(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=n?n:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let n=this;const r=s(e,n.key);return n=r<0?n.copy(null,null,null,n.left.insert(e,t,s),null):0===r?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,s)),n.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return Sn.EMPTY;s=n.right.min(),n=n.copy(s.key,s.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xt(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1,Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt(57766)}get value(){throw Xt(16141)}get color(){throw Xt(16727)}get left(){throw Xt(29726)}get right(){throw Xt(36894)}copy(e,t,s,n,r){return this}insert(e,t,s){return new Sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const n=s.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new En(this.data.getIterator())}getIteratorFrom(e){return new En(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Cn))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=s.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class En{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _n{constructor(e){this.fields=e,e.sort(Ss.comparator)}static empty(){return new _n([])}unionWith(e){let t=new Cn(Ss.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class An extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class In{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new An("Invalid base64 string: "+e):e}}(e);return new In(t)}static fromUint8Array(e){const t=function(e){let t="";for(let s=0;s<e.length;++s)t+=String.fromCharCode(e[s]);return t}(e);return new In(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const Tn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pn(e){if(es(!!e,39018),"string"==typeof e){let t=0;const s=Tn.exec(e);if(es(!!s,46558,{timestamp:e}),s[1]){let e=s[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Rn(e.seconds),nanos:Rn(e.nanos)}}function Rn(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function On(e){return"string"==typeof e?In.fromBase64String(e):In.fromUint8Array(e)}const Mn="server_timestamp",Dn="__type__",Ln="__previous_value__",zn="__local_write_time__";function Fn(e){var t,s;return(null===(t=((null===e||void 0===e||null===(s=e.mapValue)||void 0===s?void 0:s.fields)||{})[Dn])||void 0===t?void 0:t.stringValue)===Mn}function Un(e){const t=e.mapValue.fields[Ln];return Fn(t)?Un(t):t}function Vn(e){const t=Pn(e.mapValue.fields[zn].timestampValue);return new Os(t.seconds,t.nanos)}const Bn="(default)";class qn{constructor(e,t){this.projectId=e,this.database=t||Bn}static empty(){return new qn("","")}get isDefaultDatabase(){return this.database===Bn}isEqual(e){return e instanceof qn&&e.projectId===this.projectId&&e.database===this.database}}const Hn="__type__",Gn="__max__",Kn={mapValue:{fields:{__type__:{stringValue:Gn}}}},Wn="__vector__",$n="value";function Jn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fn(e)?4:lr(e)?9007199254740991:ir(e)?10:11:Xt(28295,{value:e})}function Qn(e,t){if(e===t)return!0;const s=Jn(e);if(s!==Jn(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vn(e).isEqual(Vn(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const s=Pn(e.timestampValue),n=Pn(t.timestampValue);return s.seconds===n.seconds&&s.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return On(e.bytesValue).isEqual(On(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rn(e.geoPointValue.latitude)===Rn(t.geoPointValue.latitude)&&Rn(e.geoPointValue.longitude)===Rn(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rn(e.integerValue)===Rn(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const s=Rn(e.doubleValue),n=Rn(t.doubleValue);return s===n?Js(s)===Js(n):isNaN(s)&&isNaN(n)}return!1}(e,t);case 9:return ys(e.arrayValue.values||[],t.arrayValue.values||[],Qn);case 10:case 11:return function(e,t){const s=e.mapValue.fields||{},n=t.mapValue.fields||{};if(yn(s)!==yn(n))return!1;for(const r in s)if(s.hasOwnProperty(r)&&(void 0===n[r]||!Qn(s[r],n[r])))return!1;return!0}(e,t);default:return Xt(52216,{left:e})}}function Yn(e,t){return void 0!==(e.values||[]).find((e=>Qn(e,t)))}function Xn(e,t){if(e===t)return 0;const s=Jn(e),n=Jn(t);if(s!==n)return xs(s,n);switch(s){case 0:case 9007199254740991:return 0;case 1:return xs(e.booleanValue,t.booleanValue);case 2:return function(e,t){const s=Rn(e.integerValue||e.doubleValue),n=Rn(t.integerValue||t.doubleValue);return s<n?-1:s>n?1:s===n?0:isNaN(s)?isNaN(n)?0:-1:1}(e,t);case 3:return Zn(e.timestampValue,t.timestampValue);case 4:return Zn(Vn(e),Vn(t));case 5:return gs(e.stringValue,t.stringValue);case 6:return function(e,t){const s=On(e),n=On(t);return s.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const s=e.split("/"),n=t.split("/");for(let r=0;r<s.length&&r<n.length;r++){const e=xs(s[r],n[r]);if(0!==e)return e}return xs(s.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const s=xs(Rn(e.latitude),Rn(t.latitude));return 0!==s?s:xs(Rn(e.longitude),Rn(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return er(e.arrayValue,t.arrayValue);case 10:return function(e,t,s,n,r,a){const i=e.fields||{},o=t.fields||{},l=null===(s=i[$n])||void 0===s?void 0:s.arrayValue,c=null===(n=o[$n])||void 0===n?void 0:n.arrayValue,d=xs((null===l||void 0===l||null===(r=l.values)||void 0===r?void 0:r.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==d?d:er(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Kn.mapValue&&t===Kn.mapValue)return 0;if(e===Kn.mapValue)return 1;if(t===Kn.mapValue)return-1;const s=e.fields||{},n=Object.keys(s),r=t.fields||{},a=Object.keys(r);n.sort(),a.sort();for(let i=0;i<n.length&&i<a.length;++i){const e=gs(n[i],a[i]);if(0!==e)return e;const t=Xn(s[n[i]],r[a[i]]);if(0!==t)return t}return xs(n.length,a.length)}(e.mapValue,t.mapValue);default:throw Xt(23264,{he:s})}}function Zn(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xs(e,t);const s=Pn(e),n=Pn(t),r=xs(s.seconds,n.seconds);return 0!==r?r:xs(s.nanos,n.nanos)}function er(e,t){const s=e.values||[],n=t.values||[];for(let r=0;r<s.length&&r<n.length;++r){const e=Xn(s[r],n[r]);if(e)return e}return xs(s.length,n.length)}function tr(e){return sr(e)}function sr(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Pn(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return On(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Cs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",s=!0;for(const n of e.values||[])s?s=!1:t+=",",t+=sr(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let s="{",n=!0;for(const r of t)n?n=!1:s+=",",s+="".concat(r,":").concat(sr(e.fields[r]));return s+"}"}(e.mapValue):Xt(61005,{value:e})}function nr(e){return!!e&&"integerValue"in e}function rr(e){return!!e&&"arrayValue"in e}function ar(e){return!!e&&"mapValue"in e}function ir(e){var t,s;return(null===(t=((null===e||void 0===e||null===(s=e.mapValue)||void 0===s?void 0:s.fields)||{})[Hn])||void 0===t?void 0:t.stringValue)===Wn}function or(e){if(e.geoPointValue)return{geoPointValue:d({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:d({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return jn(e.mapValue.fields,((e,s)=>t.mapValue.fields[e]=or(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(e.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=or(e.arrayValue.values[s]);return t}return d({},e)}function lr(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Gn}class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ar(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=or(t)}setAll(e){let t=Ss.emptyPath(),s={},n=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,s,n),s={},n=[],t=r.popLast()}e?s[r.lastSegment()]=or(e):n.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,s,n)}delete(e){const t=this.field(e.popLast());ar(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let n=t.mapValue.fields[e.get(s)];ar(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,s){jn(t,((t,s)=>e[t]=s));for(const n of s)delete e[n]}clone(){return new cr(or(this.value))}}class dr{constructor(e,t,s,n,r,a,i){this.key=e,this.documentType=t,this.version=s,this.readTime=n,this.createTime=r,this.data=a,this.documentState=i}static newInvalidDocument(e){return new dr(e,0,Ms.min(),Ms.min(),Ms.min(),cr.empty(),0)}static newFoundDocument(e,t,s,n){return new dr(e,1,t,Ms.min(),s,n,0)}static newNoDocument(e,t){return new dr(e,2,t,Ms.min(),Ms.min(),cr.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,Ms.min(),Ms.min(),cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ms.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ms.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ur{constructor(e,t){this.position=e,this.inclusive=t}}function mr(e,t,s){let n=0;for(let r=0;r<e.position.length;r++){const a=t[r],i=e.position[r];if(n=a.field.isKeyField()?Cs.comparator(Cs.fromName(i.referenceValue),s.key):Xn(i,s.data.field(a.field)),"desc"===a.dir&&(n*=-1),0!==n)break}return n}function hr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let s=0;s<e.position.length;s++)if(!Qn(e.position[s],t.position[s]))return!1;return!0}class pr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function xr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gr{}class fr extends gr{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Sr(e,t,s):"array-contains"===t?new Ar(e,s):"in"===t?new Ir(e,s):"not-in"===t?new Tr(e,s):"array-contains-any"===t?new Pr(e,s):new fr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Cr(e,s):new Er(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Xn(t,this.value)):null!==t&&Jn(this.value)===Jn(t)&&this.matchesComparison(Xn(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends gr{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new br(e,t)}matches(e){return vr(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vr(e){return"and"===e.op}function yr(e){return jr(e)&&vr(e)}function jr(e){for(const t of e.filters)if(t instanceof br)return!1;return!0}function Nr(e){if(e instanceof fr)return e.field.canonicalString()+e.op.toString()+tr(e.value);if(yr(e))return e.filters.map((e=>Nr(e))).join(",");{const t=e.filters.map((e=>Nr(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function wr(e,t){return e instanceof fr?function(e,t){return t instanceof fr&&e.op===t.op&&e.field.isEqual(t.field)&&Qn(e.value,t.value)}(e,t):e instanceof br?function(e,t){return t instanceof br&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,s,n)=>e&&wr(s,t.filters[n])),!0)}(e,t):void Xt(19439)}function kr(e){return e instanceof fr?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(tr(e.value))}(e):e instanceof br?function(e){return e.op.toString()+" {"+e.getFilters().map(kr).join(" ,")+"}"}(e):"Filter"}class Sr extends fr{constructor(e,t,s){super(e,t,s),this.key=Cs.fromName(s.referenceValue)}matches(e){const t=Cs.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cr extends fr{constructor(e,t){super(e,"in",t),this.keys=_r("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Er extends fr{constructor(e,t){super(e,"not-in",t),this.keys=_r("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _r(e,t){var s;return((null===(s=t.arrayValue)||void 0===s?void 0:s.values)||[]).map((e=>Cs.fromName(e.referenceValue)))}class Ar extends fr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rr(t)&&Yn(t.arrayValue,this.value)}}class Ir extends fr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yn(this.value.arrayValue,t)}}class Tr extends fr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Yn(this.value.arrayValue,t)}}class Pr extends fr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rr(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Yn(this.value.arrayValue,e)))}}class Rr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=n,this.limit=r,this.startAt=a,this.endAt=i,this.Te=null}}function Or(e){return new Rr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Mr(e){const t=ts(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Nr(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),$s(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>tr(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>tr(e))).join(",")),t.Te=e}return t.Te}function Dr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!xr(e.orderBy[s],t.orderBy[s]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if(!wr(e.filters[s],t.filters[s]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hr(e.startAt,t.startAt)&&hr(e.endAt,t.endAt)}class Lr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=n,this.limit=r,this.limitType=a,this.startAt=i,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zr(e,t,s,n,r,a,i,o){return new Lr(e,t,s,n,r,a,i,o)}function Fr(e){return new Lr(e)}function Ur(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vr(e){return null!==e.collectionGroup}function Br(e){const t=ts(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),e.add(r.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",n=function(e){let t=new Cn(Ss.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);n.forEach((n=>{e.has(n.canonicalString())||n.isKeyField()||t.Ie.push(new pr(n,s))})),e.has(Ss.keyField().canonicalString())||t.Ie.push(new pr(Ss.keyField(),s))}return t.Ie}function qr(e){const t=ts(e);return t.Ee||(t.Ee=Hr(t,Br(e))),t.Ee}function Hr(e,t){if("F"===e.limitType)return Or(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new pr(e.field,t)}));const s=e.endAt?new ur(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new ur(e.startAt.position,e.startAt.inclusive):null;return Or(e.path,e.collectionGroup,t,e.filters,e.limit,s,n)}}function Gr(e,t,s){return new Lr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,s,e.startAt,e.endAt)}function Kr(e,t){return Dr(qr(e),qr(t))&&e.limitType===t.limitType}function Wr(e){return"".concat(Mr(qr(e)),"|lt:").concat(e.limitType)}function $r(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>kr(e))).join(", "),"]")),$s(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>tr(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>tr(e))).join(",")),"Target(".concat(t,")")}(qr(e)),"; limitType=").concat(e.limitType,")")}function Jr(e,t){return t.isFoundDocument()&&function(e,t){const s=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):Cs.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s)}(e,t)&&function(e,t){for(const s of Br(e))if(!s.field.isKeyField()&&null===t.data.field(s.field))return!1;return!0}(e,t)&&function(e,t){for(const s of e.filters)if(!s.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,s){const n=mr(e,t,s);return e.inclusive?n<=0:n<0}(e.startAt,Br(e),t))&&!(e.endAt&&!function(e,t,s){const n=mr(e,t,s);return e.inclusive?n>=0:n>0}(e.endAt,Br(e),t))}(e,t)}function Qr(e){return(t,s)=>{let n=!1;for(const r of Br(e)){const e=Yr(r,t,s);if(0!==e)return e;n=n||r.field.isKeyField()}return 0}}function Yr(e,t,s){const n=e.field.isKeyField()?Cs.comparator(t.key,s.key):function(e,t,s){const n=t.data.field(e),r=s.data.field(e);return null!==n&&null!==r?Xn(n,r):Xt(42886)}(e.field,t,s);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Xt(19790,{direction:e.dir})}}class Xr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[n,r]of s)if(this.equalsFn(n,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),n=this.inner[s];if(void 0===n)return this.inner[s]=[[e,t]],void this.innerSize++;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return void(n[r]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let n=0;n<s.length;n++)if(this.equalsFn(s[n][0],e))return 1===s.length?delete this.inner[t]:s.splice(n,1),this.innerSize--,!0;return!1}forEach(e){jn(this.inner,((t,s)=>{for(const[n,r]of s)e(n,r)}))}isEmpty(){return Nn(this.inner)}size(){return this.innerSize}}const Zr=new wn(Cs.comparator);function ea(){return Zr}const ta=new wn(Cs.comparator);function sa(){let e=ta;for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];for(const r of s)e=e.insert(r.key,r);return e}function na(e){let t=ta;return e.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function ra(){return ia()}function aa(){return ia()}function ia(){return new Xr((e=>e.toString()),((e,t)=>e.isEqual(t)))}new wn(Cs.comparator);const oa=new Cn(Cs.comparator);function la(){let e=oa;for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];for(const r of s)e=e.add(r);return e}const ca=new Cn(xs);function da(){return ca}function ua(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Js(t)?"-0":t}}function ma(e){return{integerValue:""+e}}class ha{constructor(){this._=void 0}}function pa(e,t,s){return e instanceof fa?function(e,t){const s={fields:{[Dn]:{stringValue:Mn},[zn]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Fn(t)&&(t=Un(t)),t&&(s.fields[Ln]=t),{mapValue:s}}(s,t):e instanceof ba?va(e,t):e instanceof ya?ja(e,t):function(e,t){const s=ga(e,t),n=wa(s)+wa(e.Ae);return nr(s)&&nr(e.Ae)?ma(n):ua(e.serializer,n)}(e,t)}function xa(e,t,s){return e instanceof ba?va(e,t):e instanceof ya?ja(e,t):s}function ga(e,t){return e instanceof Na?function(e){return nr(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class fa extends ha{}class ba extends ha{constructor(e){super(),this.elements=e}}function va(e,t){const s=ka(t);for(const n of e.elements)s.some((e=>Qn(e,n)))||s.push(n);return{arrayValue:{values:s}}}class ya extends ha{constructor(e){super(),this.elements=e}}function ja(e,t){let s=ka(t);for(const n of e.elements)s=s.filter((e=>!Qn(e,n)));return{arrayValue:{values:s}}}class Na extends ha{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function wa(e){return Rn(e.integerValue||e.doubleValue)}function ka(e){return rr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Sa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sa}static exists(e){return new Sa(void 0,e)}static updateTime(e){return new Sa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ca(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ea{}function _a(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new La(e.key,Sa.none()):new Pa(e.key,e.data,Sa.none());{const s=e.data,n=cr.empty();let r=new Cn(Ss.comparator);for(let e of t.fields)if(!r.has(e)){let t=s.field(e);null===t&&e.length>1&&(e=e.popLast(),t=s.field(e)),null===t?n.delete(e):n.set(e,t),r=r.add(e)}return new Ra(e.key,n,new _n(r.toArray()),Sa.none())}}function Aa(e,t,s){e instanceof Pa?function(e,t,s){const n=e.value.clone(),r=Ma(e.fieldTransforms,t,s.transformResults);n.setAll(r),t.convertToFoundDocument(s.version,n).setHasCommittedMutations()}(e,t,s):e instanceof Ra?function(e,t,s){if(!Ca(e.precondition,t))return void t.convertToUnknownDocument(s.version);const n=Ma(e.fieldTransforms,t,s.transformResults),r=t.data;r.setAll(Oa(e)),r.setAll(n),t.convertToFoundDocument(s.version,r).setHasCommittedMutations()}(e,t,s):function(e,t,s){t.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,s)}function Ia(e,t,s,n){return e instanceof Pa?function(e,t,s,n){if(!Ca(e.precondition,t))return s;const r=e.value.clone(),a=Da(e.fieldTransforms,n,t);return r.setAll(a),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,s,n):e instanceof Ra?function(e,t,s,n){if(!Ca(e.precondition,t))return s;const r=Da(e.fieldTransforms,n,t),a=t.data;return a.setAll(Oa(e)),a.setAll(r),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===s?null:s.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,s,n):function(e,t,s){return Ca(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):s}(e,t,s)}function Ta(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ys(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ba&&t instanceof ba||e instanceof ya&&t instanceof ya?ys(e.elements,t.elements,Qn):e instanceof Na&&t instanceof Na?Qn(e.Ae,t.Ae):e instanceof fa&&t instanceof fa}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Pa extends Ea{constructor(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class Ra extends Ea{constructor(e,t,s,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=n,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Oa(e){const t=new Map;return e.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const n=e.data.field(s);t.set(s,n)}})),t}function Ma(e,t,s){const n=new Map;es(e.length===s.length,32656,{Re:s.length,Ve:e.length});for(let r=0;r<s.length;r++){const a=e[r],i=a.transform,o=t.data.field(a.field);n.set(a.field,xa(i,o,s[r]))}return n}function Da(e,t,s){const n=new Map;for(const r of e){const e=r.transform,a=s.data.field(r.field);n.set(r.field,pa(e,a,t))}return n}class La extends Ea{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class za{constructor(e,t,s,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=n}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let n=0;n<this.mutations.length;n++){const t=this.mutations[n];t.key.isEqual(e.key)&&Aa(t,e,s[n])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ia(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ia(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=aa();return this.mutations.forEach((n=>{const r=e.get(n.key),a=r.overlayedDocument;let i=this.applyToLocalView(a,r.mutatedFields);i=t.has(n.key)?null:i;const o=_a(a,i);null!==o&&s.set(n.key,o),a.isValidDocument()||a.convertToNoDocument(Ms.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),la())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,((e,t)=>Ta(e,t)))&&ys(this.baseMutations,e.baseMutations,((e,t)=>Ta(e,t)))}}class Fa{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}var Ua,Va;function Ba(e){if(void 0===e)return Jt("GRPC error has no .code"),ss.UNKNOWN;switch(e){case Ua.OK:return ss.OK;case Ua.CANCELLED:return ss.CANCELLED;case Ua.UNKNOWN:return ss.UNKNOWN;case Ua.DEADLINE_EXCEEDED:return ss.DEADLINE_EXCEEDED;case Ua.RESOURCE_EXHAUSTED:return ss.RESOURCE_EXHAUSTED;case Ua.INTERNAL:return ss.INTERNAL;case Ua.UNAVAILABLE:return ss.UNAVAILABLE;case Ua.UNAUTHENTICATED:return ss.UNAUTHENTICATED;case Ua.INVALID_ARGUMENT:return ss.INVALID_ARGUMENT;case Ua.NOT_FOUND:return ss.NOT_FOUND;case Ua.ALREADY_EXISTS:return ss.ALREADY_EXISTS;case Ua.PERMISSION_DENIED:return ss.PERMISSION_DENIED;case Ua.FAILED_PRECONDITION:return ss.FAILED_PRECONDITION;case Ua.ABORTED:return ss.ABORTED;case Ua.OUT_OF_RANGE:return ss.OUT_OF_RANGE;case Ua.UNIMPLEMENTED:return ss.UNIMPLEMENTED;case Ua.DATA_LOSS:return ss.DATA_LOSS;default:return Xt(39323,{code:e})}}(Va=Ua||(Ua={}))[Va.OK=0]="OK",Va[Va.CANCELLED=1]="CANCELLED",Va[Va.UNKNOWN=2]="UNKNOWN",Va[Va.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Va[Va.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Va[Va.NOT_FOUND=5]="NOT_FOUND",Va[Va.ALREADY_EXISTS=6]="ALREADY_EXISTS",Va[Va.PERMISSION_DENIED=7]="PERMISSION_DENIED",Va[Va.UNAUTHENTICATED=16]="UNAUTHENTICATED",Va[Va.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Va[Va.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Va[Va.ABORTED=10]="ABORTED",Va[Va.OUT_OF_RANGE=11]="OUT_OF_RANGE",Va[Va.UNIMPLEMENTED=12]="UNIMPLEMENTED",Va[Va.INTERNAL=13]="INTERNAL",Va[Va.UNAVAILABLE=14]="UNAVAILABLE",Va[Va.DATA_LOSS=15]="DATA_LOSS";new At([4294967295,4294967295],0);Error;class qa{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ha(e){return es(!!e,49232),Ms.fromTimestamp(function(e){const t=Pn(e);return new Os(t.seconds,t.nanos)}(e))}function Ga(e,t){const s=function(e){return new ws(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?s:s.child(t)}function Ka(e){const t=ws.fromString(e);return es(Xa(t),10190,{key:t.toString()}),t}function Wa(e){const t=Ka(e);return 4===t.length?ws.emptyPath():$a(t)}function $a(e){return es(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ja(e){let t=Wa(e.parent);const s=e.structuredQuery,n=s.from?s.from.length:0;let r=null;if(n>0){es(1===n,65062);const e=s.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let a=[];s.where&&(a=function(e){const t=Qa(e);return t instanceof br&&yr(t)?t.getFilters():[t]}(s.where));let i=[];s.orderBy&&(i=function(e){return e.map((e=>function(e){return new pr(Ya(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(s.orderBy));let o=null;s.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,$s(t)?null:t}(s.limit));let l=null;s.startAt&&(l=function(e){const t=!!e.before,s=e.values||[];return new ur(s,t)}(s.startAt));let c=null;return s.endAt&&(c=function(e){const t=!e.before,s=e.values||[];return new ur(s,t)}(s.endAt)),zr(t,r,i,a,o,"F",l,c)}function Qa(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ya(e.unaryFilter.field);return fr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Ya(e.unaryFilter.field);return fr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=Ya(e.unaryFilter.field);return fr.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ya(e.unaryFilter.field);return fr.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xt(61313);default:return Xt(60726)}}(e):void 0!==e.fieldFilter?function(e){return fr.create(Ya(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xt(58110);default:return Xt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return br.create(e.compositeFilter.filters.map((e=>Qa(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Xt(1026)}}(e.compositeFilter.op))}(e):Xt(30097,{filter:e})}function Ya(e){return Ss.fromServerFormat(e.fieldPath)}function Xa(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Za{constructor(e){this.yt=e}}function ei(e){const t=Ja({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gr(t,t.limit,"L"):t}class ti{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Rn(e.integerValue));else if("doubleValue"in e){const s=Rn(e.doubleValue);isNaN(s)?this.Ft(t,13):(this.Ft(t,15),Js(s)?t.Mt(0):t.Mt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Ft(t,20),"string"==typeof s&&(s=Pn(s)),t.xt("".concat(s.seconds||"")),t.Mt(s.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(On(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.Ft(t,45),t.Mt(s.latitude||0),t.Mt(s.longitude||0)}else"mapValue"in e?lr(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ir(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Xt(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const s=e.fields||{};this.Ft(t,55);for(const n of Object.keys(s))this.Ot(n,t),this.Ct(s[n],t)}kt(e,t){var s;const n=e.fields||{};this.Ft(t,53);const r=$n,a=(null===(s=n[r].arrayValue)||void 0===s||null===(s=s.values)||void 0===s?void 0:s.length)||0;this.Ft(t,15),t.Mt(Rn(a)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const s=e.values||[];this.Ft(t,50);for(const n of s)this.Ct(n,t)}Lt(e,t){this.Ft(t,37),Cs.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ti.Kt=new ti;class si{constructor(){this.Cn=new ni}addToCollectionParentIndex(e,t){return this.Cn.add(t),qs.resolve()}getCollectionParents(e,t){return qs.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return qs.resolve()}deleteFieldIndex(e,t){return qs.resolve()}deleteAllFieldIndexes(e){return qs.resolve()}createTargetIndexes(e,t){return qs.resolve()}getDocumentsMatchingTarget(e,t){return qs.resolve(null)}getIndexType(e,t){return qs.resolve(0)}getFieldIndexes(e,t){return qs.resolve([])}getNextCollectionGroupToUpdate(e){return qs.resolve(null)}getMinOffset(e,t){return qs.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return qs.resolve(Us.min())}updateCollectionGroup(e,t,s){return qs.resolve()}updateIndexEntries(e,t){return qs.resolve()}}class ni{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),n=this.index[t]||new Cn(ws.comparator),r=!n.has(s);return this.index[t]=n.add(s),r}has(e){const t=e.lastSegment(),s=e.popLast(),n=this.index[t];return n&&n.has(s)}getEntries(e){return(this.index[e]||new Cn(ws.comparator)).toArray()}}new Uint8Array(0);const ri=41943040;class ai{static withCacheSize(e){return new ai(e,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(ri,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);class ii{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ii(0)}static cr(){return new ii(-1)}}const oi=1048576;class li{constructor(){this.changes=new Xr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?qs.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ci{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class di{constructor(e,t,s,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=n}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((n=>(s=n,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==s&&Ia(s.mutation,e,_n.empty(),Os.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,la()).next((()=>t))))}getLocalViewOfDocuments(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:la();const n=ra();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,s).next((e=>{let t=sa();return e.forEach(((e,s)=>{t=t.insert(e,s.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const s=ra();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,la())))}populateOverlays(e,t,s){const n=[];return s.forEach((e=>{t.has(e)||n.push(e)})),this.documentOverlayCache.getOverlays(e,n).next((e=>{e.forEach(((e,s)=>{t.set(e,s)}))}))}computeViews(e,t,s,n){let r=ea();const a=ia(),i=ia();return t.forEach(((e,t)=>{const i=s.get(t.key);n.has(t.key)&&(void 0===i||i.mutation instanceof Ra)?r=r.insert(t.key,t):void 0!==i?(a.set(t.key,i.mutation.getFieldMask()),Ia(i.mutation,t,i.mutation.getFieldMask(),Os.now())):a.set(t.key,_n.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var s;return i.set(e,new ci(t,null!==(s=a.get(e))&&void 0!==s?s:null))})),i)))}recalculateAndSaveOverlays(e,t){const s=ia();let n=new wn(((e,t)=>e-t)),r=la();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let i=s.get(e)||_n.empty();i=r.applyToLocalView(a,i),s.set(e,i);const o=(n.get(r.batchId)||la()).add(e);n=n.insert(r.batchId,o)}))})).next((()=>{const a=[],i=n.getReverseIterator();for(;i.hasNext();){const n=i.getNext(),o=n.key,l=n.value,c=aa();l.forEach((e=>{if(!r.has(e)){const n=_a(t.get(e),s.get(e));null!==n&&c.set(e,n),r=r.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return qs.waitFor(a)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,s,n){return function(e){return Cs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vr(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,n):this.getDocumentsMatchingCollectionQuery(e,t,s,n)}getNextDocuments(e,t,s,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,n).next((r=>{const a=n-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,n-r.size):qs.resolve(ra());let i=Ds,o=r;return a.next((t=>qs.forEach(t,((t,s)=>(i<s.largestBatchId&&(i=s.largestBatchId),r.get(t)?qs.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,o,t,la()))).next((e=>({batchId:i,changes:na(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Cs(t)).next((e=>{let t=sa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,n){const r=t.collectionGroup;let a=sa();return this.indexManager.getCollectionParents(e,r).next((i=>qs.forEach(i,(i=>{const o=function(e,t){return new Lr(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,s,n).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,s,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,r,n)))).next((e=>{r.forEach(((t,s)=>{const n=s.getKey();null===e.get(n)&&(e=e.insert(n,dr.newInvalidDocument(n)))}));let s=sa();return e.forEach(((e,n)=>{const a=r.get(e);void 0!==a&&Ia(a.mutation,n,_n.empty(),Os.now()),Jr(t,n)&&(s=s.insert(e,n))})),s}))}}class ui{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return qs.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ha(e.createTime)}}(t)),qs.resolve()}getNamedQuery(e,t){return qs.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:ei(e.bundledQuery),readTime:Ha(e.readTime)}}(t)),qs.resolve()}}class mi{constructor(){this.overlays=new wn(Cs.comparator),this.qr=new Map}getOverlay(e,t){return qs.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ra();return qs.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&s.set(t,e)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((s,n)=>{this.St(e,t,n)})),qs.resolve()}removeOverlaysForBatchId(e,t,s){const n=this.qr.get(s);return void 0!==n&&(n.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(s)),qs.resolve()}getOverlaysForCollection(e,t,s){const n=ra(),r=t.length+1,a=new Cs(t.child("")),i=this.overlays.getIteratorFrom(a);for(;i.hasNext();){const e=i.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===r&&e.largestBatchId>s&&n.set(e.getKey(),e)}return qs.resolve(n)}getOverlaysForCollectionGroup(e,t,s,n){let r=new wn(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>s){let t=r.get(e.largestBatchId);null===t&&(t=ra(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=ra(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>i.set(e,t))),!(i.size()>=n)););return qs.resolve(i)}St(e,t,s){const n=this.overlays.get(s.key);if(null!==n){const e=this.qr.get(n.largestBatchId).delete(s.key);this.qr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(s.key,new Fa(t,s));let r=this.qr.get(t);void 0===r&&(r=la(),this.qr.set(t,r)),this.qr.set(t,r.add(s.key))}}class hi{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return qs.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,qs.resolve()}}class pi{constructor(){this.Qr=new Cn(xi.$r),this.Ur=new Cn(xi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new xi(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new xi(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){const t=new Cs(new ws([])),s=new xi(t,e),n=new xi(t,e+1),r=[];return this.Ur.forEachInRange([s,n],(e=>{this.Gr(e),r.push(e.key)})),r}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Cs(new ws([])),s=new xi(t,e),n=new xi(t,e+1);let r=la();return this.Ur.forEachInRange([s,n],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new xi(e,0),s=this.Qr.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class xi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Cs.comparator(e.key,t.key)||xs(e.Yr,t.Yr)}static Kr(e,t){return xs(e.Yr,t.Yr)||Cs.comparator(e.key,t.key)}}class gi{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Cn(xi.$r)}checkEmpty(e){return qs.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,n){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new za(r,t,s,n);this.mutationQueue.push(a);for(const i of n)this.Zr=this.Zr.add(new xi(i.key,r)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return qs.resolve(a)}lookupMutationBatch(e,t){return qs.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,n=this.ei(s),r=n<0?0:n;return qs.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return qs.resolve(0===this.mutationQueue.length?Ws:this.tr-1)}getAllMutationBatches(e){return qs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new xi(t,0),n=new xi(t,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([s,n],(e=>{const t=this.Xr(e.Yr);r.push(t)})),qs.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Cn(xs);return t.forEach((e=>{const t=new xi(e,0),n=new xi(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,n],(e=>{s=s.add(e.Yr)}))})),qs.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,n=s.length+1;let r=s;Cs.isDocumentKey(r)||(r=r.child(""));const a=new xi(new Cs(r),0);let i=new Cn(xs);return this.Zr.forEachWhile((e=>{const t=e.key.path;return!!s.isPrefixOf(t)&&(t.length===n&&(i=i.add(e.Yr)),!0)}),a),qs.resolve(this.ti(i))}ti(e){const t=[];return e.forEach((e=>{const s=this.Xr(e);null!==s&&t.push(s)})),t}removeMutationBatch(e,t){es(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let s=this.Zr;return qs.forEach(t.mutations,(n=>{const r=new xi(n.key,t.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new xi(t,0),n=this.Zr.firstAfterOrEqual(s);return qs.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,qs.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fi{constructor(e){this.ri=e,this.docs=new wn(Cs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,n=this.docs.get(s),r=n?n.size:0,a=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return qs.resolve(s?s.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let s=ea();return t.forEach((e=>{const t=this.docs.get(e);s=s.insert(e,t?t.document.mutableCopy():dr.newInvalidDocument(e))})),qs.resolve(s)}getDocumentsMatchingQuery(e,t,s,n){let r=ea();const a=t.path,i=new Cs(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Vs(Fs(i),s)<=0||(n.has(i.key)||Jr(t,i))&&(r=r.insert(i.key,i.mutableCopy()))}return qs.resolve(r)}getAllFromCollectionGroup(e,t,s,n){Xt(9500)}ii(e,t){return qs.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new bi(this)}getSize(e){return qs.resolve(this.size)}}class bi extends li{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,n)=>{n.isValidDocument()?t.push(this.Nr.addEntry(e,n)):this.Nr.removeEntry(s)})),qs.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class vi{constructor(e){this.persistence=e,this.si=new Xr((e=>Mr(e)),Dr),this.lastRemoteSnapshotVersion=Ms.min(),this.highestTargetId=0,this.oi=0,this._i=new pi,this.targetCount=0,this.ai=ii.ur()}forEachTarget(e,t){return this.si.forEach(((e,s)=>t(s))),qs.resolve()}getLastRemoteSnapshotVersion(e){return qs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qs.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),qs.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),qs.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ii(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,qs.resolve()}updateTargetData(e,t){return this.Pr(t),qs.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,qs.resolve()}removeTargets(e,t,s){let n=0;const r=[];return this.si.forEach(((a,i)=>{i.sequenceNumber<=t&&null===s.get(i.targetId)&&(this.si.delete(a),r.push(this.removeMatchingKeysForTargetId(e,i.targetId)),n++)})),qs.waitFor(r).next((()=>n))}getTargetCount(e){return qs.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return qs.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),qs.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const n=this.persistence.referenceDelegate,r=[];return n&&t.forEach((t=>{r.push(n.markPotentiallyOrphaned(e,t))})),qs.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),qs.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return qs.resolve(s)}containsKey(e,t){return qs.resolve(this._i.containsKey(t))}}class yi{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ks(0),this.li=!1,this.li=!0,this.hi=new hi,this.referenceDelegate=e(this),this.Pi=new vi(this),this.indexManager=new si,this.remoteDocumentCache=function(e){return new fi(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new Za(t),this.Ii=new ui(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mi,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new gi(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){$t("MemoryPersistence","Starting transaction:",e);const n=new ji(this.ci.next());return this.referenceDelegate.Ei(),s(n).next((e=>this.referenceDelegate.di(n).next((()=>e)))).toPromise().then((e=>(n.raiseOnCommittedEvent(),e)))}Ai(e,t){return qs.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class ji extends Bs{constructor(e){super(),this.currentSequenceNumber=e}}class Ni{constructor(e){this.persistence=e,this.Ri=new pi,this.Vi=null}static mi(e){return new Ni(e)}get fi(){if(this.Vi)return this.Vi;throw Xt(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),qs.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),qs.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),qs.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qs.forEach(this.fi,(s=>{const n=Cs.fromPath(s);return this.gi(e,n).next((e=>{e||t.removeEntry(n,Ms.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return qs.or([()=>qs.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class wi{constructor(e,t,s,n){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=n}static As(e,t){let s=la(),n=la();for(const r of t.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:n=n.add(r.doc.key)}return new wi(e,t.fromCache,s,n)}}class ki{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Si{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=F()?8:Hs(D())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,n){const r={result:null};return this.ys(e,t).next((e=>{r.result=e})).next((()=>{if(!r.result)return this.ws(e,t,n,s).next((e=>{r.result=e}))})).next((()=>{if(r.result)return;const s=new ki;return this.Ss(e,t,s).next((n=>{if(r.result=n,this.Vs)return this.bs(e,t,s,n.size)}))})).next((()=>r.result))}bs(e,t,s,n){return s.documentReadCount<this.fs?(Wt()<=ae.DEBUG&&$t("QueryEngine","SDK will not create cache indexes for query:",$r(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),qs.resolve()):(Wt()<=ae.DEBUG&&$t("QueryEngine","Query:",$r(t),"scans",s.documentReadCount,"local documents and returns",n,"documents as results."),s.documentReadCount>this.gs*n?(Wt()<=ae.DEBUG&&$t("QueryEngine","The SDK decides to create cache indexes for query:",$r(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):qs.resolve())}ys(e,t){if(Ur(t))return qs.resolve(null);let s=qr(t);return this.indexManager.getIndexType(e,s).next((n=>0===n?null:(null!==t.limit&&1===n&&(t=Gr(t,null,"F"),s=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((n=>{const r=la(...n);return this.ps.getDocuments(e,r).next((n=>this.indexManager.getMinOffset(e,s).next((s=>{const a=this.Ds(t,n);return this.Cs(t,a,r,s.readTime)?this.ys(e,Gr(t,null,"F")):this.vs(e,a,t,s)}))))})))))}ws(e,t,s,n){return Ur(t)||n.isEqual(Ms.min())?qs.resolve(null):this.ps.getDocuments(e,s).next((r=>{const a=this.Ds(t,r);return this.Cs(t,a,s,n)?qs.resolve(null):(Wt()<=ae.DEBUG&&$t("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),$r(t)),this.vs(e,a,t,zs(n,Ds)).next((e=>e)))}))}Ds(e,t){let s=new Cn(Qr(e));return t.forEach(((t,n)=>{Jr(e,n)&&(s=s.add(n))})),s}Cs(e,t,s,n){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(n)>0)}Ss(e,t,s){return Wt()<=ae.DEBUG&&$t("QueryEngine","Using full collection scan to execute query:",$r(t)),this.ps.getDocumentsMatchingQuery(e,t,Us.min(),s)}vs(e,t,s,n){return this.ps.getDocumentsMatchingQuery(e,s,n).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Ci="LocalStore";class Ei{constructor(e,t,s,n){this.persistence=e,this.Fs=t,this.serializer=n,this.Ms=new wn(xs),this.xs=new Xr((e=>Mr(e)),Dr),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new di(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function _i(e,t,s,n){return new Ei(e,t,s,n)}async function Ai(e,t){const s=ts(e);return await s.persistence.runTransaction("Handle user change","readonly",(e=>{let n;return s.mutationQueue.getAllMutationBatches(e).next((r=>(n=r,s.Bs(t),s.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],a=[];let i=la();for(const e of n){r.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return s.localDocuments.getDocuments(e,i).next((e=>({Ls:e,removedBatchIds:r,addedBatchIds:a})))}))}))}class Ii{constructor(){this.activeTargetIds=da()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ti{constructor(){this.Mo=new Ii,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ii,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pi{Oo(e){}shutdown(){}}const Ri="ConnectivityMonitor";class Oi{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$t(Ri,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){$t(Ri,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mi=null;function Di(){return null===Mi?Mi=268435456+Math.round(2147483648*Math.random()):Mi++,"0x"+Mi.toString(16)}const Li="RestConnection",zi={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fi{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(s,"/databases/").concat(n),this.Wo=this.databaseId.database===Bn?"project_id=".concat(s):"project_id=".concat(s,"&database_id=").concat(n)}Go(e,t,s,n,r){const a=Di(),i=this.zo(e,t.toUriEncodedString());$t(Li,"Sending RPC '".concat(e,"' ").concat(a,":"),i,s);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,n,r);const{host:l}=new URL(i),c=T(l);return this.Jo(e,i,o,s,c).then((t=>($t(Li,"Received RPC '".concat(e,"' ").concat(a,": "),t),t)),(t=>{throw Qt(Li,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",i,"request:",s),t}))}Ho(e,t,s,n,r,a){return this.Go(e,t,s,n,r)}jo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,s)=>e[s]=t)),s&&s.headers.forEach(((t,s)=>e[s]=t))}zo(e,t){const s=zi[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(s)}terminate(){}}class Ui{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Vi="WebChannelConnection";class Bi extends Fi{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,n,r){const a=Di();return new Promise(((r,i)=>{const o=new Pt;o.setWithCredentials(!0),o.listenOnce(Ot.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Mt.NO_ERROR:const s=o.getResponseJson();$t(Vi,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(s)),r(s);break;case Mt.TIMEOUT:$t(Vi,"RPC '".concat(e,"' ").concat(a," timed out")),i(new ns(ss.DEADLINE_EXCEEDED,"Request time out"));break;case Mt.HTTP_ERROR:const n=o.getStatus();if($t(Vi,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",o.getResponseText()),n>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const s=null===(t=e)||void 0===t?void 0:t.error;if(s&&s.status&&s.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ss).indexOf(t)>=0?t:ss.UNKNOWN}(s.status);i(new ns(e,s.message))}else i(new ns(ss.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new ns(ss.UNAVAILABLE,"Connection failed."));break;default:Xt(9055,{l_:e,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{$t(Vi,"RPC '".concat(e,"' ").concat(a," completed."))}}));const l=JSON.stringify(n);$t(Vi,"RPC '".concat(e,"' ").concat(a," sending request:"),n),o.send(t,"POST",l,s,15)}))}T_(e,t,s){const n=Di(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ft(),i=zt(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,s),o.encodeInitMessageHeaders=!0;const c=r.join("");$t(Vi,"Creating RPC '".concat(e,"' stream ").concat(n,": ").concat(c),o);const d=a.createWebChannel(c,o);this.I_(d);let u=!1,m=!1;const h=new Ui({Yo:t=>{m?$t(Vi,"Not sending because RPC '".concat(e,"' stream ").concat(n," is closed:"),t):(u||($t(Vi,"Opening RPC '".concat(e,"' stream ").concat(n," transport.")),d.open(),u=!0),$t(Vi,"RPC '".concat(e,"' stream ").concat(n," sending:"),t),d.send(t))},Zo:()=>d.close()}),p=(e,t,s)=>{e.listen(t,(e=>{try{s(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(d,Rt.EventType.OPEN,(()=>{m||($t(Vi,"RPC '".concat(e,"' stream ").concat(n," transport opened.")),h.o_())})),p(d,Rt.EventType.CLOSE,(()=>{m||(m=!0,$t(Vi,"RPC '".concat(e,"' stream ").concat(n," transport closed")),h.a_(),this.E_(d))})),p(d,Rt.EventType.ERROR,(t=>{m||(m=!0,Qt(Vi,"RPC '".concat(e,"' stream ").concat(n," transport errored. Name:"),t.name,"Message:",t.message),h.a_(new ns(ss.UNAVAILABLE,"The operation could not be completed")))})),p(d,Rt.EventType.MESSAGE,(t=>{if(!m){var s;const r=t.data[0];es(!!r,16349);const a=r,i=(null===a||void 0===a?void 0:a.error)||(null===(s=a[0])||void 0===s?void 0:s.error);if(i){$t(Vi,"RPC '".concat(e,"' stream ").concat(n," received error:"),i);const t=i.status;let s=function(e){const t=Ua[e];if(void 0!==t)return Ba(t)}(t),r=i.message;void 0===s&&(s=ss.INTERNAL,r="Unknown error status: "+t+" with message "+i.message),m=!0,h.a_(new ns(s,r)),d.close()}else $t(Vi,"RPC '".concat(e,"' stream ").concat(n," received:"),r),h.u_(r)}})),p(i,Lt.STAT_EVENT,(t=>{t.stat===Dt.PROXY?$t(Vi,"RPC '".concat(e,"' stream ").concat(n," detected buffering proxy")):t.stat===Dt.NOPROXY&&$t(Vi,"RPC '".concat(e,"' stream ").concat(n," detected no buffering proxy"))})),setTimeout((()=>{h.__()}),0),h}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function qi(){return"undefined"!=typeof document?document:null}function Hi(e){return new qa(e,!0)}class Gi{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=s,this.A_=n,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),n=Math.max(0,t-s);n>0&&$t("ExponentialBackoff","Backing off for ".concat(n," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(s," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,n,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}class Ki{}class Wi extends Ki{constructor(e,t,s,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=n,this.ia=!1}sa(){if(this.ia)throw new ns(ss.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,n){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[a,i]=r;return this.connection.Go(e,Ga(t,s),n,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ss.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ns(ss.UNKNOWN,e.toString())}))}Ho(e,t,s,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[i,o]=a;return this.connection.Ho(e,Ga(t,s),n,i,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ss.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ns(ss.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $i{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Jt(t),this.aa=!1):$t("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Ji="RemoteStore";class Qi{constructor(e,t,s,n,r){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo((e=>{s.enqueueAndForget((async()=>{Zi(this)&&($t(Ji,"Restarting streams for network reachability change."),await async function(e){const t=ts(e);t.Ea.add(4),await Xi(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Yi(t)}(this))}))})),this.Ra=new $i(s,n)}}async function Yi(e){if(Zi(e))for(const t of e.da)await t(!0)}async function Xi(e){for(const t of e.da)await t(!1)}function Zi(e){return 0===ts(e).Ea.size}async function eo(e,t){const s=ts(e);t?(s.Ea.delete(2),await Yi(s)):t||(s.Ea.add(2),await Xi(s),s.Ra.set("Unknown"))}class to{constructor(e,t,s,n,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=n,this.removalCallback=r,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,n,r){const a=Date.now()+s,i=new to(e,t,a,n,r);return i.start(s),i}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ns(ss.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class so{constructor(){this.queries=no(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const s=ts(e),n=s.queries;s.queries=no(),n.forEach(((e,s)=>{for(const n of s.Sa)n.onError(t)}))}(this,new ns(ss.ABORTED,"Firestore shutting down"))}}function no(){return new Xr((e=>Wr(e)),Kr)}function ro(e){e.Ca.forEach((e=>{e.next()}))}var ao,io;(io=ao||(ao={})).Ma="default",io.Cache="cache";const oo="SyncEngine";class lo{constructor(e,t,s,n,r,a){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=n,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Xr((e=>Wr(e)),Kr),this.Iu=new Map,this.Eu=new Set,this.du=new wn(Cs.comparator),this.Au=new Map,this.Ru=new pi,this.Vu={},this.mu=new Map,this.fu=ii.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function co(e,t,s){const n=ts(e);if(n.isPrimaryClient&&0===s||!n.isPrimaryClient&&1===s){const e=[];n.Tu.forEach(((s,n)=>{const r=n.view.va(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const s=ts(e);s.onlineState=t;let n=!1;s.queries.forEach(((e,s)=>{for(const r of s.Sa)r.va(t)&&(n=!0)})),n&&ro(s)}(n.eventManager,t),e.length&&n.Pu.H_(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function uo(e,t,s){const n=ts(e),r=[],a=[],i=[];n.Tu.isEmpty()||(n.Tu.forEach(((e,o)=>{i.push(n.pu(o,t,s).then((e=>{if((e||s)&&n.isPrimaryClient){var t;const r=e?!e.fromCache:null===s||void 0===s||null===(t=s.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;n.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(e){r.push(e);const t=wi.As(o.targetId,e);a.push(t)}})))})),await Promise.all(i),n.Pu.H_(r),await async function(e,t){const s=ts(e);try{await s.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>qs.forEach(t,(t=>qs.forEach(t.Es,(n=>s.persistence.referenceDelegate.addReference(e,t.targetId,n))).next((()=>qs.forEach(t.ds,(n=>s.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))))))}catch(e){if(!Gs(e))throw e;$t(Ci,"Failed to update sequence numbers: "+e)}for(const n of t){const e=n.targetId;if(!n.fromCache){const t=s.Ms.get(e),n=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(n);s.Ms=s.Ms.insert(e,r)}}}(n.localStore,a))}async function mo(e,t){const s=ts(e);if(!s.currentUser.isEqual(t)){$t(oo,"User change. New user:",t.toKey());const e=await Ai(s.localStore,t);s.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new ns(ss.CANCELLED,t))}))})),e.mu.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await uo(s,e.Ls)}}class ho{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hi(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _i(this.persistence,new Si,e.initialUser,this.serializer)}Cu(e){return new yi(Ni.mi,this.serializer)}Du(e){return new Ti}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ho.provider={build:()=>new ho};class po{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>co(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=mo.bind(null,this.syncEngine),await eo(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new so}createDatastore(e){const t=Hi(e.databaseInfo.databaseId),s=function(e){return new Bi(e)}(e.databaseInfo);return function(e,t,s,n){return new Wi(e,t,s,n)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(e,t,s,n,r){return new Qi(e,t,s,n,r)}(this.localStore,this.datastore,e.asyncQueue,(e=>co(this.syncEngine,e,0)),Oi.v()?new Oi:new Pi)}createSyncEngine(e,t){return function(e,t,s,n,r,a,i){const o=new lo(e,t,s,n,r,a);return i&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ts(e);$t(Ji,"RemoteStore shutting down."),t.Ea.add(5),await Xi(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}po.provider={build:()=>new po};function xo(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const go=new Map,fo="firestore.googleapis.com",bo=!0;class vo{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ns(ss.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fo,this.ssl=bo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:bo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ri;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<oi)throw new ns(ss.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,s,n){if(!0===t&&!0===n)throw new ns(ss.INVALID_ARGUMENT,"".concat(e," and ").concat(s," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xo(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ns(ss.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ns(ss.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ns(ss.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yo{constructor(e,t,s,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ns(ss.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ns(ss.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new is;switch(e.type){case"firstParty":return new ds(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ns(ss.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=go.get(e);t&&($t("ComponentProvider","Removing Datastore"),go.delete(e),t.terminate())}(this),Promise.resolve()}}function jo(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=As(e,yo);const r=T(t),a=e._getSettings(),i=d(d({},a),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(s);r&&(P("https://".concat(o)),M("Firestore",!0)),a.host!==fo&&a.host!==o&&Qt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=d(d({},a),{},{host:o,ssl:r,emulatorOptions:n});if(!G(l,i)&&(e._setSettings(l),n.mockUserToken)){let t,s;if("string"==typeof n.mockUserToken)t=n.mockUserToken,s=Ht.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s=t||"demo-project",n=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=d({iss:"https://securetoken.google.com/".concat(s),aud:s,iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[N(JSON.stringify({alg:"none",type:"JWT"})),N(JSON.stringify(a)),""].join(".")}(n.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const r=n.mockUserToken.sub||n.mockUserToken.user_id;if(!r)throw new ns(ss.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Ht(r)}e._authCredentials=new os(new as(t,s))}}class No{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class wo{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wo(this.firestore,e,this._key)}toJSON(){return{type:wo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ts(t,wo._jsonSchema))return new wo(e,s||null,new Cs(ws.fromString(t.referencePath)))}}wo._jsonSchemaVersion="firestore/documentReference/1.0",wo._jsonSchema={type:Is("string",wo._jsonSchemaVersion),referencePath:Is("string")};class ko extends No{constructor(e,t,s){super(e,t,Fr(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wo(this.firestore,null,new Cs(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}const So="AsyncQueue";class Co{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gi(this,"async_queue_retry"),this._c=()=>{const e=qi();e&&$t(So,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=qi();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=qi();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gs(e))throw e;$t(So,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Jt("INTERNAL UNHANDLED ERROR: ",Eo(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const n=to.createAndSchedule(this,e,t,s,(e=>this.hc(e)));return this.tc.push(n),n}uc(){this.nc&&Xt(47125,{Pc:Eo(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Eo(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class _o extends yo{constructor(e,t,s,n){super(e,t,s,n),this.type="firestore",this._queue=new Co,this._persistenceKey=(null===n||void 0===n?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Co(e),this._firestoreClient=void 0,await e}}}class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(In.fromBase64String(e))}catch(e){throw new ns(ss.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ao(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ao._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ts(e,Ao._jsonSchema))return Ao.fromBase64String(e.bytes)}}Ao._jsonSchemaVersion="firestore/bytes/1.0",Ao._jsonSchema={type:Is("string",Ao._jsonSchemaVersion),bytes:Is("string")};class Io{constructor(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];for(let n=0;n<t.length;++n)if(0===t[n].length)throw new ns(ss.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ss(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class To{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ns(ss.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ns(ss.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xs(this._lat,e._lat)||xs(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:To._jsonSchemaVersion}}static fromJSON(e){if(Ts(e,To._jsonSchema))return new To(e.latitude,e.longitude)}}To._jsonSchemaVersion="firestore/geoPoint/1.0",To._jsonSchema={type:Is("string",To._jsonSchemaVersion),latitude:Is("number"),longitude:Is("number")};class Po{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;++s)if(e[s]!==t[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Po._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ts(e,Po._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((e=>"number"==typeof e)))return new Po(e.vectorValues);throw new ns(ss.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Po._jsonSchemaVersion="firestore/vectorValue/1.0",Po._jsonSchema={type:Is("string",Po._jsonSchemaVersion),vectorValues:Is("object")};const Ro=new RegExp("[~\\*/\\[\\]]");function Oo(e,t,s){if(t.search(Ro)>=0)throw Mo("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,s);try{return new Io(...t.split("."))._internalPath}catch(n){throw Mo("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,s)}}function Mo(e,t,s,n,r){const a=n&&!n.isEmpty(),i=void 0!==r;let o="Function ".concat(t,"() called with invalid data");s&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||i)&&(l+=" (found",a&&(l+=" in field ".concat(n)),i&&(l+=" in document ".concat(r)),l+=")"),new ns(ss.INVALID_ARGUMENT,o+e+l)}class Do{constructor(e,t,s,n,r){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=n,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new wo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lo(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zo("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lo extends Do{data(){return super.data()}}function zo(e,t){return"string"==typeof t?Oo(e,t):t instanceof Io?t._internalPath:t._delegate._internalPath}class Fo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uo extends Do{constructor(e,t,s,n,r,a){super(e,t,s,n,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Vo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const s=this._document.data.field(zo("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ns(ss.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Uo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Uo._jsonSchema={type:Is("string",Uo._jsonSchemaVersion),bundleSource:Is("string","DocumentSnapshot"),bundleName:Is("string"),bundle:Is("string")};class Vo extends Uo{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Bo{constructor(e,t,s,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new Fo(n.hasPendingWrites,n.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Vo(this._firestore,this._userDataWriter,s.key,s,new Fo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ns(ss.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((s=>{const n=new Vo(e._firestore,e._userDataWriter,s.doc.key,s.doc,new Fo(e._snapshot.mutatedKeys.has(s.doc.key),e._snapshot.fromCache),e.query.converter);return s.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}}))}{let s=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const n=new Vo(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fo(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,a=-1;return 0!==t.type&&(r=s.indexOf(t.doc.key),s=s.delete(t.doc.key)),1!==t.type&&(s=s.add(t.doc),a=s.indexOf(t.doc.key)),{type:qo(t.type),doc:n,oldIndex:r,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ns(ss.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ps.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],n=[];return this.docs.forEach((e=>{null!==e._document&&(t.push(e._document),s.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),n.push(e.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qo(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt(61501,{type:e})}}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:Is("string",Bo._jsonSchemaVersion),bundleSource:Is("string","QuerySnapshot"),bundleName:Is("string"),bundle:Is("string")};new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Gt=e}(xt),dt(new ee("firestore",((e,s)=>{let{instanceIdentifier:n,options:r}=s;const a=e.getProvider("app").getImmediate(),i=new _o(new ls(e.getProvider("auth-internal")),new ms(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ns(ss.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qn(e.options.projectId,t)}(a,n),a);return r=d({useFetchStreams:t},r),i._setSettings(r),i}),"PUBLIC").setMultipleInstances(!0)),bt(Bt,qt,e),bt(Bt,qt,"esm2020")}();const Ho=["providerId"],Go=["uid","auth","stsTokenManager"],Ko=["providerId","signInMethod"];function Wo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $o=Wo,Jo=new q("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qo=new de("@firebase/auth");function Yo(e){if(Qo.logLevel<=ae.ERROR){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];Qo.error("Auth (".concat(xt,"): ").concat(e),...s)}}function Xo(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];throw sl(e,...s)}function Zo(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return sl(e,...s)}function el(e,t,s){const n=d(d({},$o()),{},{[t]:s});return new q("auth","Firebase",n).create(t,{appName:e.name})}function tl(e){return el(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sl(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];if("string"!==typeof e){const t=s[0],n=[...s.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(t,...n)}return Jo.create(e,...s)}function nl(e,t){if(!e){for(var s=arguments.length,n=new Array(s>2?s-2:0),r=2;r<s;r++)n[r-2]=arguments[r];throw sl(t,...n)}}function rl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Yo(t),new Error(t)}function al(e,t){e||rl(t)}function il(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ol(){return"http:"===ll()||"https:"===ll()}function ll(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class cl{constructor(e,t){this.shortDelay=e,this.longDelay=t,al(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(D())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ol()||z()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function dl(e,t){al(e.emulator,"Emulator should always be set here");const{url:s}=e.emulator;return t?"".concat(s).concat(t.startsWith("/")?t.slice(1):t):s}class ul{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ml={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},hl=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pl=new cl(3e4,6e4);function xl(e,t){return e.tenantId&&!t.tenantId?d(d({},t),{},{tenantId:e.tenantId}):t}async function gl(e,t,s,n){return fl(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},a={};n&&("GET"===t?a=n:r={body:JSON.stringify(n)});const i=W(d({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=d({method:t,headers:o},r);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&T(e.emulatorConfig.host)&&(l.credentials="include"),ul.fetch()(await vl(e,e.config.apiHost,s,i),l)}))}async function fl(e,t,s){e._canInitEmulator=!1;const n=d(d({},ml),t);try{const t=new jl(e),r=await Promise.race([s(),t.promise]);t.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Nl(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const t=r.ok?a.errorMessage:a.error.message,[s,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===s)throw Nl(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===s)throw Nl(e,"email-already-in-use",a);if("USER_DISABLED"===s)throw Nl(e,"user-disabled",a);const o=n[s]||s.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw el(e,o,i);Xo(e,o)}}catch(r){if(r instanceof B)throw r;Xo(e,"network-request-failed",{message:String(r)})}}async function bl(e,t,s,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await gl(e,t,s,n,r);return"mfaPendingCredential"in a&&Xo(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function vl(e,t,s,n){const r="".concat(t).concat(s,"?").concat(n),a=e,i=a.config.emulator?dl(e.config,r):"".concat(e.config.apiScheme,"://").concat(r);if(hl.includes(s)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(i).toString()}return i}function yl(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jl{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Zo(this.auth,"network-request-failed"))),pl.get())}))}}function Nl(e,t,s){const n={appName:e.name};s.email&&(n.email=s.email),s.phoneNumber&&(n.phoneNumber=s.phoneNumber);const r=Zo(e,t,n);return r.customData._tokenResponse=s,r}function wl(e){return void 0!==e&&void 0!==e.enterprise}class kl{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yl(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Sl(e,t){return gl(e,"GET","/v2/recaptchaConfig",xl(e,t))}async function Cl(e,t){return gl(e,"POST","/v1/accounts:lookup",t)}function El(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function _l(e){return 1e3*Number(e)}function Al(e){const[t,s,n]=e.split(".");if(void 0===t||void 0===s||void 0===n)return Yo("JWT malformed, contained fewer than 3 sections"),null;try{const e=w(s);return e?JSON.parse(e):(Yo("Failed to decode base64 JWT payload"),null)}catch(r){return Yo("Caught error parsing JWT payload as JSON",null===r||void 0===r?void 0:r.toString()),null}}function Il(e){const t=Al(e);return nl(t,"internal-error"),nl("undefined"!==typeof t.exp,"internal-error"),nl("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Tl(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(s){throw s instanceof B&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}class Pl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Rl{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ol(e){var t;const s=e.auth,n=await e.getIdToken(),r=await Tl(e,Cl(s,{idToken:n}));nl(null===r||void 0===r?void 0:r.users.length,s,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const i=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?Ml(a.providerUserInfo):[],o=(l=e.providerData,c=i,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const d=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(null!==o&&void 0!==o&&o.length),m=!!d&&u,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Rl(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(e,h)}function Ml(e){return e.map((e=>{let{providerId:t}=e,s=u(e,Ho);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}}))}class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nl(e.idToken,"internal-error"),nl("undefined"!==typeof e.idToken,"internal-error"),nl("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Il(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){nl(0!==e.length,"internal-error");const t=Il(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(nl(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:n,expiresIn:r}=await async function(e,t){const s=await fl(e,{},(async()=>{const s=W({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:r}=e.config,a=await vl(e,n,"/v1/token","key=".concat(r)),i=await e._getAdditionalHeaders();i["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:i,body:s};return e.emulatorConfig&&T(e.emulatorConfig.host)&&(o.credentials="include"),ul.fetch()(a,o)}));return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}(e,t);this.updateTokensAndExpiration(s,n,Number(r))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*s}static fromJSON(e,t){const{refreshToken:s,accessToken:n,expirationTime:r}=t,a=new Dl;return s&&(nl("string"===typeof s,"internal-error",{appName:e}),a.refreshToken=s),n&&(nl("string"===typeof n,"internal-error",{appName:e}),a.accessToken=n),r&&(nl("number"===typeof r,"internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return rl("not implemented")}}function Ll(e,t){nl("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class zl{constructor(e){let{uid:t,auth:s,stsTokenManager:n}=e,r=u(e,Go);this.providerId="firebase",this.proactiveRefresh=new Pl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Rl(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return nl(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=Z(e),n=await s.getIdToken(t),r=Al(n);nl(r&&r.exp&&r.auth_time&&r.iat,s.auth,"internal-error");const a="object"===typeof r.firebase?r.firebase:void 0,i=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:r,token:n,authTime:El(_l(r.auth_time)),issuedAtTime:El(_l(r.iat)),expirationTime:El(_l(r.exp)),signInProvider:i||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Z(e);await Ol(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(nl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>d({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zl(d(d({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){nl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ol(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mt(this.auth.app))return Promise.reject(tl(this.auth));const e=await this.getIdToken();return await Tl(this,async function(e,t){return gl(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return d(d({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>d({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,n,r,a,i,o,l,c;const u=null!==(s=t.displayName)&&void 0!==s?s:void 0,m=null!==(n=t.email)&&void 0!==n?n:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,x=null!==(i=t.tenantId)&&void 0!==i?i:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,f=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:y,isAnonymous:j,providerData:N,stsTokenManager:w}=t;nl(v&&w,e,"internal-error");const k=Dl.fromJSON(this.name,w);nl("string"===typeof v,e,"internal-error"),Ll(u,e.name),Ll(m,e.name),nl("boolean"===typeof y,e,"internal-error"),nl("boolean"===typeof j,e,"internal-error"),Ll(h,e.name),Ll(p,e.name),Ll(x,e.name),Ll(g,e.name),Ll(f,e.name),Ll(b,e.name);const S=new zl({uid:v,auth:e,email:m,emailVerified:y,displayName:u,isAnonymous:j,photoURL:p,phoneNumber:h,tenantId:x,stsTokenManager:k,createdAt:f,lastLoginAt:b});return N&&Array.isArray(N)&&(S.providerData=N.map((e=>d({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new Dl;n.updateFromServerResponse(t);const r=new zl({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:s});return await Ol(r),r}static async _fromGetAccountInfoResponse(e,t,s){const n=t.users[0];nl(void 0!==n.localId,"internal-error");const r=void 0!==n.providerUserInfo?Ml(n.providerUserInfo):[],a=!(n.email&&n.passwordHash)&&!(null!==r&&void 0!==r&&r.length),i=new Dl;i.updateFromIdToken(s);const o=new zl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:a}),l={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:r,metadata:new Rl(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(null!==r&&void 0!==r&&r.length)};return Object.assign(o,l),o}}const Fl=new Map;function Ul(e){al(e instanceof Function,"Expected a class definition");let t=Fl.get(e);return t?(al(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fl.set(e,t),t)}class Vl{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vl.type="NONE";const Bl=Vl;function ql(e,t,s){return"firebase".concat(":",e,":").concat(t,":").concat(s)}class Hl{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:n,name:r}=this.auth;this.fullUserKey=ql(this.userKey,n.apiKey,r),this.fullPersistenceKey=ql("persistence",n.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Cl(this.auth,{idToken:e}).catch((()=>{}));return t?zl._fromGetAccountInfoResponse(this.auth,t,e):null}return zl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Hl(Ul(Bl),e,s);const n=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=n[0]||Ul(Bl);const a=ql(s,e.config.apiKey,e.name);let i=null;for(const c of t)try{const t=await c._get(a);if(t){let s;if("string"===typeof t){const n=await Cl(e,{idToken:t}).catch((()=>{}));if(!n)break;s=await zl._fromGetAccountInfoResponse(e,n,t)}else s=zl._fromJSON(e,t);c!==r&&(i=s),r=c;break}}catch(l){}const o=n.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&o.length?(r=o[0],i&&await r._set(a,i.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(a)}catch(t){}}))),new Hl(r,e,s)):new Hl(r,e,s)}}function Gl(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Kl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yl(t))return"Blackberry";if(Xl(t))return"Webos";if(Wl(t))return"Safari";if((t.includes("chrome/")||$l(t))&&!t.includes("edge/"))return"Chrome";if(Ql(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(t);if(2===(null===s||void 0===s?void 0:s.length))return s[1]}return"Other"}function Kl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/firefox\//i.test(e)}function Wl(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:D()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/crios\//i.test(e)}function Jl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/iemobile/i.test(e)}function Ql(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/android/i.test(e)}function Yl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/blackberry/i.test(e)}function Xl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/webos/i.test(e)}function Zl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ec(){return function(){const e=D();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function tc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return Zl(e)||Ql(e)||Xl(e)||Yl(e)||/windows phone/i.test(e)||Jl(e)}function sc(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Gl(D());break;case"Worker":t="".concat(Gl(D()),"-").concat(e);break;default:t=e}const n=s.length?s.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xt,"/").concat(n)}class nc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=t=>new Promise(((s,n)=>{try{s(e(t))}catch(r){n(r)}}));s.onAbort=t,this.queue.push(s);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const e of t)try{e()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===s||void 0===s?void 0:s.message})}}}class rc{constructor(e){var t,s,n,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(s=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==s?s:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,n,r,a,i;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(s=o.meetsMaxPasswordLength)||void 0===s||s),o.isValid&&(o.isValid=null===(n=o.containsLowercaseLetter)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(i=o.containsNonAlphanumericCharacter)||void 0===i||i),o}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let s;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)s=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,n,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class ac{constructor(e,t,s,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oc(this),this.idTokenSubscription=new oc(this),this.beforeStateQueue=new nc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ul(t)),this._initializationPromise=this.queue((async()=>{var s,n,r;if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),null===(s=this._resolvePersistenceManagerAvailable)||void 0===s||s.call(this),!this._deleted)){if(null!==(n=this._popupRedirectResolver)&&void 0!==n&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Cl(this,{idToken:e}),s=await zl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,n=!1;if(e&&this.config.authDomain){var r,a;await this.getOrInitRedirectPersistenceManager();const t=null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId,i=null===(a=s)||void 0===a?void 0:a._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==i||null===o||void 0===o||!o.user||(s=o.user,n=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(n)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=t,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(i)))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return nl(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(s){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ol(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mt(this.app))return Promise.reject(tl(this));const t=e?Z(e):null;return t&&nl(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&nl(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return mt(this.app)?Promise.reject(tl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mt(this.app)?Promise.reject(tl(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Ul(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return gl(e,"GET","/v2/passwordPolicy",xl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new rc(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new q("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged((()=>{s(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return gl(e,"POST","/v2/accounts:revokeToken",xl(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return null===e?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ul(e)||this._popupRedirectResolver;nl(t,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[Ul(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(s=this.redirectUser)||void 0===s?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,n){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let a=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(nl(i,this,"internal-error"),i.then((()=>{a||r(this.currentUser)})),"function"===typeof t){const r=e.addObserver(t,s,n);return()=>{a=!0,r()}}{const s=e.addObserver(t);return()=>{a=!0,s()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nl(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;if(mt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Qo.logLevel<=ae.WARN){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];Qo.warn("Auth (".concat(xt,"): ").concat(e),...s)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ic(e){return Z(e)}class oc{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const s=new Q(e,t);return s.subscribe.bind(s)}((e=>this.observer=e))}get next(){return nl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cc(e){return lc.loadJS(e)}function dc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class uc{constructor(){this.enterprise=new mc}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mc{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hc="NO_RECAPTCHA";class pc{constructor(e){this.type="recaptcha-enterprise",this.auth=ic(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function s(t,s,n){const r=window.grecaptcha;wl(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{s(e)})).catch((()=>{s(hc)}))})):n(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new uc).execute("siteKey",{action:"verify"})}return new Promise(((e,n)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,s)=>{Sl(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((n=>{if(void 0!==n.recaptchaKey){const s=new kl(n);return null==e.tenantId?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,t(s.siteKey)}s(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{s(e)}))}))})(this.auth).then((r=>{if(!t&&wl(window.grecaptcha))s(r,e,n);else{if("undefined"===typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));let t=lc.recaptchaEnterpriseScript;0!==t.length&&(t+=r),cc(t).then((()=>{s(r,e,n)})).catch((e=>{n(e)}))}})).catch((e=>{n(e)}))}))}}async function xc(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new pc(e);let i;if(r)i=hc;else try{i=await a.verify(s)}catch(l){i=await a.verify(s,!0)}const o=d({},t);if("mfaSmsEnrollment"===s||"mfaSmsSignIn"===s){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function gc(e,t,s,n,r){if("EMAIL_PASSWORD_PROVIDER"===r){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await xc(e,t,s,"getOobCode"===s);return n(e,r)}return n(e,t).catch((async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(s," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await xc(e,t,s,"getOobCode"===s);return n(e,r)}return Promise.reject(r)}))}if("PHONE_PROVIDER"===r){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("PHONE_PROVIDER")){const r=await xc(e,t,s);return n(e,r).catch((async r=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(r.code==="auth/".concat("missing-recaptcha-token")||r.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(s," flow."));const r=await xc(e,t,s,!1,!0);return n(e,r)}return Promise.reject(r)}))}{const r=await xc(e,t,s,!1,!0);return n(e,r)}}return Promise.reject(r+" provider is not supported.")}async function fc(e){const t=ic(e),s=await Sl(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new kl(s);if(null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()){new pc(t).verify()}}function bc(e,t,s){const n=ic(e);nl(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const r=!(null===s||void 0===s||!s.disableWarnings),a=vc(t),{host:i,port:o}=function(e){const t=vc(e),s=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!s)return{host:"",port:null};const n=s[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const e=r[1];return{host:e,port:yc(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:yc(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(a,"//").concat(i).concat(l,"/")},d=Object.freeze({host:i,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator)return nl(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),void nl(G(c,n.config.emulator)&&G(d,n.emulatorConfig),n,"emulator-config-failed");n.config.emulator=c,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,T(i)?(P("".concat(a,"//").concat(i).concat(l)),M("Auth",!0)):r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function vc(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yc(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class jc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rl("not implemented")}_getIdTokenResponse(e){return rl("not implemented")}_linkToIdToken(e,t){return rl("not implemented")}_getReauthenticationResolver(e){return rl("not implemented")}}async function Nc(e,t){return gl(e,"POST","/v1/accounts:signUp",t)}async function wc(e,t){return bl(e,"POST","/v1/accounts:signInWithPassword",xl(e,t))}class kc extends jc{constructor(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",s),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new kc(e,t,"password")}static _fromEmailAndCode(e,t){return new kc(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return gc(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",wc,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return bl(e,"POST","/v1/accounts:signInWithEmailLink",xl(e,t))}(e,{email:this._email,oobCode:this._password});default:Xo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return gc(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nc,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return bl(e,"POST","/v1/accounts:signInWithEmailLink",xl(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Xo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Sc(e,t){return bl(e,"POST","/v1/accounts:signInWithIdp",xl(e,t))}class Cc extends jc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:s,signInMethod:n}=t,r=u(t,Ko);if(!s||!n)return null;const a=new Cc(s,n);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){return Sc(e,this.buildRequest())}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Sc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sc(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=W(t)}return e}}async function Ec(e,t){return gl(e,"POST","/v1/accounts:sendVerificationCode",xl(e,t))}const _c={USER_NOT_FOUND:"user-not-found"};class Ac extends jc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ac({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ac({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return bl(e,"POST","/v1/accounts:signInWithPhoneNumber",xl(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const s=await bl(e,"POST","/v1/accounts:signInWithPhoneNumber",xl(e,t));if(s.temporaryProof)throw Nl(e,"account-exists-with-different-credential",s);return s}(e,d({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return bl(e,"POST","/v1/accounts:signInWithPhoneNumber",xl(e,d(d({},t),{},{operation:"REAUTH"})),_c)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:s,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:s,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:s,phoneNumber:n,temporaryProof:r}=e;return s||t||n||r?new Ac({verificationId:t,verificationCode:s,phoneNumber:n,temporaryProof:r}):null}}class Ic{constructor(e){var t,s,n,r,a,i;const o=$(J(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(s=o.oobCode)&&void 0!==s?s:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=o.mode)&&void 0!==n?n:null);nl(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(r=o.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(a=o.lang)&&void 0!==a?a:null,this.tenantId=null!==(i=o.tenantId)&&void 0!==i?i:null}static parseLink(e){const t=function(e){const t=$(J(e)).link,s=t?$(J(t)).deep_link_id:null,n=$(J(e)).deep_link_id;return(n?$(J(n)).link:null)||n||s||t||e}(e);try{return new Ic(t)}catch(s){return null}}}class Tc{constructor(){this.providerId=Tc.PROVIDER_ID}static credential(e,t){return kc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ic.parseLink(t);return nl(s,"argument-error"),kc._fromEmailAndCode(e,s.code,s.tenantId)}}Tc.PROVIDER_ID="password",Tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rc extends Pc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Oc extends Rc{constructor(){super("facebook.com")}static credential(e){return Cc._fromParams({providerId:Oc.PROVIDER_ID,signInMethod:Oc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oc.credentialFromTaggedObject(e)}static credentialFromError(e){return Oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Oc.credential(t.oauthAccessToken)}catch(s){return null}}}Oc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Oc.PROVIDER_ID="facebook.com";class Mc extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cc._fromParams({providerId:Mc.PROVIDER_ID,signInMethod:Mc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mc.credentialFromTaggedObject(e)}static credentialFromError(e){return Mc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:s,oauthAccessToken:n}=t;if(!s&&!n)return null;try{return Mc.credential(s,n)}catch(r){return null}}}Mc.GOOGLE_SIGN_IN_METHOD="google.com",Mc.PROVIDER_ID="google.com";class Dc extends Rc{constructor(){super("github.com")}static credential(e){return Cc._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dc.credentialFromTaggedObject(e)}static credentialFromError(e){return Dc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Dc.credential(t.oauthAccessToken)}catch(s){return null}}}Dc.GITHUB_SIGN_IN_METHOD="github.com",Dc.PROVIDER_ID="github.com";class Lc extends Rc{constructor(){super("twitter.com")}static credential(e,t){return Cc._fromParams({providerId:Lc.PROVIDER_ID,signInMethod:Lc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Lc.credentialFromTaggedObject(e)}static credentialFromError(e){return Lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:n}=t;if(!s||!n)return null;try{return Lc.credential(s,n)}catch(r){return null}}}Lc.TWITTER_SIGN_IN_METHOD="twitter.com",Lc.PROVIDER_ID="twitter.com";class zc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await zl._fromIdTokenResponse(e,s,n),a=Fc(s);return new zc({user:r,providerId:a,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const n=Fc(s);return new zc({user:e,providerId:n,_tokenResponse:s,operationType:t})}}function Fc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Uc extends B{constructor(e,t,s,n){var r;super(t.code,t.message),this.operationType=s,this.user=n,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,n){return new Uc(e,t,s,n)}}function Vc(e,t,s,n){return("reauthenticate"===t?s._getReauthenticationResolver(e):s._getIdTokenResponse(e)).catch((s=>{if(s.code==="auth/".concat("multi-factor-auth-required"))throw Uc._fromErrorAndOperation(e,s,t,n);throw s}))}async function Bc(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=await Tl(e,t._linkToIdToken(e.auth,await e.getIdToken()),s);return zc._forOperation(e,"link",n)}async function qc(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:n}=e;if(mt(n.app))return Promise.reject(tl(n));const r="reauthenticate";try{const a=await Tl(e,Vc(n,r,t,e),s);nl(a.idToken,n,"internal-error");const i=Al(a.idToken);nl(i,n,"internal-error");const{sub:o}=i;return nl(e.uid===o,n,"user-mismatch"),zc._forOperation(e,r,a)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&Xo(n,"user-mismatch"),a}}async function Hc(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(mt(e.app))return Promise.reject(tl(e));const n="signIn",r=await Vc(e,n,t),a=await zc._fromIdTokenResponse(e,n,r);return s||await e._updateCurrentUser(a.user),a}function Gc(e,t){return gl(e,"POST","/v2/accounts/mfaEnrollment:start",xl(e,t))}new WeakMap;const Kc="__sak";class Wc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class $c extends Wc{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),n=this.localCache[t];s!==n&&e(t,n,s)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,s)=>{this.notifyListeners(e,s)}));const s=e.key;t?this.detachListener():this.stopPolling();const n=()=>{const e=this.storage.getItem(s);(t||this.localCache[s]!==e)&&this.notifyListeners(s,e)},r=this.storage.getItem(s);ec()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const n of Array.from(s))n(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$c.type="LOCAL";const Jc=$c;function Qc(e){var t,s;const n=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp("".concat(n,"=([^;]+)"));return null!==(t=null===(s=document.cookie.match(r))||void 0===s?void 0:s[1])&&void 0!==t?t:null}function Yc(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Xc{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Yc(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Qc(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Yc(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const s=Yc(e);if(window.cookieStore){const e=e=>{const n=e.changed.find((e=>e.name===s));n&&t(n.value);e.deleted.find((e=>e.name===s))&&t(null)},n=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,n),window.cookieStore.addEventListener("change",e)}let n=Qc(s);const r=setInterval((()=>{const e=Qc(s);e!==n&&(t(e),n=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(r)))}_removeListener(e,t){const s=this.listenerUnsubscribes.get(t);s&&(s(),this.listenerUnsubscribes.delete(t))}}Xc.type="COOKIE";class Zc extends Wc{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zc.type="SESSION";const ed=Zc;class td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const s=new td(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:n,data:r}=t.data,a=this.handlersMap[n];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:n});const i=Array.from(a).map((async e=>e(t.origin,r))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(i);t.ports[0].postMessage({status:"done",eventId:s,eventType:n,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function sd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s="";for(let n=0;n<t;n++)s+=Math.floor(10*Math.random());return e+s}td.receivers=[];class nd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const n="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let r,a;return new Promise(((i,o)=>{const l=sd("",20);n.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),s);a={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),i(t.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(a),n.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[n.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function rd(){return window}function ad(){return"undefined"!==typeof rd().WorkerGlobalScope&&"function"===typeof rd().importScripts}const id="firebaseLocalStorageDb",od="firebaseLocalStorage",ld="fbase_key";class cd{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function dd(e,t){return e.transaction([od],t?"readwrite":"readonly").objectStore(od)}function ud(){const e=indexedDB.open(id,1);return new Promise(((t,s)=>{e.addEventListener("error",(()=>{s(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(od,{keyPath:ld})}catch(n){s(n)}})),e.addEventListener("success",(async()=>{const s=e.result;s.objectStoreNames.contains(od)?t(s):(s.close(),await function(){const e=indexedDB.deleteDatabase(id);return new cd(e).toPromise()}(),t(await ud()))}))}))}async function md(e,t,s){const n=dd(e,!0).put({[ld]:t,value:s});return new cd(n).toPromise()}function hd(e,t){const s=dd(e,!0).delete(t);return new cd(s).toPromise()}class pd{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ud()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(s){if(t++>3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ad()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(ad()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new nd(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&null!==(e=s[0])&&void 0!==e&&e.fulfilled&&null!==(t=s[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ud();return await md(e,Kc,"1"),await hd(e,Kc),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((s=>md(s,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const s=dd(e,!1).get(t),n=await new cd(s).toPromise();return void 0===n?null:n.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>hd(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=dd(e,!1).getAll();return new cd(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],s=new Set;if(0!==e.length)for(const{fbase_key:n,value:r}of e)s.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(r)&&(this.notifyListeners(n,r),t.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!s.has(n)&&(this.notifyListeners(n,null),t.push(n));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const n of Array.from(s))n(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}pd.type="LOCAL";const xd=pd;function gd(e,t){return gl(e,"POST","/v2/accounts/mfaSignIn:start",xl(e,t))}dc("rcb"),new cl(3e4,6e4);const fd="recaptcha";async function bd(e,t,s){if(!e._getRecaptchaConfig())try{await fc(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){nl("enroll"===t.type,e,"internal-error");const n={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=gc(e,n,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===hc){nl((null===s||void 0===s?void 0:s.type)===fd,e,"argument-error");return Gc(e,await vd(e,t,s))}return Gc(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{var n;nl("signin"===t.type,e,"internal-error");const a=(null===(n=r.multiFactorHint)||void 0===n?void 0:n.uid)||r.multiFactorUid;nl(a,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=gc(e,i,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===hc){nl((null===s||void 0===s?void 0:s.type)===fd,e,"argument-error");return gd(e,await vd(e,t,s))}return gd(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},n=gc(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===hc){nl((null===s||void 0===s?void 0:s.type)===fd,e,"argument-error");return Ec(e,await vd(e,t,s))}return Ec(e,t)}),"PHONE_PROVIDER");return(await n.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===s||void 0===s||s._reset()}}async function vd(e,t,s){nl(s.type===fd,e,"argument-error");const n=await s.verify();nl("string"===typeof n,e,"argument-error");const r=d({},t);if("phoneEnrollmentInfo"in r){const e=r.phoneEnrollmentInfo.phoneNumber,t=r.phoneEnrollmentInfo.captchaResponse,s=r.phoneEnrollmentInfo.clientType,a=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n,captchaResponse:t,clientType:s,recaptchaVersion:a}}),r}if("phoneSignInInfo"in r){const e=r.phoneSignInInfo.captchaResponse,t=r.phoneSignInInfo.clientType,s=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:e,clientType:t,recaptchaVersion:s}}),r}return Object.assign(r,{recaptchaToken:n}),r}class yd{constructor(e){this.providerId=yd.PROVIDER_ID,this.auth=ic(e)}verifyPhoneNumber(e,t){return bd(this.auth,e,Z(t))}static credential(e,t){return Ac._fromVerification(e,t)}static credentialFromResult(e){const t=e;return yd.credentialFromTaggedObject(t)}static credentialFromError(e){return yd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:s,temporaryProof:n}=t;return s&&n?Ac._fromTokenResponse(s,n):null}}function jd(e,t){return t?Ul(t):(nl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}yd.PROVIDER_ID="phone",yd.PHONE_SIGN_IN_METHOD="phone";class Nd extends jc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wd(e){return Hc(e.auth,new Nd(e),e.bypassAuthState)}function kd(e){const{auth:t,user:s}=e;return nl(s,t,"internal-error"),qc(s,new Nd(e),e.bypassAuthState)}async function Sd(e){const{auth:t,user:s}=e;return nl(s,t,"internal-error"),Bc(s,new Nd(e),e.bypassAuthState)}class Cd{constructor(e,t,s,n){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=s,this.user=n,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:n,tenantId:r,error:a,type:i}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:s,tenantId:r||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wd;case"linkViaPopup":case"linkViaRedirect":return Sd;case"reauthViaPopup":case"reauthViaRedirect":return kd;default:Xo(this.auth,"internal-error")}}resolve(e){al(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){al(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ed=new cl(2e3,1e4);class _d extends Cd{constructor(e,t,s,n,r){super(e,t,n,r),this.provider=s,this.authWindow=null,this.pollId=null,_d.currentPopupAction&&_d.currentPopupAction.cancel(),_d.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nl(e,this.auth,"internal-error"),e}async onExecution(){al(1===this.filter.length,"Popup operations only handle one event");const e=sd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Zo(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_d.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Zo(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ed.get())};e()}}_d.currentPopupAction=null;const Ad=new Map;class Id extends Cd{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ad.get(this.auth._key());if(!e){try{const t=await async function(e,t){const s=Rd(t),n=Pd(e);if(!await n._isAvailable())return!1;const r="true"===await n._get(s);return await n._remove(s),r}(this.resolver,this.auth),s=t?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ad.set(this.auth._key(),e)}return this.bypassAuthState||Ad.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Td(e,t){Ad.set(e._key(),t)}function Pd(e){return Ul(e._redirectPersistence)}function Rd(e){return ql("pendingRedirect",e.config.apiKey,e.name)}async function Od(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(mt(e.app))return Promise.reject(tl(e));const n=ic(e),r=jd(n,t),a=new Id(n,r,s),i=await a.execute();return i&&!s&&(delete i.user._redirectEventId,await n._persistUserIfCurrent(i.user),await n._setRedirectUser(null,t)),i}class Md{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ld(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ld(e)){var s;const n=(null===(s=e.error.code)||void 0===s?void 0:s.split("auth/")[1])||"internal-error";t.onError(Zo(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dd(e))}saveEventToCache(e){this.cachedEventUids.add(Dd(e)),this.lastProcessedEventTime=Date.now()}}function Dd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ld(e){let{type:t,error:s}=e;return"unknown"===t&&(null===s||void 0===s?void 0:s.code)==="auth/".concat("no-auth-event")}const zd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fd=/^https?/;async function Ud(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return gl(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(Vd(n))return}catch(s){}Xo(e,"unauthorized-domain")}function Vd(e){const t=il(),{protocol:s,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===n?"chrome-extension:"===s&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===s&&r.hostname===n}if(!Fd.test(s))return!1;if(zd.test(e))return n===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}const Bd=new cl(3e4,6e4);function qd(){const e=rd().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let s=0;s<e.CP.length;s++)e.CP[s]=null}function Hd(e){return new Promise(((t,s)=>{var n,r;function a(){qd(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qd(),s(Zo(e,"network-request-failed"))},timeout:Bd.get()})}if(null!==(n=rd().gapi)&&void 0!==n&&null!==(n=n.iframes)&&void 0!==n&&n.Iframe)t(gapi.iframes.getContext());else{if(null===(r=rd().gapi)||void 0===r||!r.load){const t=dc("iframefcb");return rd()[t]=()=>{gapi.load?a():s(Zo(e,"network-request-failed"))},cc("".concat(lc.gapiScript,"?onload=").concat(t)).catch((e=>s(e)))}a()}})).catch((e=>{throw Gd=null,e}))}let Gd=null;const Kd=new cl(5e3,15e3),Wd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$d=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jd(e){const t=e.config;nl(t.authDomain,e,"auth-domain-config-required");const s=t.emulator?dl(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),n={apiKey:t.apiKey,appName:e.name,v:xt},r=$d.get(e.config.apiHost);r&&(n.eid=r);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),"".concat(s,"?").concat(W(n).slice(1))}async function Qd(e){const t=await function(e){return Gd=Gd||Hd(e),Gd}(e),s=rd().gapi;return nl(s,e,"internal-error"),t.open({where:document.body,url:Jd(e),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wd,dontclear:!0},(t=>new Promise((async(s,n)=>{await t.restyle({setHideOnLeave:!1});const r=Zo(e,"network-request-failed"),a=rd().setTimeout((()=>{n(r)}),Kd.get());function i(){rd().clearTimeout(a),s(t)}t.ping(i).then(i,(()=>{n(r)}))}))))}const Yd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Zd(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-r)/2,0).toString(),i=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=d(d({},Yd),{},{width:n.toString(),height:r.toString(),top:a,left:i}),c=D().toLowerCase();s&&(o=$l(c)?"_blank":s),Kl(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[s,n]=t;return"".concat(e).concat(s,"=").concat(n,",")}),"");if(function(){var e;return Zl(arguments.length>0&&void 0!==arguments[0]?arguments[0]:D())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==o)return function(e,t){const s=document.createElement("a");s.href=e,s.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(n)}(t||"",o),new Xd(null);const m=window.open(t||"",o,u);nl(m,e,"popup-blocked");try{m.focus()}catch(h){}return new Xd(m)}const eu="__/auth/handler",tu="emulator/auth/handler",su=encodeURIComponent("fac");async function nu(e,t,s,n,r,a){nl(e.config.authDomain,e,"auth-domain-config-required"),nl(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:s,redirectUrl:n,v:xt,eventId:r};if(t instanceof Pc){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))i[e]=t}if(t instanceof Rc){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(i.scopes=e.join(","))}e.tenantId&&(i.tid=e.tenantId);const o=i;for(const d of Object.keys(o))void 0===o[d]&&delete o[d];const l=await e._getAppCheckToken(),c=l?"#".concat(su,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(eu);return dl(t,tu)}(e),"?").concat(W(o).slice(1)).concat(c)}const ru="webStorageSupport";const au=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ed,this._completeRedirectFn=Od,this._overrideRedirectResult=Td}async _openPopup(e,t,s,n){var r;al(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Zd(e,await nu(e,t,s,il(),n),sd())}async _openRedirect(e,t,s,n){await this._originValidation(e);return function(e){rd().location.href=e}(await nu(e,t,s,il(),n)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:s}=this.eventManagers[t];return e?Promise.resolve(e):(al(s,"If manager is not set, promise should be"),s)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch((()=>{delete this.eventManagers[t]})),s}async initAndGetManager(e){const t=await Qd(e),s=new Md(e);return t.register("authEvent",(t=>{nl(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:s.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ru,{type:ru},(s=>{var n;const r=null===s||void 0===s||null===(n=s[0])||void 0===n?void 0:n[ru];void 0!==r&&t(!!r),Xo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ud(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tc()||Wl()||Zl()}};var iu="@firebase/auth",ou="1.11.0";class lu{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){nl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const cu=A("authIdTokenMaxAge")||300;let du=null;var uu;lc={loadJS:e=>new Promise(((t,s)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=Zo("internal-error");t.customData=e,s(t)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(n)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},uu="Browser",dt(new ee("auth",((e,t)=>{let{options:s}=t;const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=n.options;nl(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:i,authDomain:o,clientPlatform:uu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sc(uu)},c=new ac(n,r,a,l);return function(e,t){const s=(null===t||void 0===t?void 0:t.persistence)||[],n=(Array.isArray(s)?s:[s]).map(Ul);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,s),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,s)=>{e.getProvider("auth-internal").initialize()}))),dt(new ee("auth-internal",(e=>(e=>new lu(e))(ic(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),bt(iu,ou,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(uu)),bt(iu,ou,"esm2020");const mu="@firebase/installations",hu="0.6.19",pu=1e4,xu="w:".concat(hu),gu="FIS_v2",fu=36e5,bu=new q("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vu(e){return e instanceof B&&e.code.includes("request-failed")}function yu(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function ju(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Nu(e,t){const s=(await t.json()).error;return bu.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function wu(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ku(e,t){let{refreshToken:s}=t;const n=wu(e);return n.append("Authorization",function(e){return"".concat(gu," ").concat(e)}(s)),n}async function Su(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Cu(e){return new Promise((t=>{setTimeout(t,e)}))}const Eu=/^[cdef][\w-]{21}$/;function _u(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(s=e,btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_"));var s;return t.substr(0,22)}(e);return Eu.test(t)?t:""}catch(e){return""}}function Au(e){return"".concat(e.appName,"!").concat(e.appId)}const Iu=new Map;function Tu(e,t){const s=Au(e);Pu(s,t),function(e,t){const s=Ou();s&&s.postMessage({key:e,fid:t});Mu()}(s,t)}function Pu(e,t){const s=Iu.get(e);if(s)for(const n of s)n(t)}let Ru=null;function Ou(){return!Ru&&"BroadcastChannel"in self&&(Ru=new BroadcastChannel("[Firebase] FID Change"),Ru.onmessage=e=>{Pu(e.data.key,e.data.fid)}),Ru}function Mu(){0===Iu.size&&Ru&&(Ru.close(),Ru=null)}const Du="firebase-installations-store";let Lu=null;function zu(){return Lu||(Lu=we("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Du)}})),Lu}async function Fu(e,t){const s=Au(e),n=(await zu()).transaction(Du,"readwrite"),r=n.objectStore(Du),a=await r.get(s);return await r.put(t,s),await n.done,a&&a.fid===t.fid||Tu(e,t.fid),t}async function Uu(e){const t=Au(e),s=(await zu()).transaction(Du,"readwrite");await s.objectStore(Du).delete(t),await s.done}async function Vu(e,t){const s=Au(e),n=(await zu()).transaction(Du,"readwrite"),r=n.objectStore(Du),a=await r.get(s),i=t(a);return void 0===i?await r.delete(s):await r.put(i,s),await n.done,!i||a&&a.fid===i.fid||Tu(e,i.fid),i}async function Bu(e){let t;const s=await Vu(e.appConfig,(s=>{const n=function(e){const t=e||{fid:_u(),registrationStatus:0};return Gu(t)}(s),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(bu.create("app-offline"))}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(e,t){try{const s=await async function(e,t){let{appConfig:s,heartbeatServiceProvider:n}=e,{fid:r}=t;const a=yu(s),i=wu(s),o=n.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const l={fid:r,authVersion:gu,appId:s.appId,sdkVersion:xu},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await Su((()=>fetch(a,c)));if(d.ok){const e=await d.json();return{fid:e.fid||r,registrationStatus:2,refreshToken:e.refreshToken,authToken:ju(e.authToken)}}throw await Nu("Create Installation",d)}(e,t);return Fu(e.appConfig,s)}catch(s){throw vu(s)&&409===s.customData.serverCode?await Uu(e.appConfig):await Fu(e.appConfig,{fid:t.fid,registrationStatus:0}),s}}(e,s);return{installationEntry:s,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:qu(e)}:{installationEntry:t}}(e,n);return t=r.registrationPromise,r.installationEntry}));return""===s.fid?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}async function qu(e){let t=await Hu(e.appConfig);for(;1===t.registrationStatus;)await Cu(100),t=await Hu(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:s}=await Bu(e);return s||t}return t}function Hu(e){return Vu(e,(e=>{if(!e)throw bu.create("installation-not-found");return Gu(e)}))}function Gu(e){return 1===(t=e).registrationStatus&&t.registrationTime+pu<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ku(e,t){let{appConfig:s,heartbeatServiceProvider:n}=e;const r=function(e,t){let{fid:s}=t;return"".concat(yu(e),"/").concat(s,"/authTokens:generate")}(s,t),a=ku(s,t),i=n.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const o={installation:{sdkVersion:xu,appId:s.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await Su((()=>fetch(r,l)));if(c.ok){return ju(await c.json())}throw await Nu("Generate Auth Token",c)}async function Wu(e){let t,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=await Vu(e.appConfig,(n=>{if(!Ju(n))throw bu.create("not-registered");const r=n.authToken;if(!s&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+fu}(e)}(r))return n;if(1===r.requestStatus)return t=async function(e,t){let s=await $u(e.appConfig);for(;1===s.authToken.requestStatus;)await Cu(100),s=await $u(e.appConfig);const n=s.authToken;return 0===n.requestStatus?Wu(e,t):n}(e,s),n;{if(!navigator.onLine)throw bu.create("app-offline");const s=function(e){const t={requestStatus:1,requestTime:Date.now()};return d(d({},e),{},{authToken:t})}(n);return t=async function(e,t){try{const s=await Ku(e,t),n=d(d({},t),{},{authToken:s});return await Fu(e.appConfig,n),s}catch(s){if(!vu(s)||401!==s.customData.serverCode&&404!==s.customData.serverCode){const s=d(d({},t),{},{authToken:{requestStatus:0}});await Fu(e.appConfig,s)}else await Uu(e.appConfig);throw s}}(e,s),s}}));return t?await t:n.authToken}function $u(e){return Vu(e,(e=>{if(!Ju(e))throw bu.create("not-registered");const t=e.authToken;return 1===(s=t).requestStatus&&s.requestTime+pu<Date.now()?d(d({},e),{},{authToken:{requestStatus:0}}):e;var s}))}function Ju(e){return void 0!==e&&2===e.registrationStatus}async function Qu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=e;await async function(e){const{registrationPromise:t}=await Bu(e);t&&await t}(s);return(await Wu(s,t)).token}function Yu(e){return bu.create("missing-app-config-values",{valueName:e})}const Xu="installations",Zu=e=>{const t=e.getProvider("app").getImmediate(),s=function(e){if(!e||!e.options)throw Yu("App Configuration");if(!e.name)throw Yu("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw Yu(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:s,heartbeatServiceProvider:ut(t,"heartbeat"),_delete:()=>Promise.resolve()}},em=e=>{const t=ut(e.getProvider("app").getImmediate(),Xu).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:s,registrationPromise:n}=await Bu(t);return n?n.catch(console.error):Wu(t).catch(console.error),s.fid}(t),getToken:e=>Qu(t,e)}};dt(new ee(Xu,Zu,"PUBLIC")),dt(new ee("installations-internal",em,"PRIVATE")),bt(mu,hu),bt(mu,hu,"esm2020");const tm="analytics",sm="https://www.googletagmanager.com/gtag/js",nm=new de("@firebase/analytics"),rm=new q("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function am(e){if(!e.startsWith(sm)){const t=rm.create("invalid-gtag-resource",{gtagURL:e});return nm.warn(t.message),""}return e}function im(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function om(e,t){const s=function(e,t){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(e,t)),s}("firebase-js-sdk-policy",{createScriptURL:am}),n=document.createElement("script"),r="".concat(sm,"?l=").concat(e,"&id=").concat(t);n.src=s?null===s||void 0===s?void 0:s.createScriptURL(r):r,n.async=!0,document.head.appendChild(n)}function lm(e,t,s,n){return async function(r){try{for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if("event"===r){const[n,r]=i;await async function(e,t,s,n,r){try{let a=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const n=await im(s);for(const s of e){const e=n.find((e=>e.measurementId===s)),r=e&&t[e.appId];if(!r){a=[];break}a.push(r)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",n,r||{})}catch(a){nm.error(a)}}(e,t,s,n,r)}else if("config"===r){const[r,a]=i;await async function(e,t,s,n,r,a){const i=n[r];try{if(i)await t[i];else{const e=(await im(s)).find((e=>e.measurementId===r));e&&await t[e.appId]}}catch(o){nm.error(o)}e("config",r,a)}(e,t,s,n,r,a)}else if("consent"===r){const[t,s]=i;e("consent",t,s)}else if("get"===r){const[t,s,n]=i;e("get",t,s,n)}else if("set"===r){const[t]=i;e("set",t)}else e(r,...i)}catch(l){nm.error(l)}}}const cm=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function dm(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function um(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cm,s=arguments.length>2?arguments[2]:void 0;const{appId:n,apiKey:r,measurementId:a}=e.options;if(!n)throw rm.create("no-app-id");if(!r){if(a)return{measurementId:a,appId:n};throw rm.create("no-api-key")}const i=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new hm;return setTimeout((async()=>{o.abort()}),void 0!==s?s:6e4),mm({appId:n,apiKey:r,measurementId:a},i,o,t)}async function mm(e,t,s){let{throttleEndTimeMillis:n,backoffCount:r}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cm;const{appId:i,measurementId:o}=e;try{await function(e,t){return new Promise(((s,n)=>{const r=Math.max(t-Date.now(),0),a=setTimeout(s,r);e.addEventListener((()=>{clearTimeout(a),n(rm.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(s,n)}catch(c){if(o)return nm.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:i,measurementId:o};throw c}try{const t=await async function(e){const{appId:t,apiKey:s}=e,n={method:"GET",headers:dm(s)},r="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),a=await fetch(r,n);if(200!==a.status&&304!==a.status){let e="";try{var i;const t=await a.json();null!==(i=t.error)&&void 0!==i&&i.message&&(e=t.error.message)}catch(o){}throw rm.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return a.deleteThrottleMetadata(i),t}catch(c){var l;const t=c;if(!function(e){if(!(e instanceof B)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(a.deleteThrottleMetadata(i),o)return nm.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:i,measurementId:o};throw c}const n=503===Number(null===t||void 0===t||null===(l=t.customData)||void 0===l?void 0:l.httpStatus)?X(r,a.intervalMillis,30):X(r,a.intervalMillis),d={throttleEndTimeMillis:Date.now()+n,backoffCount:r+1};return a.setThrottleMetadata(i,d),nm.debug("Calling attemptFetch again in ".concat(n," millis")),mm(e,d,s,a)}}class hm{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let pm,xm;function gm(e){xm=e}function fm(e){pm=e}async function bm(e,t,s,n,r,a,i){var o;const l=um(e);l.then((t=>{s[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&nm.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>nm.error(e))),t.push(l);const c=async function(){if(!U())return nm.warn(rm.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await V()}catch(e){return nm.warn(rm.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?n.getId():void 0)),[d,u]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const s of Object.values(t))if(s.src&&s.src.includes(sm)&&s.src.includes(e))return s;return null})(a)||om(a,d.measurementId),xm&&(r("consent","default",xm),gm(void 0)),r("js",new Date);const m=null!==(o=null===i||void 0===i?void 0:i.config)&&void 0!==o?o:{};return m.origin="firebase",m.update=!0,null!=u&&(m.firebase_id=u),r("config",d.measurementId,m),pm&&(r("set",pm),fm(void 0)),d.measurementId}class vm{constructor(e){this.app=e}_delete(){return delete ym[this.app.options.appId],Promise.resolve()}}let ym={},jm=[];const Nm={};let wm,km,Sm="dataLayer",Cm="gtag",Em=!1;function _m(){const e=[];if(z()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),s=rm.create("invalid-analytics-context",{errorInfo:t});nm.warn(s.message)}}function Am(e,t,s){_m();const n=e.options.appId;if(!n)throw rm.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw rm.create("no-api-key");nm.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ym[n])throw rm.create("already-exists",{id:n});if(!Em){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Sm);const{wrappedGtag:e,gtagCore:t}=function(e,t,s,n,r){let a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];window[n].push(arguments)};return window[r]&&"function"===typeof window[r]&&(a=window[r]),window[r]=lm(a,e,t,s),{gtagCore:a,wrappedGtag:window[r]}}(ym,jm,Nm,Sm,Cm);km=e,wm=t,Em=!0}ym[n]=bm(e,jm,Nm,t,wm,Sm,s);return new vm(e)}function Im(e,t,s,n){e=Z(e),async function(e,t,s,n,r){if(r&&r.global)e("event",s,n);else{const r=await t;e("event",s,d(d({},n),{},{send_to:r}))}}(km,ym[e.app.options.appId],t,s,n).catch((e=>nm.error(e)))}const Tm="@firebase/analytics",Pm="0.10.18";dt(new ee(tm,((e,t)=>{let{options:s}=t;return Am(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),s)}),"PUBLIC")),dt(new ee("analytics-internal",(function(e){try{const t=e.getProvider(tm).getImmediate();return{logEvent:(e,s,n)=>Im(t,e,s,n)}}catch(t){throw rm.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),bt(Tm,Pm),bt(Tm,Pm,"esm2020");const Rm="functions";class Om{constructor(e,t,s,n){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,mt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then((e=>this.auth=e),(()=>{})),this.messaging||s.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||null===n||void 0===n||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const Mm="us-central1";class Dm{constructor(e,t,s,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mm,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new Om(e,t,s,n),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(r);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=Mm}catch(i){this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const s=this.emulatorOrigin;return"".concat(s,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}const Lm="@firebase/functions",zm="0.13.0";function Fm(e,t){return function(){return e.apply(t,arguments)}}!function(e){dt(new ee(Rm,((e,t)=>{let{instanceIdentifier:s}=t;const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("messaging-internal"),i=e.getProvider("app-check-internal");return new Dm(n,r,a,i,s)}),"PUBLIC").setMultipleInstances(!0)),bt(Lm,zm,e),bt(Lm,zm,"esm2020")}();const{toString:Um}=Object.prototype,{getPrototypeOf:Vm}=Object,Bm=(qm=Object.create(null),e=>{const t=Um.call(e);return qm[t]||(qm[t]=t.slice(8,-1).toLowerCase())});var qm;const Hm=e=>(e=e.toLowerCase(),t=>Bm(t)===e),Gm=e=>t=>typeof t===e,{isArray:Km}=Array,Wm=Gm("undefined");const $m=Hm("ArrayBuffer");const Jm=Gm("string"),Qm=Gm("function"),Ym=Gm("number"),Xm=e=>null!==e&&"object"===typeof e,Zm=e=>{if("object"!==Bm(e))return!1;const t=Vm(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eh=Hm("Date"),th=Hm("File"),sh=Hm("Blob"),nh=Hm("FileList"),rh=Hm("URLSearchParams"),[ah,ih,oh,lh]=["ReadableStream","Request","Response","Headers"].map(Hm);function ch(e,t){let s,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Km(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{const n=r?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let i;for(s=0;s<a;s++)i=n[s],t.call(null,e[i],i,e)}}function dh(e,t){t=t.toLowerCase();const s=Object.keys(e);let n,r=s.length;for(;r-- >0;)if(n=s[r],t===n.toLowerCase())return n;return null}const uh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,mh=e=>!Wm(e)&&e!==uh;const hh=(ph="undefined"!==typeof Uint8Array&&Vm(Uint8Array),e=>ph&&e instanceof ph);var ph;const xh=Hm("HTMLFormElement"),gh=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),fh=Hm("RegExp"),bh=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};ch(s,((s,r)=>{let a;!1!==(a=t(s,r,e))&&(n[r]=a||s)})),Object.defineProperties(e,n)};const vh=Hm("AsyncFunction"),yh=((e,t)=>{return e?setImmediate:t?(s="axios@".concat(Math.random()),n=[],uh.addEventListener("message",(e=>{let{source:t,data:r}=e;t===uh&&r===s&&n.length&&n.shift()()}),!1),e=>{n.push(e),uh.postMessage(s,"*")}):e=>setTimeout(e);var s,n})("function"===typeof setImmediate,Qm(uh.postMessage)),jh="undefined"!==typeof queueMicrotask?queueMicrotask.bind(uh):"undefined"!==typeof process&&process.nextTick||yh,Nh={isArray:Km,isArrayBuffer:$m,isBuffer:function(e){return null!==e&&!Wm(e)&&null!==e.constructor&&!Wm(e.constructor)&&Qm(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Qm(e.append)&&("formdata"===(t=Bm(e))||"object"===t&&Qm(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&$m(e.buffer),t},isString:Jm,isNumber:Ym,isBoolean:e=>!0===e||!1===e,isObject:Xm,isPlainObject:Zm,isReadableStream:ah,isRequest:ih,isResponse:oh,isHeaders:lh,isUndefined:Wm,isDate:eh,isFile:th,isBlob:sh,isRegExp:fh,isFunction:Qm,isStream:e=>Xm(e)&&Qm(e.pipe),isURLSearchParams:rh,isTypedArray:hh,isFileList:nh,forEach:ch,merge:function e(){const{caseless:t}=mh(this)&&this||{},s={},n=(n,r)=>{const a=t&&dh(s,r)||r;Zm(s[a])&&Zm(n)?s[a]=e(s[a],n):Zm(n)?s[a]=e({},n):Km(n)?s[a]=n.slice():s[a]=n};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ch(arguments[r],n);return s},extend:function(e,t,s){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ch(t,((t,n)=>{s&&Qm(t)?e[n]=Fm(t,s):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,n)=>{let r,a,i;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)i=r[a],n&&!n(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==s&&Vm(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:Bm,kindOfTest:Hm,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return-1!==n&&n===s},toArray:e=>{if(!e)return null;if(Km(e))return e;let t=e.length;if(!Ym(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=s.next())&&!n.done;){const s=n.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const n=[];for(;null!==(s=e.exec(t));)n.push(s);return n},isHTMLForm:xh,hasOwnProperty:gh,hasOwnProp:gh,reduceDescriptors:bh,freezeMethods:e=>{bh(e,((t,s)=>{if(Qm(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const n=e[s];Qm(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))}))},toObjectSet:(e,t)=>{const s={},n=e=>{e.forEach((e=>{s[e]=!0}))};return Km(e)?n(e):n(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,s){return t.toUpperCase()+s})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:dh,global:uh,isContextDefined:mh,isSpecCompliantForm:function(e){return!!(e&&Qm(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),s=(e,n)=>{if(Xm(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const r=Km(e)?[]:{};return ch(e,((e,t)=>{const a=s(e,n+1);!Wm(a)&&(r[t]=a)})),t[n]=void 0,r}}return e};return s(e,0)},isAsyncFn:vh,isThenable:e=>e&&(Xm(e)||Qm(e))&&Qm(e.then)&&Qm(e.catch),setImmediate:yh,asap:jh};function wh(e,t,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}Nh.inherits(wh,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Nh.toJSONObject(this.config),code:this.code,status:this.status}}});const kh=wh.prototype,Sh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Sh[e]={value:e}})),Object.defineProperties(wh,Sh),Object.defineProperty(kh,"isAxiosError",{value:!0}),wh.from=(e,t,s,n,r,a)=>{const i=Object.create(kh);return Nh.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),wh.call(i,e.message,t,s,n,r),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Ch=wh;function Eh(e){return Nh.isPlainObject(e)||Nh.isArray(e)}function _h(e){return Nh.endsWith(e,"[]")?e.slice(0,-2):e}function Ah(e,t,s){return e?e.concat(t).map((function(e,t){return e=_h(e),!s&&t?"["+e+"]":e})).join(s?".":""):t}const Ih=Nh.toFlatObject(Nh,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Th=function(e,t,s){if(!Nh.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(s=Nh.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Nh.isUndefined(t[e])}))).metaTokens,r=s.visitor||c,a=s.dots,i=s.indexes,o=(s.Blob||"undefined"!==typeof Blob&&Blob)&&Nh.isSpecCompliantForm(t);if(!Nh.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Nh.isDate(e))return e.toISOString();if(!o&&Nh.isBlob(e))throw new Ch("Blob is not supported. Use a Buffer instead.");return Nh.isArrayBuffer(e)||Nh.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,r){let o=e;if(e&&!r&&"object"===typeof e)if(Nh.endsWith(s,"{}"))s=n?s:s.slice(0,-2),e=JSON.stringify(e);else if(Nh.isArray(e)&&function(e){return Nh.isArray(e)&&!e.some(Eh)}(e)||(Nh.isFileList(e)||Nh.endsWith(s,"[]"))&&(o=Nh.toArray(e)))return s=_h(s),o.forEach((function(e,n){!Nh.isUndefined(e)&&null!==e&&t.append(!0===i?Ah([s],n,a):null===i?s:s+"[]",l(e))})),!1;return!!Eh(e)||(t.append(Ah(r,s,a),l(e)),!1)}const d=[],u=Object.assign(Ih,{defaultVisitor:c,convertValue:l,isVisitable:Eh});if(!Nh.isObject(e))throw new TypeError("data must be an object");return function e(s,n){if(!Nh.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+n.join("."));d.push(s),Nh.forEach(s,(function(s,a){!0===(!(Nh.isUndefined(s)||null===s)&&r.call(t,s,Nh.isString(a)?a.trim():a,n,u))&&e(s,n?n.concat(a):[a])})),d.pop()}}(e),t};function Ph(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Rh(e,t){this._pairs=[],e&&Th(e,this,t)}const Oh=Rh.prototype;Oh.append=function(e,t){this._pairs.push([e,t])},Oh.toString=function(e){const t=e?function(t){return e.call(this,t,Ph)}:Ph;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Mh=Rh;function Dh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lh(e,t,s){if(!t)return e;const n=s&&s.encode||Dh;Nh.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let a;if(a=r?r(t,s):Nh.isURLSearchParams(t)?t.toString():new Mh(t,s).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const zh=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Nh.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Fh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uh={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Mh,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Vh="undefined"!==typeof window&&"undefined"!==typeof document,Bh="object"===typeof navigator&&navigator||void 0,qh=Vh&&(!Bh||["ReactNative","NativeScript","NS"].indexOf(Bh.product)<0),Hh="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Gh=Vh&&window.location.href||"http://localhost",Kh=d(d({},n),Uh);const Wh=function(e){function t(e,s,n,r){let a=e[r++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=r>=e.length;if(a=!a&&Nh.isArray(n)?n.length:a,o)return Nh.hasOwnProp(n,a)?n[a]=[n[a],s]:n[a]=s,!i;n[a]&&Nh.isObject(n[a])||(n[a]=[]);return t(e,s,n[a],r)&&Nh.isArray(n[a])&&(n[a]=function(e){const t={},s=Object.keys(e);let n;const r=s.length;let a;for(n=0;n<r;n++)a=s[n],t[a]=e[a];return t}(n[a])),!i}if(Nh.isFormData(e)&&Nh.isFunction(e.entries)){const s={};return Nh.forEachEntry(e,((e,n)=>{t(function(e){return Nh.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,s,0)})),s}return null};const $h={transitional:Fh,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",n=s.indexOf("application/json")>-1,r=Nh.isObject(e);r&&Nh.isHTMLForm(e)&&(e=new FormData(e));if(Nh.isFormData(e))return n?JSON.stringify(Wh(e)):e;if(Nh.isArrayBuffer(e)||Nh.isBuffer(e)||Nh.isStream(e)||Nh.isFile(e)||Nh.isBlob(e)||Nh.isReadableStream(e))return e;if(Nh.isArrayBufferView(e))return e.buffer;if(Nh.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Th(e,new Kh.classes.URLSearchParams,Object.assign({visitor:function(e,t,s,n){return Kh.isNode&&Nh.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Nh.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Th(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,s){if(Nh.isString(e))try{return(t||JSON.parse)(e),Nh.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||$h.transitional,s=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Nh.isResponse(e)||Nh.isReadableStream(e))return e;if(e&&Nh.isString(e)&&(s&&!this.responseType||n)){const s=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(r){if(s){if("SyntaxError"===r.name)throw Ch.from(r,Ch.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kh.classes.FormData,Blob:Kh.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Nh.forEach(["delete","get","head","post","put","patch"],(e=>{$h.headers[e]={}}));const Jh=$h,Qh=Nh.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yh=Symbol("internals");function Xh(e){return e&&String(e).trim().toLowerCase()}function Zh(e){return!1===e||null==e?e:Nh.isArray(e)?e.map(Zh):String(e)}function ep(e,t,s,n,r){return Nh.isFunction(n)?n.call(this,t,s):(r&&(t=s),Nh.isString(t)?Nh.isString(n)?-1!==t.indexOf(n):Nh.isRegExp(n)?n.test(t):void 0:void 0)}class tp{constructor(e){e&&this.set(e)}set(e,t,s){const n=this;function r(e,t,s){const r=Xh(t);if(!r)throw new Error("header name must be a non-empty string");const a=Nh.findKey(n,r);(!a||void 0===n[a]||!0===s||void 0===s&&!1!==n[a])&&(n[a||t]=Zh(e))}const a=(e,t)=>Nh.forEach(e,((e,s)=>r(e,s,t)));if(Nh.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Nh.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let s,n,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),s=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!s||t[s]&&Qh[s]||("set-cookie"===s?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)})),t})(e),t);else if(Nh.isHeaders(e))for(const[i,o]of e.entries())r(o,i,s);else null!=e&&r(t,e,s);return this}get(e,t){if(e=Xh(e)){const s=Nh.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}(e);if(Nh.isFunction(t))return t.call(this,e,s);if(Nh.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xh(e)){const s=Nh.findKey(this,e);return!(!s||void 0===this[s]||t&&!ep(0,this[s],s,t))}return!1}delete(e,t){const s=this;let n=!1;function r(e){if(e=Xh(e)){const r=Nh.findKey(s,e);!r||t&&!ep(0,s[r],r,t)||(delete s[r],n=!0)}}return Nh.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let s=t.length,n=!1;for(;s--;){const r=t[s];e&&!ep(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,s={};return Nh.forEach(this,((n,r)=>{const a=Nh.findKey(s,r);if(a)return t[a]=Zh(n),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,s)=>t.toUpperCase()+s))}(r):String(r).trim();i!==r&&delete t[r],t[i]=Zh(n),s[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Nh.forEach(this,((s,n)=>{null!=s&&!1!==s&&(t[n]=e&&Nh.isArray(s)?s.join(", "):s)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,s]=e;return t+": "+s})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Yh]=this[Yh]={accessors:{}}).accessors,s=this.prototype;function n(e){const n=Xh(e);t[n]||(!function(e,t){const s=Nh.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+s,{value:function(e,s,r){return this[n].call(this,t,e,s,r)},configurable:!0})}))}(s,e),t[n]=!0)}return Nh.isArray(e)?e.forEach(n):n(e),this}}tp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Nh.reduceDescriptors(tp.prototype,((e,t)=>{let{value:s}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[n]=e}}})),Nh.freezeMethods(tp);const sp=tp;function np(e,t){const s=this||Jh,n=t||s,r=sp.from(n.headers);let a=n.data;return Nh.forEach(e,(function(e){a=e.call(s,a,r.normalize(),t?t.status:void 0)})),r.normalize(),a}function rp(e){return!(!e||!e.__CANCEL__)}function ap(e,t,s){Ch.call(this,null==e?"canceled":e,Ch.ERR_CANCELED,t,s),this.name="CanceledError"}Nh.inherits(ap,Ch,{__CANCEL__:!0});const ip=ap;function op(e,t,s){const n=s.config.validateStatus;s.status&&n&&!n(s.status)?t(new Ch("Request failed with status code "+s.status,[Ch.ERR_BAD_REQUEST,Ch.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const lp=function(e,t){e=e||10;const s=new Array(e),n=new Array(e);let r,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[i];r||(r=l),s[a]=o,n[a]=l;let d=i,u=0;for(;d!==a;)u+=s[d++],d%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-r<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const cp=function(e,t){let s,n,r=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=a,s=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?i(l,e):(s=l,n||(n=setTimeout((()=>{n=null,i(s)}),a-t)))},()=>s&&i(s)]},dp=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const r=lp(50,250);return cp((s=>{const a=s.loaded,i=s.lengthComputable?s.total:void 0,o=a-n,l=r(o);n=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:s,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),s)},up=(e,t)=>{const s=null!=e;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},mp=e=>function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return Nh.asap((()=>e(...s)))},hp=Kh.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Kh.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Kh.origin),Kh.navigator&&/(msie|trident)/i.test(Kh.navigator.userAgent)):()=>!0,pp=Kh.hasStandardBrowserEnv?{write(e,t,s,n,r,a){const i=[e+"="+encodeURIComponent(t)];Nh.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),Nh.isString(n)&&i.push("path="+n),Nh.isString(r)&&i.push("domain="+r),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xp(e,t,s){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const gp=e=>e instanceof sp?d({},e):e;function fp(e,t){t=t||{};const s={};function n(e,t,s,n){return Nh.isPlainObject(e)&&Nh.isPlainObject(t)?Nh.merge.call({caseless:n},e,t):Nh.isPlainObject(t)?Nh.merge({},t):Nh.isArray(t)?t.slice():t}function r(e,t,s,r){return Nh.isUndefined(t)?Nh.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,t,0,r)}function a(e,t){if(!Nh.isUndefined(t))return n(void 0,t)}function i(e,t){return Nh.isUndefined(t)?Nh.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(s,r,a){return a in t?n(s,r):a in e?n(void 0,s):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,s)=>r(gp(e),gp(t),0,!0)};return Nh.forEach(Object.keys(Object.assign({},e,t)),(function(n){const a=l[n]||r,i=a(e[n],t[n],n);Nh.isUndefined(i)&&a!==o||(s[n]=i)})),s}const bp=e=>{const t=fp({},e);let s,{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=sp.from(o),t.url=Lh(xp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Nh.isFormData(n))if(Kh.hasStandardBrowserEnv||Kh.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(s=o.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Kh.hasStandardBrowserEnv&&(r&&Nh.isFunction(r)&&(r=r(t)),r||!1!==r&&hp(t.url))){const e=a&&i&&pp.read(i);e&&o.set(a,e)}return t},vp="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,s){const n=bp(e);let r=n.data;const a=sp.from(n.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=n;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let x=new XMLHttpRequest;function g(){if(!x)return;const n=sp.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());op((function(e){t(e),p()}),(function(e){s(e),p()}),{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:n,config:e,request:x}),x=null}x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout,"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(g)},x.onabort=function(){x&&(s(new Ch("Request aborted",Ch.ECONNABORTED,e,x)),x=null)},x.onerror=function(){s(new Ch("Network Error",Ch.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const r=n.transitional||Fh;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),s(new Ch(t,r.clarifyTimeoutError?Ch.ETIMEDOUT:Ch.ECONNABORTED,e,x)),x=null},void 0===r&&a.setContentType(null),"setRequestHeader"in x&&Nh.forEach(a.toJSON(),(function(e,t){x.setRequestHeader(t,e)})),Nh.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),u&&"json"!==u&&(x.responseType=n.responseType),h&&([l,d]=dp(h,!0),x.addEventListener("progress",l)),m&&x.upload&&([o,c]=dp(m),x.upload.addEventListener("progress",o),x.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{x&&(s(!t||t.type?new ip(null,e,x):t),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);f&&-1===Kh.protocols.indexOf(f)?s(new Ch("Unsupported protocol "+f+":",Ch.ERR_BAD_REQUEST,e)):x.send(r||null)}))},yp=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,n=new AbortController;const r=function(e){if(!s){s=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Ch?t:new ip(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,r(new Ch("timeout ".concat(t," of ms exceeded"),Ch.ETIMEDOUT))}),t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)})),e=null)};e.forEach((e=>e.addEventListener("abort",r)));const{signal:o}=n;return o.unsubscribe=()=>Nh.asap(i),o}};function jp(e,t){this.v=e,this.k=t}function Np(e){return function(){return new wp(e.apply(this,arguments))}}function wp(e){var t,s;function n(t,s){try{var a=e[t](s),i=a.value,o=i instanceof jp;Promise.resolve(o?i.v:i).then((function(s){if(o){var l="return"===t?"return":"next";if(!i.k||s.done)return n(l,s);s=e[l](s).value}r(a.done?"return":"normal",s)}),(function(e){n("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):s=null}this._invoke=function(e,r){return new Promise((function(a,i){var o={key:e,arg:r,resolve:a,reject:i,next:null};s?s=s.next=o:(t=s=o,n(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function kp(e){return new jp(e,0)}function Sp(e){var t={},s=!1;function n(t,n){return s=!0,n=new Promise((function(s){s(e[t](n))})),{done:!1,value:new jp(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return s?(s=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(s)throw s=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return s?(s=!1,e):n("return",e)}),t}function Cp(e){var t,s,n,r=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(s&&null!=(t=e[s]))return t.call(e);if(n&&null!=(t=e[n]))return new Ep(t.call(e));s="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Ep(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ep=function(e){this.s=e,this.n=e.next},Ep.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new Ep(e)}wp.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},wp.prototype.next=function(e){return this._invoke("next",e)},wp.prototype.throw=function(e){return this._invoke("throw",e)},wp.prototype.return=function(e){return this._invoke("return",e)};const _p=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let n,r=0;for(;r<s;)n=r+t,yield e.slice(r,n),r=n},Ap=function(){var e=Np((function*(e,t){var s,n=!1,r=!1;try{for(var a,i=Cp(Ip(e));n=!(a=yield kp(i.next())).done;n=!1){const e=a.value;yield*Sp(Cp(_p(e,t)))}}catch(o){r=!0,s=o}finally{try{n&&null!=i.return&&(yield kp(i.return()))}finally{if(r)throw s}}}));return function(t,s){return e.apply(this,arguments)}}(),Ip=function(){var e=Np((function*(e){if(e[Symbol.asyncIterator])return void(yield*Sp(Cp(e)));const t=e.getReader();try{for(;;){const{done:e,value:s}=yield kp(t.read());if(e)break;yield s}}finally{yield kp(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Tp=(e,t,s,n)=>{const r=Ap(e,t);let a,i=0,o=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await r.next();if(t)return o(),void e.close();let a=n.byteLength;if(s){let e=i+=a;s(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},Pp="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Rp=Pp&&"function"===typeof ReadableStream,Op=Pp&&("function"===typeof TextEncoder?(Mp=new TextEncoder,e=>Mp.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Mp;const Dp=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return!!e(...s)}catch(r){return!1}},Lp=Rp&&Dp((()=>{let e=!1;const t=new Request(Kh.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),zp=Rp&&Dp((()=>Nh.isReadableStream(new Response("").body))),Fp={stream:zp&&(e=>e.body)};var Up;Pp&&(Up=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Fp[e]&&(Fp[e]=Nh.isFunction(Up[e])?t=>t[e]():(t,s)=>{throw new Ch("Response type '".concat(e,"' is not supported"),Ch.ERR_NOT_SUPPORT,s)})})));const Vp=async(e,t)=>{const s=Nh.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(Nh.isBlob(e))return e.size;if(Nh.isSpecCompliantForm(e)){const t=new Request(Kh.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Nh.isArrayBufferView(e)||Nh.isArrayBuffer(e)?e.byteLength:(Nh.isURLSearchParams(e)&&(e+=""),Nh.isString(e)?(await Op(e)).byteLength:void 0)})(t):s},Bp={http:null,xhr:vp,fetch:Pp&&(async e=>{let{url:t,method:s,data:n,signal:r,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:m="same-origin",fetchOptions:h}=bp(e);c=c?(c+"").toLowerCase():"text";let p,x=yp([r,a&&a.toAbortSignal()],i);const g=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let f;try{if(l&&Lp&&"get"!==s&&"head"!==s&&0!==(f=await Vp(u,n))){let e,s=new Request(t,{method:"POST",body:n,duplex:"half"});if(Nh.isFormData(n)&&(e=s.headers.get("content-type"))&&u.setContentType(e),s.body){const[e,t]=up(f,dp(mp(l)));n=Tp(s.body,65536,e,t)}}Nh.isString(m)||(m=m?"include":"omit");const r="credentials"in Request.prototype;p=new Request(t,d(d({},h),{},{signal:x,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:r?m:void 0}));let a=await fetch(p);const i=zp&&("stream"===c||"response"===c);if(zp&&(o||i&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=Nh.toFiniteNumber(a.headers.get("content-length")),[s,n]=o&&up(t,dp(mp(o),!0))||[];a=new Response(Tp(a.body,65536,s,(()=>{n&&n(),g&&g()})),e)}c=c||"text";let b=await Fp[Nh.findKey(Fp,c)||"text"](a,e);return!i&&g&&g(),await new Promise(((t,s)=>{op(t,s,{data:b,headers:sp.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:p})}))}catch(b){if(g&&g(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new Ch("Network Error",Ch.ERR_NETWORK,e,p),{cause:b.cause||b});throw Ch.from(b,b&&b.code,e,p)}})};Nh.forEach(Bp,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}}));const qp=e=>"- ".concat(e),Hp=e=>Nh.isFunction(e)||null===e||!1===e,Gp=e=>{e=Nh.isArray(e)?e:[e];const{length:t}=e;let s,n;const r={};for(let a=0;a<t;a++){let t;if(s=e[a],n=s,!Hp(s)&&(n=Bp[(t=String(s)).toLowerCase()],void 0===n))throw new Ch("Unknown adapter '".concat(t,"'"));if(n)break;r[t||"#"+a]=n}if(!n){const e=Object.entries(r).map((e=>{let[t,s]=e;return"adapter ".concat(t," ")+(!1===s?"is not supported by the environment":"is not available in the build")}));let s=t?e.length>1?"since :\n"+e.map(qp).join("\n"):" "+qp(e[0]):"as no adapter specified";throw new Ch("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n};function Kp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ip(null,e)}function Wp(e){Kp(e),e.headers=sp.from(e.headers),e.data=np.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Gp(e.adapter||Jh.adapter)(e).then((function(t){return Kp(e),t.data=np.call(e,e.transformResponse,t),t.headers=sp.from(t.headers),t}),(function(t){return rp(t)||(Kp(e),t&&t.response&&(t.response.data=np.call(e,e.transformResponse,t.response),t.response.headers=sp.from(t.response.headers))),Promise.reject(t)}))}const $p="1.8.4",Jp={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Jp[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}}));const Qp={};Jp.transitional=function(e,t,s){function n(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,r,a)=>{if(!1===e)throw new Ch(n(r," has been removed"+(t?" in "+t:"")),Ch.ERR_DEPRECATED);return t&&!Qp[r]&&(Qp[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,r,a)}},Jp.spelling=function(e){return(t,s)=>(console.warn("".concat(s," is likely a misspelling of ").concat(e)),!0)};const Yp={assertOptions:function(e,t,s){if("object"!==typeof e)throw new Ch("options must be an object",Ch.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const a=n[r],i=t[a];if(i){const t=e[a],s=void 0===t||i(t,a,e);if(!0!==s)throw new Ch("option "+a+" must be "+s,Ch.ERR_BAD_OPTION_VALUE)}else if(!0!==s)throw new Ch("Unknown option "+a,Ch.ERR_BAD_OPTION)}},validators:Jp},Xp=Yp.validators;class Zp{constructor(e){this.defaults=e,this.interceptors={request:new zh,response:new zh}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(n){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=fp(this.defaults,t);const{transitional:s,paramsSerializer:n,headers:r}=t;void 0!==s&&Yp.assertOptions(s,{silentJSONParsing:Xp.transitional(Xp.boolean),forcedJSONParsing:Xp.transitional(Xp.boolean),clarifyTimeoutError:Xp.transitional(Xp.boolean)},!1),null!=n&&(Nh.isFunction(n)?t.paramsSerializer={serialize:n}:Yp.assertOptions(n,{encode:Xp.function,serialize:Xp.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yp.assertOptions(t,{baseUrl:Xp.spelling("baseURL"),withXsrfToken:Xp.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&Nh.merge(r.common,r[t.method]);r&&Nh.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=sp.concat(a,r);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[Wp.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Wp.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Lh(xp((e=fp(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Nh.forEach(["delete","get","head","options"],(function(e){Zp.prototype[e]=function(t,s){return this.request(fp(s||{},{method:e,url:t,data:(s||{}).data}))}})),Nh.forEach(["post","put","patch"],(function(e){function t(t){return function(s,n,r){return this.request(fp(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:n}))}}Zp.prototype[e]=t(),Zp.prototype[e+"Form"]=t(!0)}));const ex=Zp;class tx{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const s=this;this.promise.then((e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{s.subscribe(e),t=e})).then(e);return n.cancel=function(){s.unsubscribe(t)},n},e((function(e,n,r){s.reason||(s.reason=new ip(e,n,r),t(s.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new tx((function(t){e=t})),cancel:e}}}const sx=tx;const nx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nx).forEach((e=>{let[t,s]=e;nx[s]=t}));const rx=nx;const ax=function e(t){const s=new ex(t),n=Fm(ex.prototype.request,s);return Nh.extend(n,ex.prototype,s,{allOwnKeys:!0}),Nh.extend(n,s,null,{allOwnKeys:!0}),n.create=function(s){return e(fp(t,s))},n}(Jh);ax.Axios=ex,ax.CanceledError=ip,ax.CancelToken=sx,ax.isCancel=rp,ax.VERSION=$p,ax.toFormData=Th,ax.AxiosError=Ch,ax.Cancel=ax.CanceledError,ax.all=function(e){return Promise.all(e)},ax.spread=function(e){return function(t){return e.apply(null,t)}},ax.isAxiosError=function(e){return Nh.isObject(e)&&!0===e.isAxiosError},ax.mergeConfig=fp,ax.AxiosHeaders=sp,ax.formToJSON=e=>Wh(Nh.isHTMLForm(e)?new FormData(e):e),ax.getAdapter=Gp,ax.HttpStatusCode=rx,ax.default=ax;const ix=ax;var ox=s(579);const lx=()=>{const[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(null),[p,x]=(0,r.useState)(!1),[g,f]=(0,r.useState)({prompt:"",style:"cinematica",duration:10,platform:"instagram",brandingLevel:"alto",model:"runwayml"}),[b,v]=(0,r.useState)({prompt:"",style:"fotografico",format:"post",platform:"instagram",count:1}),[y,j]=(0,r.useState)(null),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)(null),[C,E]=(0,r.useState)(!1),[_,A]=(0,r.useState)(!1),[I,T]=(0,r.useState)(!1),[P,R]=(0,r.useState)(1250),[O,M]=(0,r.useState)(0),[D,L]=(0,r.useState)(!1),[z,F]=(0,r.useState)(!1),[U,V]=(0,r.useState)(null),[B,q]=(0,r.useState)(null),[H,G]=(0,r.useState)(!1),[K,W]=(0,r.useState)(!1),[$,J]=(0,r.useState)(!1),[Q,Y]=(0,r.useState)({cardNumber:"",holderName:"",expMonth:"",expYear:"",cvc:"",isDefault:!1}),[X,Z]=(0,r.useState)({restaurantName:"Mi Restaurante",taxId:"",email:"",phone:"",address:"",contactPerson:""}),[ee,te]=(0,r.useState)({radiusGeofencing:50,tiempoMaximoSesion:30,sesionesMaximasPorCliente:3,tiempoEsperaMinimo:15,validacionGeolocation:!0,validacionQR:!0,antifraudeAvanzado:!1}),se=e=>{R((t=>t+e)),A(!1),alert("\u2705 \xa1Compra exitosa! Agregados ".concat(e," cr\xe9ditos a tu cuenta."))},[ne,re]=(0,r.useState)([{id:1,title:"Promo Sorpresa Nivel Destacado",description:"Activa una promo sorpresa para clientes 'Destacado' que visiten antes del jueves",targetLevel:"Destacado",estimatedReach:18,expectedROI:"320%",urgency:"alta",channels:["WhatsApp","Push"],active:!1},{id:2,title:"Reactivaci\xf3n Clientes Inactivos",description:"Campa\xf1a personalizada para clientes que no han visitado en 30+ d\xedas",targetLevel:"Todos",estimatedReach:45,expectedROI:"180%",urgency:"media",channels:["Email","WhatsApp"],active:!1},{id:3,title:"Upselling Fin de Semana",description:"Promoci\xf3n de platos premium para clientes Estrella y Leyenda",targetLevel:"Estrella+",estimatedReach:11,expectedROI:"450%",urgency:"baja",channels:["Push","En Local"],active:!1}]),[ae,ie]=(0,r.useState)([{id:1,title:"Recordatorio de Reserva",description:"2 horas antes \u2022 WhatsApp",active:!0,deliveryRate:"89%",trigger:"2_hours_before",channels:["WhatsApp"]},{id:2,title:"Feedback Post-Visita",description:"24 horas despu\xe9s \u2022 Push + Email",active:!0,deliveryRate:"76%",trigger:"24_hours_after",channels:["Push","Email"]},{id:3,title:"Promoci\xf3n Cumplea\xf1os",description:"7 d\xedas antes \u2022 Todos los canales",active:!0,deliveryRate:"94%",trigger:"7_days_before_birthday",channels:["WhatsApp","Push","Email"]}]),oe=(e,t)=>({runwayml:5,pika:3.5,veo:4.2}[t]*e),le=(e,t)=>2*e*("fotografico_premium"===t||"premium"===t?1.5:1),ce=async e=>{let t=0;const s=async()=>{try{const n=await fetch("".concat("https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com","/api/content-factory/job/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!n.ok)throw new Error("Failed to check job status");const r=await n.json();if("completed"===r.status)j({type:"video",url:r.result_url||"/api/placeholder-video.mp4",metadata:{duration:g.duration,platform:g.platform,cost:r.cost}}),w(!1);else{if("failed"===r.status)throw new Error("Video generation failed");if(t++,!(t<30))throw new Error("Video generation timeout");setTimeout(s,1e4)}}catch(n){console.error("Error checking video status:",n),w(!1),alert("\u274c Error al generar el video. Intenta nuevamente.")}};s()};return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border border-blue-200",children:[(0,ox.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83e\udde9 Centro de IA Marketing"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"N\xfacleo operativo para campa\xf1as automatizadas y fidelizaci\xf3n inteligente"})]})}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsx)("button",{onClick:()=>n(!0),className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4 rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all transform hover:scale-105 shadow-lg",children:(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfac"}),(0,ox.jsx)("h3",{className:"font-bold text-lg",children:"Content Factory Video"}),(0,ox.jsx)("p",{className:"text-purple-100 text-sm",children:"AI Video Generator"})]})}),(0,ox.jsx)("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-xl hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105 shadow-lg",children:(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfa8"}),(0,ox.jsx)("h3",{className:"font-bold text-lg",children:"Content Factory Image"}),(0,ox.jsx)("p",{className:"text-green-100 text-sm",children:"Posts & Carouseles"})]})}),(0,ox.jsx)("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105 shadow-lg",children:(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udce2"}),(0,ox.jsx)("h3",{className:"font-bold text-lg",children:"Nueva Campa\xf1a"}),(0,ox.jsx)("p",{className:"text-blue-100 text-sm",children:"Crear campa\xf1a personalizada"})]})})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"\ud83e\udd16 Campa\xf1as Sugeridas por IA"}),(0,ox.jsx)("span",{className:"text-sm text-gray-500",children:"Optimizadas con datos en tiempo real"})]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:ne.map((e=>(0,ox.jsxs)("div",{className:"border-2 rounded-lg p-4 transition-all ".concat(e.active?"border-green-300 bg-green-50":"alta"===e.urgency?"border-red-200 bg-red-50 hover:border-red-300":"media"===e.urgency?"border-orange-200 bg-orange-50 hover:border-orange-300":"border-blue-200 bg-blue-50 hover:border-blue-300"),children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsx)("h4",{className:"font-bold text-gray-800",children:e.title}),(0,ox.jsxs)("div",{className:"flex space-x-1",children:[e.active&&(0,ox.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"ACTIVA"}),(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("alta"===e.urgency?"bg-red-100 text-red-800":"media"===e.urgency?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"),children:e.urgency.toUpperCase()})]})]}),(0,ox.jsx)("p",{className:"text-sm text-gray-700 mb-3",children:e.description}),(0,ox.jsxs)("div",{className:"space-y-2 text-xs mb-3",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Alcance estimado:"}),(0,ox.jsxs)("span",{className:"font-medium",children:[e.estimatedReach," clientes"]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"ROI esperado:"}),(0,ox.jsx)("span",{className:"font-medium text-green-600",children:e.expectedROI})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Canales:"}),(0,ox.jsx)("span",{className:"font-medium",children:e.channels.join(", ")})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>e.active?(e=>{re((t=>t.map((t=>t.id===e.id?d(d({},t),{},{active:!1}):t)))),alert('\ud83d\udd34 Campa\xf1a "'.concat(e.title,'" desactivada exitosamente.'))})(e):(async e=>{try{re((t=>t.map((t=>t.id===e.id?d(d({},t),{},{active:!0}):t)))),alert('\u2705 Campa\xf1a "'.concat(e.title,'" activada exitosamente!\n\n\ud83d\udcca Alcance: ').concat(e.estimatedReach," clientes\n\ud83d\udcb0 ROI esperado: ").concat(e.expectedROI,"\n\ud83d\udcf1 Canales: ").concat(e.channels.join(", ")))}catch(t){console.error("Error activating campaign:",t),alert("\u274c Error al activar la campa\xf1a. Intenta nuevamente.")}})(e),disabled:!1,className:"flex-1 py-2 rounded-lg text-sm font-medium transition-colors ".concat(e.active?"bg-red-500 text-white hover:bg-red-600":"bg-gray-800 text-white hover:bg-gray-900"),children:e.active?"\ud83d\udd34 Desactivar":"\ud83d\ude80 Activar Campa\xf1a"}),(0,ox.jsx)("button",{onClick:()=>u(e),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"\u270f\ufe0f"})]})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83c\udfaf Segmentaci\xf3n Inteligente"}),(0,ox.jsx)("div",{className:"overflow-x-auto",children:(0,ox.jsxs)("table",{className:"w-full",children:[(0,ox.jsx)("thead",{children:(0,ox.jsxs)("tr",{className:"bg-gray-50 border-b",children:[(0,ox.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Nivel KumIA"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"Clientes"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"\xdaltima Visita"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"Conversi\xf3n"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"Acciones"})]})}),(0,ox.jsx)("tbody",{children:[{nivel:"Explorador",clientes:32,ultimaVisita:"< 7 d\xedas",conversionRate:"65%"},{nivel:"Destacado",clientes:18,ultimaVisita:"< 14 d\xedas",conversionRate:"78%"},{nivel:"Estrella",clientes:8,ultimaVisita:"< 21 d\xedas",conversionRate:"85%"},{nivel:"Leyenda",clientes:3,ultimaVisita:"< 30 d\xedas",conversionRate:"95%"}].map(((e,t)=>(0,ox.jsxs)("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[(0,ox.jsx)("td",{className:"py-4 px-4 font-medium",children:e.nivel}),(0,ox.jsx)("td",{className:"py-4 px-4 text-center",children:e.clientes}),(0,ox.jsx)("td",{className:"py-4 px-4 text-center text-green-600",children:e.ultimaVisita}),(0,ox.jsx)("td",{className:"py-4 px-4 text-center font-bold text-blue-600",children:e.conversionRate}),(0,ox.jsx)("td",{className:"py-4 px-4 text-center",children:(0,ox.jsx)("button",{onClick:()=>h(e),className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"\ud83d\udce7 Campa\xf1a"})})]},t)))})]})})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"\ud83d\udcf1 Push Autom\xe1ticos"}),(0,ox.jsx)("button",{onClick:()=>x(!0),className:"bg-green-100 text-green-700 px-3 py-1 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"+ Agregar Push"})]}),(0,ox.jsx)("div",{className:"space-y-3",children:ae.map((e=>(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg ".concat(e.active?"bg-blue-50":"bg-gray-50"),children:[(0,ox.jsxs)("div",{className:"flex-1",children:[(0,ox.jsx)("h4",{className:"font-medium ".concat(e.active?"text-blue-800":"text-gray-600"),children:e.title}),(0,ox.jsx)("p",{className:"text-sm ".concat(e.active?"text-blue-600":"text-gray-500"),children:e.description})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:[e.deliveryRate," entregados"]}),(0,ox.jsx)("button",{onClick:()=>x(e),className:"text-gray-400 hover:text-gray-600 p-1",children:"\u270f\ufe0f"}),(0,ox.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ox.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:e.active,onChange:t=>{ie((s=>s.map((s=>s.id===e.id?d(d({},s),{},{active:t.target.checked}):s))))}}),(0,ox.jsx)("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all ".concat(e.active?"peer-checked:bg-blue-600":"peer-checked:bg-green-600")})]})]})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83e\uddea Campa\xf1as A/B Testing"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"border border-green-200 bg-green-50 rounded-lg p-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("h4",{className:"font-medium text-green-800",children:"WhatsApp vs Push"}),(0,ox.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"ACTIVA"})]}),(0,ox.jsxs)("div",{className:"text-sm text-green-700 space-y-1",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Aperturas:"}),(0,ox.jsx)("span",{className:"font-medium",children:"78% vs 45%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Conversiones:"}),(0,ox.jsx)("span",{className:"font-medium",children:"12% vs 8%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Ganador:"}),(0,ox.jsx)("span",{className:"font-bold text-green-600",children:"\ud83c\udfc6 WhatsApp"})]})]})]}),(0,ox.jsxs)("div",{className:"border border-gray-200 bg-gray-50 rounded-lg p-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:"Descuento vs Producto Gratis"}),(0,ox.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium",children:"FINALIZADA"})]}),(0,ox.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Aperturas:"}),(0,ox.jsx)("span",{className:"font-medium",children:"65% vs 70%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Conversiones:"}),(0,ox.jsx)("span",{className:"font-medium",children:"15% vs 18%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Ganador:"}),(0,ox.jsx)("span",{className:"font-bold text-blue-600",children:"\ud83c\udfc6 Producto Gratis"})]})]})]})]}),(0,ox.jsx)("button",{onClick:()=>T(!0),className:"w-full mt-4 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83e\uddea Nueva Prueba A/B"})]})]}),s&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfac F\xe1brica de Contenido - Generador de Videos"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Genera videos profesionales con IA (Google Veo 3, RunwayML, Pika Labs)"})]}),(0,ox.jsx)("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n del video *"}),(0,ox.jsx)("textarea",{value:g.prompt,onChange:e=>f((t=>d(d({},t),{},{prompt:e.target.value}))),placeholder:"Ej: Un video promocional mostrando nuestros platos insignia con ambiente acogedor...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:"4"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo IA"}),(0,ox.jsxs)("select",{value:g.model,onChange:e=>f((t=>d(d({},t),{},{model:e.target.value}))),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,ox.jsx)("option",{value:"runwayml",children:"RunwayML Gen-3 (Recomendado)"}),(0,ox.jsx)("option",{value:"veo",children:"Google Veo 3 (Premium)"}),(0,ox.jsx)("option",{value:"pika",children:"Pika Labs (Econ\xf3mico)"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duraci\xf3n (segundos)"}),(0,ox.jsx)("input",{type:"number",value:g.duration,onChange:e=>f((t=>d(d({},t),{},{duration:parseInt(e.target.value)}))),min:"5",max:"30",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estilo Visual"}),(0,ox.jsxs)("select",{value:g.style,onChange:e=>f((t=>d(d({},t),{},{style:e.target.value}))),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,ox.jsx)("option",{value:"cinematica",children:"Cinematogr\xe1fica"}),(0,ox.jsx)("option",{value:"comercial",children:"Comercial"}),(0,ox.jsx)("option",{value:"documental",children:"Documental"}),(0,ox.jsx)("option",{value:"artistica",children:"Art\xedstica"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plataforma destino"}),(0,ox.jsxs)("select",{value:g.platform,onChange:e=>f((t=>d(d({},t),{},{platform:e.target.value}))),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,ox.jsx)("option",{value:"instagram",children:"Instagram (1:1)"}),(0,ox.jsx)("option",{value:"tiktok",children:"TikTok (9:16)"}),(0,ox.jsx)("option",{value:"youtube",children:"YouTube (16:9)"}),(0,ox.jsx)("option",{value:"facebook",children:"Facebook (16:9)"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("span",{className:"font-medium text-blue-800",children:"Costo Estimado:"}),(0,ox.jsxs)("span",{className:"text-xl font-bold text-blue-600",children:[oe(g.duration,g.model)," cr\xe9ditos"]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("span",{className:"text-sm text-blue-600",children:"En USD:"}),(0,ox.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:["~$",(.1*oe(g.duration,g.model)).toFixed(2)]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-blue-600",children:"Tu balance:"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"text-sm font-bold text-green-600",children:"1,250 cr\xe9ditos"}),(0,ox.jsx)("button",{className:"text-xs bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600",children:"+ Comprar m\xe1s"})]})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("div",{className:"bg-gray-100 rounded-lg p-6 h-64 flex items-center justify-center",children:N?(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Generando video..."}),(0,ox.jsx)("p",{className:"text-sm text-gray-500",children:"Esto puede tomar 2-3 minutos"})]}):y&&"video"===y.type?(0,ox.jsx)("div",{className:"w-full h-full",children:(0,ox.jsx)("video",{controls:!0,className:"w-full h-full object-cover rounded-lg",src:"".concat("https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com").concat(y.url)})}):(0,ox.jsxs)("div",{className:"text-center text-gray-500",children:[(0,ox.jsx)("div",{className:"text-4xl mb-2",children:"\ud83c\udfac"}),(0,ox.jsx)("p",{children:"La previsualizaci\xf3n aparecer\xe1 aqu\xed"})]})}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsx)("button",{onClick:async()=>{if(!g.prompt.trim())return void alert("Por favor ingresa una descripci\xf3n para el video");w(!0);const e=oe(g.duration,g.model);M(e);try{const e="https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com",t=await fetch("".concat(e,"/api/content-factory/video/generate"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({prompt:g.prompt,model:g.model,duration:g.duration,style:g.style,platform:g.platform,branding_level:g.brandingLevel})});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const s=await t.json();if(!s.job_id)throw new Error("No job ID received");ce(s.job_id)}catch(t){console.error("Error generating video:",t),w(!1),alert("\u274c Error al generar el video. Intenta nuevamente.")}},disabled:N||!g.prompt.trim(),className:"w-full py-3 rounded-lg font-medium transition-colors ".concat(N||!g.prompt.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"),children:N?"Generando...":"\ud83d\ude80 Generar Video"}),y&&"video"===y.type&&(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsx)("button",{onClick:()=>alert("Funci\xf3n de edici\xf3n pr\xf3ximamente disponible"),className:"w-full bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"\u270f\ufe0f Editar Video (Subt\xedtulos, Marca, Transiciones)"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ox.jsx)("button",{onClick:async()=>{try{if(y&&y.url){const e=document.createElement("a");e.href="".concat("https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com").concat(y.url),e.download="kumia-video-".concat(Date.now(),".mp4"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}}catch(e){console.error("Error downloading video:",e),alert("\u274c Error al descargar el video. Intenta nuevamente.")}},className:"bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors",children:"\ud83d\udcbe Descargar"}),(0,ox.jsx)("button",{onClick:()=>E(!0),className:"bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udcf1 Publicar"})]})]})]})]})]})]})})}),a&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfa8 F\xe1brica de Contenido - Generador de Im\xe1genes"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Crea posts, carruseles e im\xe1genes profesionales con IA"})]}),(0,ox.jsx)("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n de la imagen *"}),(0,ox.jsx)("textarea",{value:b.prompt,onChange:e=>v((t=>d(d({},t),{},{prompt:e.target.value}))),placeholder:"Ej: Un plato gourmet elegantemente presentado con iluminaci\xf3n profesional...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:"4"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de contenido"}),(0,ox.jsxs)("select",{value:b.format,onChange:e=>v((t=>d(d({},t),{},{format:e.target.value}))),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,ox.jsx)("option",{value:"post",children:"Post Individual"}),(0,ox.jsx)("option",{value:"carousel",children:"Carrusel (m\xfaltiples)"}),(0,ox.jsx)("option",{value:"story",children:"Instagram Story"}),(0,ox.jsx)("option",{value:"banner",children:"Banner promocional"}),(0,ox.jsx)("option",{value:"menu",children:"Imagen de men\xfa"}),(0,ox.jsx)("option",{value:"evento",children:"Imagen de evento"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad"}),(0,ox.jsx)("input",{type:"number",value:b.count,onChange:e=>v((t=>d(d({},t),{},{count:parseInt(e.target.value)}))),min:"1",max:"10",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estilo"}),(0,ox.jsxs)("select",{value:b.style,onChange:e=>v((t=>d(d({},t),{},{style:e.target.value}))),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,ox.jsx)("option",{value:"fotografico",children:"Fotogr\xe1fico"}),(0,ox.jsx)("option",{value:"ilustracion",children:"Ilustraci\xf3n"}),(0,ox.jsx)("option",{value:"minimalista",children:"Minimalista"}),(0,ox.jsx)("option",{value:"artistico",children:"Art\xedstico"}),(0,ox.jsx)("option",{value:"profesional",children:"Profesional"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plataforma"}),(0,ox.jsxs)("select",{value:b.platform,onChange:e=>v((t=>d(d({},t),{},{platform:e.target.value}))),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,ox.jsx)("option",{value:"instagram",children:"Instagram (1:1)"}),(0,ox.jsx)("option",{value:"facebook",children:"Facebook (16:9)"}),(0,ox.jsx)("option",{value:"tiktok",children:"TikTok (9:16)"}),(0,ox.jsx)("option",{value:"whatsapp",children:"WhatsApp Status"}),(0,ox.jsx)("option",{value:"web",children:"P\xe1gina Web"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("span",{className:"font-medium text-green-800",children:"Costo Estimado:"}),(0,ox.jsxs)("span",{className:"text-xl font-bold text-green-600",children:[le(b.count,b.style)," cr\xe9ditos"]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("span",{className:"text-sm text-green-600",children:"En USD:"}),(0,ox.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["~$",(.1*le(b.count,b.style)).toFixed(2)]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-green-600",children:"Tu balance:"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:[P," cr\xe9ditos"]}),(0,ox.jsx)("button",{onClick:()=>A(!0),className:"text-xs bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600",children:"+ Comprar m\xe1s"})]})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("div",{className:"bg-gray-100 rounded-lg p-6 h-64 flex items-center justify-center",children:N?(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Generando im\xe1genes..."})]}):y&&"image"===y.type?(0,ox.jsx)("div",{className:"grid grid-cols-2 gap-2 w-full",children:y.urls.map(((e,t)=>(0,ox.jsx)("img",{src:"".concat("https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com").concat(e),alt:"Generated ".concat(t+1),className:"w-full h-24 object-cover rounded-lg"},t)))}):(0,ox.jsxs)("div",{className:"text-center text-gray-500",children:[(0,ox.jsx)("div",{className:"text-4xl mb-2",children:"\ud83c\udfa8"}),(0,ox.jsx)("p",{children:"Las im\xe1genes aparecer\xe1n aqu\xed"})]})}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsx)("button",{onClick:async()=>{if(!b.prompt.trim())return void alert("Por favor ingresa una descripci\xf3n para la imagen");w(!0);const e=le(b.count,b.style);M(e);try{const e="https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com",t=await fetch("".concat(e,"/api/content-factory/image/generate"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({prompt:b.prompt,style:b.style,format:b.format,platform:b.platform,count:b.count})});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const s=await t.json();j({type:"image",urls:s.images,metadata:{format:s.metadata.format,platform:s.metadata.platform,cost:s.cost}}),w(!1)}catch(t){console.error("Error generating image:",t),w(!1),alert("\u274c Error al generar la imagen. Intenta nuevamente.")}},disabled:N||!b.prompt.trim(),className:"w-full py-3 rounded-lg font-medium transition-colors ".concat(N||!b.prompt.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:N?"Generando...":"\ud83d\ude80 Generar Im\xe1genes"}),y&&"image"===y.type&&(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsx)("button",{onClick:()=>alert("Editor de im\xe1genes pr\xf3ximamente disponible"),className:"w-full bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"\u270f\ufe0f Editar Im\xe1genes (Filtros, Texto, Efectos)"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ox.jsx)("button",{onClick:()=>alert("Descarga iniciada"),className:"bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors",children:"\ud83d\udcbe Descargar Todo"}),(0,ox.jsx)("button",{onClick:()=>E(!0),className:"bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udcf1 Publicar"})]})]})]})]})]})]})})}),o&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udce2 Nueva Campa\xf1a Personalizada"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Crea una campa\xf1a de marketing dirigida"})]}),(0,ox.jsx)("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async e=>{try{const t="https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com",s=await fetch("".concat(t,"/api/marketing/campaigns"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)});if(!s.ok)throw new Error("HTTP error! status: ".concat(s.status));await s.json(),alert('\u2705 Campa\xf1a "'.concat(e.title,'" creada exitosamente!')),l(!1)}catch(t){console.error("Error creating campaign:",t),alert("\u274c Error al crear la campa\xf1a. Intenta nuevamente.")}})({title:t.get("title"),description:t.get("description"),target_level:t.get("target_level"),channels:Array.from(t.getAll("channels")),start_date:t.get("start_date"),end_date:t.get("end_date")})},children:(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la campa\xf1a *"}),(0,ox.jsx)("input",{name:"title",type:"text",placeholder:"Ej: Promoci\xf3n San Valent\xedn 2025",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segmento objetivo"}),(0,ox.jsxs)("select",{name:"target_level",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{value:"todos",children:"Todos los clientes"}),(0,ox.jsx)("option",{value:"explorador",children:"Solo Exploradores"}),(0,ox.jsx)("option",{value:"destacado",children:"Solo Destacados"}),(0,ox.jsx)("option",{value:"estrella",children:"Solo Estrellas"}),(0,ox.jsx)("option",{value:"leyenda",children:"Solo Leyendas"}),(0,ox.jsx)("option",{value:"inactivos",children:"Clientes inactivos"})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje de la campa\xf1a *"}),(0,ox.jsx)("textarea",{name:"description",placeholder:"Escribe el mensaje que recibir\xe1n tus clientes...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"4",required:!0})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canales"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",name:"channels",value:"whatsapp",className:"mr-2"}),"WhatsApp"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",name:"channels",value:"push",className:"mr-2"}),"Push Notifications"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",name:"channels",value:"email",className:"mr-2"}),"Email"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",name:"channels",value:"instagram",className:"mr-2"}),"Instagram"]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de inicio"}),(0,ox.jsx)("input",{name:"start_date",type:"datetime-local",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de finalizaci\xf3n"}),(0,ox.jsx)("input",{name:"end_date",type:"datetime-local",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ox.jsx)("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\ud83d\ude80 Crear Campa\xf1a"})]})]})})]})})}),c&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["\u270f\ufe0f Editar Campa\xf1a: ",c.title]}),(0,ox.jsx)("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo"}),(0,ox.jsx)("input",{type:"text",defaultValue:c.title,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel de urgencia"}),(0,ox.jsxs)("select",{defaultValue:c.urgency,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{value:"alta",children:"Alta"}),(0,ox.jsx)("option",{value:"media",children:"Media"}),(0,ox.jsx)("option",{value:"baja",children:"Baja"})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n"}),(0,ox.jsx)("textarea",{defaultValue:c.description,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel objetivo"}),(0,ox.jsxs)("select",{defaultValue:c.targetLevel,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{value:"Todos",children:"Todos"}),(0,ox.jsx)("option",{value:"Explorador",children:"Explorador"}),(0,ox.jsx)("option",{value:"Destacado",children:"Destacado"}),(0,ox.jsx)("option",{value:"Estrella",children:"Estrella"}),(0,ox.jsx)("option",{value:"Leyenda",children:"Leyenda"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alcance estimado"}),(0,ox.jsx)("input",{type:"number",defaultValue:c.estimatedReach,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ROI esperado (%)"}),(0,ox.jsx)("input",{type:"text",defaultValue:c.expectedROI,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canales de distribuci\xf3n"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[c.channels.map(((e,t)=>(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e]},t))),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Instagram"]})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de inicio"}),(0,ox.jsx)("input",{type:"datetime-local",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de finalizaci\xf3n"}),(0,ox.jsx)("input",{type:"datetime-local",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>u(null),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 Campa\xf1a actualizada exitosamente!"),u(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\ud83d\udcbe Guardar Cambios"})]})]})]})})}),m&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["\ud83d\udce7 Campa\xf1a Dirigida para ",m.nivel]}),(0,ox.jsx)("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[(0,ox.jsx)("h3",{className:"font-medium text-blue-800 mb-3",children:"\ud83d\udcca Informaci\xf3n del Segmento"}),(0,ox.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm mb-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-blue-600",children:"Clientes:"}),(0,ox.jsx)("div",{className:"font-bold",children:m.clientes})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-blue-600",children:"\xdaltima visita:"}),(0,ox.jsx)("div",{className:"font-bold",children:m.ultimaVisita})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-blue-600",children:"Conversi\xf3n:"}),(0,ox.jsx)("div",{className:"font-bold",children:m.conversionRate})]})]}),(0,ox.jsxs)("div",{className:"text-sm text-blue-700 bg-blue-100 p-3 rounded-lg",children:[(0,ox.jsx)("strong",{children:"\ud83d\udca1 Prop\xf3sito:"})," Esta funcionalidad te permite crear campa\xf1as personalizadas espec\xedficamente para clientes del nivel ",m.nivel,". Puedes aprovechar sus caracter\xedsticas \xfanicas (comportamiento de compra, frecuencia de visita, preferencias) para crear mensajes m\xe1s efectivos y aumentar la conversi\xf3n."]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de campa\xf1a"}),(0,ox.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{value:"promocion",children:"Promoci\xf3n especial"}),(0,ox.jsx)("option",{value:"fidelizacion",children:"Fidelizaci\xf3n"}),(0,ox.jsx)("option",{value:"reactivacion",children:"Reactivaci\xf3n"}),(0,ox.jsx)("option",{value:"upselling",children:"Upselling"}),(0,ox.jsx)("option",{value:"evento",children:"Invitaci\xf3n a evento"}),(0,ox.jsx)("option",{value:"feedback",children:"Solicitud de feedback"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objetivo principal"}),(0,ox.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{value:"conversion",children:"Aumentar conversi\xf3n"}),(0,ox.jsx)("option",{value:"retention",children:"Mejorar retenci\xf3n"}),(0,ox.jsx)("option",{value:"frequency",children:"Aumentar frecuencia"}),(0,ox.jsx)("option",{value:"ticket",children:"Incrementar ticket promedio"}),(0,ox.jsx)("option",{value:"referral",children:"Generar referidos"})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Mensaje personalizado para ",m.nivel]}),(0,ox.jsx)("textarea",{placeholder:"Mensaje especial para clientes ".concat(m.nivel,'... \n                    \nEjemplo: "\xa1Hola! Como cliente ').concat(m.nivel,', tienes acceso exclusivo a..."'),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"5"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canales de env\xedo"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2",defaultChecked:!0}),"WhatsApp"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Push Notification"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Email personalizado"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Instagram DM"]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Programaci\xf3n"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Fecha de env\xedo"}),(0,ox.jsx)("input",{type:"date",className:"w-full p-2 border border-gray-300 rounded-lg text-sm"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Hora \xf3ptima"}),(0,ox.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm",children:[(0,ox.jsx)("option",{children:"Autom\xe1tica (basada en datos)"}),(0,ox.jsx)("option",{children:"9:00 AM"}),(0,ox.jsx)("option",{children:"12:00 PM"}),(0,ox.jsx)("option",{children:"3:00 PM"}),(0,ox.jsx)("option",{children:"6:00 PM"}),(0,ox.jsx)("option",{children:"8:00 PM"})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"\ud83d\udcc8 Predicci\xf3n de Resultados"}),(0,ox.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-green-600",children:"Alcance estimado:"}),(0,ox.jsxs)("div",{className:"font-bold",children:[m.clientes," clientes"]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-green-600",children:"Tasa de apertura esperada:"}),(0,ox.jsx)("div",{className:"font-bold",children:"Leyenda"===m.nivel?"95%":"Estrella"===m.nivel?"89%":"Destacado"===m.nivel?"78%":"65%"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-green-600",children:"Conversi\xf3n estimada:"}),(0,ox.jsx)("div",{className:"font-bold",children:m.conversionRate})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>h(null),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:async()=>{try{const e="https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com",t=await fetch("".concat(e,"/api/marketing/campaigns/segmented"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({title:"Campa\xf1a ".concat(m.nivel),description:document.querySelector('textarea[placeholder*="Mensaje especial"]').value,target_level:m.nivel.toLowerCase(),channels:["whatsapp","push"]})});if(t.ok){const e=await t.json();alert("\ud83d\udce7 Campa\xf1a para ".concat(m.nivel," creada exitosamente! Alcance: ").concat(e.estimated_reach," clientes, Conversi\xf3n esperada: ").concat(e.expected_conversion))}else alert("\ud83d\udce7 Campa\xf1a programada exitosamente (modo demo)!");h(null)}catch(e){alert("\ud83d\udce7 Campa\xf1a para ".concat(m.nivel," programada exitosamente! Se enviar\xe1 a ").concat(m.clientes," clientes.")),h(null)}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\ud83d\udce7 Enviar Campa\xf1a"})]})]})]})})}),p&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:!0===p?"\ud83d\udcf1 Nuevo Push Autom\xe1tico":"\u270f\ufe0f Editar: ".concat(p.title)}),(0,ox.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo del Push"}),(0,ox.jsx)("input",{type:"text",defaultValue:!0!==p?p.title:"",placeholder:"Ej: Recordatorio de Reserva",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje del Push"}),(0,ox.jsx)("textarea",{defaultValue:!0!==p?p.description:"",placeholder:"\xa1Hola! Te recordamos tu reserva para hoy...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",rows:"3"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de activaci\xf3n"}),(0,ox.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,ox.jsx)("option",{value:"trigger",children:"Activaci\xf3n autom\xe1tica"}),(0,ox.jsx)("option",{value:"schedule",children:"Fecha y hora espec\xedfica"}),(0,ox.jsx)("option",{value:"manual",children:"Activaci\xf3n manual"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridad"}),(0,ox.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,ox.jsx)("option",{value:"alta",children:"Alta"}),(0,ox.jsx)("option",{value:"media",children:"Media"}),(0,ox.jsx)("option",{value:"baja",children:"Baja"})]})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de env\xedo (opcional)"}),(0,ox.jsx)("input",{type:"date",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora de env\xedo (opcional)"}),(0,ox.jsx)("input",{type:"time",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger autom\xe1tico"}),(0,ox.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,ox.jsx)("option",{value:"2_hours_before",children:"2 horas antes de reserva"}),(0,ox.jsx)("option",{value:"24_hours_after",children:"24 horas despu\xe9s de visita"}),(0,ox.jsx)("option",{value:"7_days_before_birthday",children:"7 d\xedas antes de cumplea\xf1os"}),(0,ox.jsx)("option",{value:"30_days_inactive",children:"30 d\xedas sin actividad"}),(0,ox.jsx)("option",{value:"level_up",children:"Al subir de nivel"}),(0,ox.jsx)("option",{value:"new_promotion",children:"Nueva promoci\xf3n disponible"}),(0,ox.jsx)("option",{value:"custom",children:"Personalizado"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canales de env\xedo"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"WhatsApp"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Push Notification"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Email"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"SMS"]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segmento objetivo"}),(0,ox.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,ox.jsx)("option",{value:"todos",children:"Todos los clientes"}),(0,ox.jsx)("option",{value:"explorador",children:"Solo Exploradores"}),(0,ox.jsx)("option",{value:"destacado",children:"Solo Destacados"}),(0,ox.jsx)("option",{value:"estrella",children:"Solo Estrellas"}),(0,ox.jsx)("option",{value:"leyenda",children:"Solo Leyendas"}),(0,ox.jsx)("option",{value:"inactivos",children:"Clientes inactivos"}),(0,ox.jsx)("option",{value:"cumpleaneros",children:"Cumplea\xf1eros del mes"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 Push autom\xe1tico guardado exitosamente!"),x(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"\ud83d\udcbe Guardar Push"})]})]})]})})}),C&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\ud83d\udcf1 Publicar Contenido"}),(0,ox.jsx)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"font-medium text-gray-800 mb-3",children:"Selecciona d\xf3nde publicar:"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ox.jsxs)("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[(0,ox.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcd8"}),(0,ox.jsx)("div",{className:"font-medium",children:"Facebook"}),(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"P\xe1gina empresarial"})]}),(0,ox.jsxs)("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-pink-50 hover:border-pink-300 transition-colors",children:[(0,ox.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcf8"}),(0,ox.jsx)("div",{className:"font-medium",children:"Instagram"}),(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"Feed y Stories"})]}),(0,ox.jsxs)("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-colors",children:[(0,ox.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcac"}),(0,ox.jsx)("div",{className:"font-medium",children:"WhatsApp"}),(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"Estados"})]}),(0,ox.jsxs)("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-red-50 hover:border-red-300 transition-colors",children:[(0,ox.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfb5"}),(0,ox.jsx)("div",{className:"font-medium",children:"TikTok"}),(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"Perfil comercial"})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje (opcional)"}),(0,ox.jsx)("textarea",{placeholder:"Agrega un mensaje personalizado para acompa\xf1ar tu publicaci\xf3n...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3"})]}),(0,ox.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>E(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\ud83d\ude80 Contenido programado para publicaci\xf3n!"),E(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\ud83d\udce4 Publicar Ahora"})]})]})]})})}),_&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\ud83d\udcb3 Comprar Cr\xe9ditos"}),(0,ox.jsx)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:P}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:"Cr\xe9ditos actuales"})]})}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsx)("h3",{className:"font-medium text-gray-800",children:"Paquetes disponibles:"}),(0,ox.jsx)("button",{onClick:()=>se(500),className:"w-full p-4 border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors text-left",children:(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-medium",children:"Paquete B\xe1sico"}),(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"500 cr\xe9ditos"})]}),(0,ox.jsx)("div",{className:"text-green-600 font-bold",children:"$50"})]})}),(0,ox.jsx)("button",{onClick:()=>se(1200),className:"w-full p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-left",children:(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-medium",children:"Paquete Profesional"}),(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"1,200 cr\xe9ditos"}),(0,ox.jsx)("div",{className:"text-xs text-blue-600",children:"20% de descuento"})]}),(0,ox.jsx)("div",{className:"text-blue-600 font-bold",children:"$96"})]})}),(0,ox.jsx)("button",{onClick:()=>se(2500),className:"w-full p-4 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors text-left",children:(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-medium",children:"Paquete Premium"}),(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"2,500 cr\xe9ditos"}),(0,ox.jsx)("div",{className:"text-xs text-purple-600",children:"25% de descuento"})]}),(0,ox.jsx)("div",{className:"text-purple-600 font-bold",children:"$187"})]})})]}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 text-center",children:"Pagos seguros con tarjeta de cr\xe9dito o PayPal"})]})]})})}),I&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\ud83e\uddea Nueva Prueba A/B"}),(0,ox.jsx)("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la prueba"}),(0,ox.jsx)("input",{type:"text",placeholder:"Ej: Bot\xf3n vs Texto en WhatsApp",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ox.jsx)("h3",{className:"font-medium text-gray-800 mb-3",children:"\ud83c\udd70\ufe0f Versi\xf3n A"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),(0,ox.jsx)("textarea",{placeholder:"Mensaje de la versi\xf3n A...",className:"w-full p-2 border border-gray-300 rounded-lg text-sm",rows:"3"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Canal"}),(0,ox.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm",children:[(0,ox.jsx)("option",{children:"WhatsApp"}),(0,ox.jsx)("option",{children:"Push"}),(0,ox.jsx)("option",{children:"Email"}),(0,ox.jsx)("option",{children:"Instagram"})]})]})]})]}),(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ox.jsx)("h3",{className:"font-medium text-gray-800 mb-3",children:"\ud83c\udd71\ufe0f Versi\xf3n B"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),(0,ox.jsx)("textarea",{placeholder:"Mensaje de la versi\xf3n B...",className:"w-full p-2 border border-gray-300 rounded-lg text-sm",rows:"3"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Canal"}),(0,ox.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm",children:[(0,ox.jsx)("option",{children:"WhatsApp"}),(0,ox.jsx)("option",{children:"Push"}),(0,ox.jsx)("option",{children:"Email"}),(0,ox.jsx)("option",{children:"Instagram"})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duraci\xf3n (d\xedas)"}),(0,ox.jsx)("input",{type:"number",defaultValue:"7",min:"1",max:"30",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Divisi\xf3n del tr\xe1fico"}),(0,ox.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{children:"50% / 50%"}),(0,ox.jsx)("option",{children:"60% / 40%"}),(0,ox.jsx)("option",{children:"70% / 30%"}),(0,ox.jsx)("option",{children:"80% / 20%"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M\xe9trica principal"}),(0,ox.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{children:"Tasa de apertura"}),(0,ox.jsx)("option",{children:"Tasa de conversi\xf3n"}),(0,ox.jsx)("option",{children:"Clicks"}),(0,ox.jsx)("option",{children:"Tiempo de interacci\xf3n"})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>T(!1),className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\ud83e\uddea Prueba A/B creada exitosamente! Comenzar\xe1 en 5 minutos."),T(!1)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\ud83d\ude80 Iniciar Prueba"})]})]})]})})}),D&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfaf Configuraci\xf3n General de Juegos"}),(0,ox.jsx)("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"\u2b50 Configuraci\xf3n de Recompensas"}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M\xe1ximo Stars Reales por Sesi\xf3n (Global)"}),(0,ox.jsx)("input",{type:"number",min:"1",max:"5",defaultValue:"2",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"L\xedmite global para evitar abuso del sistema"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiempo m\xednimo entre sesiones (minutos)"}),(0,ox.jsx)("input",{type:"number",min:"5",max:"60",defaultValue:"15",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sesiones m\xe1ximas por cliente por d\xeda"}),(0,ox.jsx)("input",{type:"number",min:"1",max:"10",defaultValue:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Activar sistema de juegos"}),(0,ox.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ox.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,ox.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"\ud83d\udd52 Horarios de Operaci\xf3n"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora de inicio"}),(0,ox.jsx)("input",{type:"time",defaultValue:"12:00",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora de fin"}),(0,ox.jsx)("input",{type:"time",defaultValue:"23:00",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"D\xedas activos"}),(0,ox.jsx)("div",{className:"space-y-2",children:["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"].map((e=>(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2",defaultChecked:!0}),e]},e)))})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ox.jsx)("button",{onClick:()=>L(!1),className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 Configuraci\xf3n de juegos actualizada exitosamente!"),L(!1)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\ud83d\udcbe Guardar Configuraci\xf3n"})]})]})})}),z&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcca UserWebApp Preview - Juegos"}),(0,ox.jsx)("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-gray-100 rounded-xl p-4",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4 text-center",children:"\ud83d\udcf1 Vista M\xf3vil"}),(0,ox.jsxs)("div",{className:"max-w-xs mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 px-4 py-6 text-white text-center",children:[(0,ox.jsx)("h2",{className:"text-xl font-bold",children:"\ud83c\udfae KumIA Games"}),(0,ox.jsx)("p",{className:"text-sm opacity-90",children:"\xa1Juega y gana Stars!"})]}),(0,ox.jsxs)("div",{className:"p-4 space-y-3",children:[(0,ox.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("span",{className:"font-medium text-blue-800",children:"\ud83e\udde0 KumiSudoku"}),(0,ox.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"2\u2605"})]}),(0,ox.jsx)("p",{className:"text-xs text-gray-600",children:"Sudoku express 4x4"}),(0,ox.jsx)("button",{className:"w-full mt-2 bg-blue-500 text-white py-1 rounded text-sm",children:"\u25b6\ufe0f Jugar"})]}),(0,ox.jsxs)("div",{className:"bg-green-50 rounded-lg p-3",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("span",{className:"font-medium text-green-800",children:"\ud83c\udccf KumIA Duel"}),(0,ox.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"2\u2605"})]}),(0,ox.jsx)("p",{className:"text-xs text-gray-600",children:"Duelo de preguntas"}),(0,ox.jsx)("button",{className:"w-full mt-2 bg-green-500 text-white py-1 rounded text-sm",children:"\u25b6\ufe0f Jugar (2P)"})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("span",{className:"font-medium text-purple-800",children:"\ud83e\udd2b Qui\xe9n Soy Yo"}),(0,ox.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"2\u2605"})]}),(0,ox.jsx)("p",{className:"text-xs text-gray-600",children:"Adivinanza grupal"}),(0,ox.jsx)("button",{className:"w-full mt-2 bg-purple-500 text-white py-1 rounded text-sm",children:"\u25b6\ufe0f Jugar (3+P)"})]})]}),(0,ox.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,ox.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-3 text-center",children:[(0,ox.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcf1"}),(0,ox.jsx)("p",{className:"text-xs text-yellow-800",children:"Escanea el QR de tu mesa"}),(0,ox.jsx)("button",{className:"mt-2 bg-yellow-500 text-white px-3 py-1 rounded text-xs",children:"\ud83d\udcf7 Escanear"})]})})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"\ud83d\udcca Analytics de Juegos"}),(0,ox.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Engagement por Juego"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"KumIA Duel:"}),(0,ox.jsx)("span",{className:"font-bold text-blue-600",children:"96%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Pac-KumIA:"}),(0,ox.jsx)("span",{className:"font-bold text-blue-600",children:"92%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Versus Tap:"}),(0,ox.jsx)("span",{className:"font-bold text-blue-600",children:"89%"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,ox.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"Stars Distribuidas Hoy"}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"156"}),(0,ox.jsx)("div",{className:"text-sm text-green-700",children:"134 Reales + 22 Simb\xf3licas"})]})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,ox.jsx)("h4",{className:"font-medium text-purple-800 mb-2",children:"Horario Peak"}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"19:30-21:00"}),(0,ox.jsx)("div",{className:"text-sm text-purple-700",children:"73% de participaci\xf3n"})]})]}),(0,ox.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4",children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-800 mb-2",children:"Tiempo Extra por Mesa"}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"+18 min"}),(0,ox.jsx)("div",{className:"text-sm text-orange-700",children:"Promedio con juegos activos"})]})]})]})]}),(0,ox.jsx)("div",{className:"flex justify-end mt-6",children:(0,ox.jsx)("button",{onClick:()=>F(!1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\u2705 Entendido"})})]})})}),U&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["\u2699\ufe0f Configurar: ",U.nombre]}),(0,ox.jsx)("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stars Reales por Ganador"}),(0,ox.jsx)("input",{type:"number",min:"1",max:"2",defaultValue:U.starsReales,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"KumiSmile Stars"}),(0,ox.jsx)("input",{type:"number",min:"1",max:"5",defaultValue:U.starsSimbolicas,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M\xe1ximo Stars Reales por Sesi\xf3n"}),(0,ox.jsx)("input",{type:"number",min:"1",max:"2",defaultValue:U.maxStarsPorSesion,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,ox.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"M\xe1ximo 2 stars reales por sesi\xf3n por pol\xedtica KumIA"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n del Juego"}),(0,ox.jsx)("textarea",{defaultValue:U.descripcion,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dificultad"}),(0,ox.jsxs)("select",{defaultValue:U.dificultad,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{value:"F\xe1cil",children:"F\xe1cil"}),(0,ox.jsx)("option",{value:"Media",children:"Media"}),(0,ox.jsx)("option",{value:"Alta",children:"Alta"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duraci\xf3n Estimada"}),(0,ox.jsx)("input",{type:"text",defaultValue:U.duracion,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ej: 5-8 min"})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Juego activo"}),(0,ox.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ox.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:U.activo}),(0,ox.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ox.jsx)("button",{onClick:()=>V(null),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{return e=U.id,t={starsReales:2,maxStarsPorSesion:2,activo:!0},alert("\u2705 Configuraci\xf3n del juego actualizada exitosamente!\n\nJuego ID: ".concat(e,"\nStars Reales: ").concat(t.starsReales,"\nM\xe1x por sesi\xf3n: ").concat(t.maxStarsPorSesion,"\nActivo: ").concat(t.activo?"S\xed":"No")),void V(null);var e,t},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\ud83d\udcbe Guardar Cambios"})]})]})})}),B&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["\ud83c\udfae Vista Previa: ",B.nombre]}),(0,ox.jsx)("button",{onClick:()=>q(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsx)("div",{className:"bg-gray-100 rounded-xl p-4",children:(0,ox.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[(0,ox.jsxs)("div",{className:"text-center mb-4",children:[(0,ox.jsx)("div",{className:"text-4xl mb-2",children:B.nombre.charAt(0)}),(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:B.nombre}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:B.descripcion})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center p-2 bg-blue-50 rounded-lg",children:[(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"Objetivo:"}),(0,ox.jsx)("span",{className:"text-sm font-medium text-blue-800",children:B.objetivo})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded-lg",children:[(0,ox.jsx)("span",{className:"text-sm text-green-700",children:"Duraci\xf3n:"}),(0,ox.jsx)("span",{className:"text-sm font-medium text-green-800",children:B.duracion})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center p-2 bg-purple-50 rounded-lg",children:[(0,ox.jsx)("span",{className:"text-sm text-purple-700",children:"Dificultad:"}),(0,ox.jsx)("span",{className:"text-sm font-medium text-purple-800",children:B.dificultad})]}),(0,ox.jsx)("div",{className:"bg-yellow-50 rounded-lg p-3",children:(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsxs)("div",{className:"text-lg font-bold text-yellow-700",children:["\u2b50 ",B.starsReales," Stars Reales"]}),(0,ox.jsxs)("div",{className:"text-sm text-yellow-600",children:["+ ",B.starsSimbolicas," KumiSmile Stars"]})]})}),(0,ox.jsx)("button",{className:"w-full bg-green-500 text-white py-3 rounded-lg font-medium hover:bg-green-600 transition-colors",children:"\ud83c\udfae \xa1Comenzar Juego!"}),(0,ox.jsx)("div",{className:"text-center",children:(0,ox.jsxs)("p",{className:"text-xs text-gray-500",children:["M\xe1ximo ",B.maxStarsPorSesion," stars reales por sesi\xf3n"]})})]})]})}),(0,ox.jsx)("div",{className:"flex justify-end mt-6",children:(0,ox.jsx)("button",{onClick:()=>q(null),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\u2705 Entendido"})})]})})}),H&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\ud83d\udd10 Configuraci\xf3n de Seguridad"}),(0,ox.jsx)("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Radio Geofencing (metros)"}),(0,ox.jsx)("input",{type:"number",value:ee.radiusGeofencing,onChange:e=>te((t=>d(d({},t),{},{radiusGeofencing:parseInt(e.target.value)}))),min:"10",max:"200",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiempo m\xe1ximo por sesi\xf3n (min)"}),(0,ox.jsx)("input",{type:"number",value:ee.tiempoMaximoSesion,onChange:e=>te((t=>d(d({},t),{},{tiempoMaximoSesion:parseInt(e.target.value)}))),min:"5",max:"120",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sesiones m\xe1ximas por cliente"}),(0,ox.jsx)("input",{type:"number",value:ee.sesionesMaximasPorCliente,onChange:e=>te((t=>d(d({},t),{},{sesionesMaximasPorCliente:parseInt(e.target.value)}))),min:"1",max:"5",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiempo de espera m\xednimo (min)"}),(0,ox.jsx)("input",{type:"number",value:ee.tiempoEsperaMinimo,onChange:e=>te((t=>d(d({},t),{},{tiempoEsperaMinimo:parseInt(e.target.value)}))),min:"0",max:"60",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700",children:"Opciones de Seguridad"}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Validaci\xf3n por Geolocalizaci\xf3n"}),(0,ox.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ox.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:ee.validacionGeolocation,onChange:e=>te((t=>d(d({},t),{},{validacionGeolocation:e.target.checked})))}),(0,ox.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"QR Din\xe1mico por Mesa"}),(0,ox.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ox.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:ee.validacionQR,onChange:e=>te((t=>d(d({},t),{},{validacionQR:e.target.checked})))}),(0,ox.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Anti-fraude Avanzado"}),(0,ox.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ox.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:ee.antifraudeAvanzado,onChange:e=>te((t=>d(d({},t),{},{antifraudeAvanzado:e.target.checked})))}),(0,ox.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-600"})]})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ox.jsx)("button",{onClick:()=>G(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 Configuraci\xf3n de seguridad actualizada exitosamente!"),G(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\ud83d\udcbe Guardar Configuraci\xf3n"})]})]})})}),K&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcb3 Agregar M\xe9todo de Pago"}),(0,ox.jsx)("button",{onClick:()=>W(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,ox.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Q.cardNumber&&Q.expMonth&&Q.expYear&&Q.cvc?(alert("\u2705 M\xe9todo de pago agregado exitosamente!\n\nTarjeta: ****".concat(Q.cardNumber.slice(-4),"\nTitular: ").concat(Q.holderName||"No especificado","\nPredeterminado: ").concat(Q.isDefault?"S\xed":"No")),Y({cardNumber:"",holderName:"",expMonth:"",expYear:"",cvc:"",isDefault:!1}),W(!1)):alert("\u274c Por favor completa todos los campos obligatorios")},className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Tarjeta *"}),(0,ox.jsx)("input",{type:"text",value:Q.cardNumber,onChange:e=>Y((t=>d(d({},t),{},{cardNumber:e.target.value.replace(/\D/g,"").slice(0,16)}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1234 5678 9012 3456",maxLength:"16",required:!0})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titular de la Tarjeta"}),(0,ox.jsx)("input",{type:"text",value:Q.holderName,onChange:e=>Y((t=>d(d({},t),{},{holderName:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre completo"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mes *"}),(0,ox.jsxs)("select",{value:Q.expMonth,onChange:e=>Y((t=>d(d({},t),{},{expMonth:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,ox.jsx)("option",{value:"",children:"MM"}),Array.from({length:12},((e,t)=>(0,ox.jsx)("option",{value:String(t+1).padStart(2,"0"),children:String(t+1).padStart(2,"0")},t+1)))]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"A\xf1o *"}),(0,ox.jsxs)("select",{value:Q.expYear,onChange:e=>Y((t=>d(d({},t),{},{expYear:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,ox.jsx)("option",{value:"",children:"AAAA"}),Array.from({length:10},((e,t)=>(0,ox.jsx)("option",{value:String(2024+t),children:2024+t},t)))]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVC *"}),(0,ox.jsx)("input",{type:"text",value:Q.cvc,onChange:e=>Y((t=>d(d({},t),{},{cvc:e.target.value.replace(/\D/g,"").slice(0,4)}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123",maxLength:"4",required:!0})]})]}),(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",id:"isDefault",checked:Q.isDefault,onChange:e=>Y((t=>d(d({},t),{},{isDefault:e.target.checked}))),className:"mr-2"}),(0,ox.jsx)("label",{htmlFor:"isDefault",className:"text-sm text-gray-700",children:"Usar como m\xe9todo predeterminado"})]}),(0,ox.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,ox.jsxs)("p",{className:"text-xs text-blue-800",children:["\ud83d\udd12 ",(0,ox.jsx)("strong",{children:"Seguro:"})," Tus datos est\xe1n protegidos con encriptaci\xf3n SSL de grado bancario. No almacenamos informaci\xf3n sensible de tu tarjeta."]})}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,ox.jsx)("button",{type:"button",onClick:()=>W(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-bold",children:"\ud83d\udcb3 Agregar M\xe9todo"})]})]})]})})}),$&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u270f\ufe0f Actualizar Datos Empresariales"}),(0,ox.jsx)("button",{onClick:()=>J(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,ox.jsxs)("form",{onSubmit:e=>{e.preventDefault(),alert("\u2705 Datos empresariales actualizados exitosamente!\n\nRestaurante: ".concat(X.restaurantName,"\nRUC/NIT: ").concat(X.taxId,"\nEmail: ").concat(X.email,"\nTel\xe9fono: ").concat(X.phone)),J(!1)},className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Restaurante"}),(0,ox.jsx)("input",{type:"text",value:X.restaurantName,onChange:e=>Z((t=>d(d({},t),{},{restaurantName:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RUC/NIT"}),(0,ox.jsx)("input",{type:"text",value:X.taxId,onChange:e=>Z((t=>d(d({},t),{},{taxId:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de Facturaci\xf3n"}),(0,ox.jsx)("input",{type:"email",value:X.email,onChange:e=>Z((t=>d(d({},t),{},{email:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tel\xe9fono"}),(0,ox.jsx)("input",{type:"tel",value:X.phone,onChange:e=>Z((t=>d(d({},t),{},{phone:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n de Facturaci\xf3n"}),(0,ox.jsx)("textarea",{value:X.address,onChange:e=>Z((t=>d(d({},t),{},{address:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",required:!0})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Persona de Contacto"}),(0,ox.jsx)("input",{type:"text",value:X.contactPerson,onChange:e=>Z((t=>d(d({},t),{},{contactPerson:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsx)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:(0,ox.jsxs)("p",{className:"text-xs text-yellow-800",children:["\u26a0\ufe0f ",(0,ox.jsx)("strong",{children:"Importante:"})," Los cambios en datos de facturaci\xf3n pueden tomar hasta 24 horas en reflejarse en tu pr\xf3xima factura. Para cambios urgentes, contacta a soporte."]})}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,ox.jsx)("button",{type:"button",onClick:()=>J(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-bold",children:"\u270f\ufe0f Actualizar Datos"})]})]})]})})})]})},cx="".concat("https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com","/api"),dx=()=>{var e;const[t,s]=(0,r.useState)("30d"),[n,a]=(0,r.useState)(!1),[i,o]=(0,r.useState)("30d"),[l,c]=(0,r.useState)({ticketPromedio:3200,costoRecompensa:8e3,margenBruto:65}),u=(e=>{const t={"7d":.25,"30d":1,"60d":1.8,"90d":2.5}[e]||1;return[{nivel:"Explorador",starsNecesarias:36,gastoEstimado:108e3,costoRecompensa:8e3,margenNeto:64800,roi:710,clientesActivos:32,ticketPromedio:3840},{nivel:"Destacado",starsNecesarias:48,gastoEstimado:144e3,costoRecompensa:8e3,margenNeto:78400,roi:880,clientesActivos:18,ticketPromedio:4800},{nivel:"Estrella",starsNecesarias:60,gastoEstimado:18e4,costoRecompensa:8e3,margenNeto:1e5,roi:1150,clientesActivos:8,ticketPromedio:5760},{nivel:"Leyenda",starsNecesarias:75,gastoEstimado:225e3,costoRecompensa:8e3,margenNeto:127e3,roi:1487,clientesActivos:3,ticketPromedio:6400}].map((e=>d(d({},e),{},{gastoEstimado:Math.round(e.gastoEstimado*t),margenNeto:Math.round(e.margenNeto*t),roi:Math.round(e.roi*(.8+.4*t)),clientesActivos:Math.round(e.clientesActivos*(.7+.3*t))})))})(t),m=e=>{const t=[{fecha:"2024-05-01",ticket:2500,periodo:"pre-kumia"},{fecha:"2024-05-15",ticket:2650,periodo:"pre-kumia"},{fecha:"2024-06-01",ticket:2750,periodo:"pre-kumia"},{fecha:"2024-06-15",ticket:2850,periodo:"activacion"},{fecha:"2024-07-01",ticket:3200,periodo:"post-kumia"},{fecha:"2024-07-15",ticket:3450,periodo:"post-kumia"},{fecha:"2024-08-01",ticket:3650,periodo:"post-kumia"},{fecha:"2024-08-15",ticket:3800,periodo:"post-kumia"},{fecha:"2024-09-01",ticket:4050,periodo:"post-kumia"},{fecha:"2024-09-15",ticket:4150,periodo:"post-kumia"},{fecha:"2024-10-01",ticket:4250,periodo:"post-kumia"},{fecha:"2024-10-15",ticket:4350,periodo:"post-kumia"},{fecha:"2024-11-01",ticket:4450,periodo:"post-kumia"},{fecha:"2024-11-15",ticket:4550,periodo:"post-kumia"},{fecha:"2024-12-01",ticket:4650,periodo:"post-kumia"},{fecha:"2024-12-15",ticket:4750,periodo:"post-kumia"}],s=new Date;let n;switch(e){case"7d":return n=new Date(s.getTime()-6048e5),t.slice(-3);case"30d":return n=new Date(s.getTime()-2592e6),t.slice(-6);case"90d":return n=new Date(s.getTime()-7776e6),t;default:return t.slice(-6)}},[h,p]=(0,r.useState)({fechaActivacion:"2024-06-15",datosHistoricos:m(i)});(0,r.useEffect)((()=>{p((e=>d(d({},e),{},{datosHistoricos:m(i)})))}),[i]);const x=(e=>{const t={starsGeneradasSemana:847,starsCanjeadasSemana:234,ratioConversion:27.6,rankingAcciones:[{accion:"Feedback con imagen",stars:2,frecuencia:45},{accion:"Reserva completada",stars:3,frecuencia:38},{accion:"Referido exitoso",stars:5,frecuencia:12},{accion:"Feedback con texto",stars:1,frecuencia:89}],nftMasDesbloqueado:"NFT Explorador",clientesTopNivel:[{nombre:"Alexander Z\xfa\xf1iga",nivel:"Leyenda",stars:127},{nombre:"Valentina Chen",nivel:"Leyenda",stars:98},{nombre:"Elena Vargas",nivel:"Estrella",stars:89},{nombre:"Roberto Kim",nivel:"Estrella",stars:76},{nombre:"Sofia Moreno",nivel:"Destacado",stars:65}]},s={"7d":.25,"30d":1,"60d":2.1,"90d":3.2}[e]||1;return d(d({},t),{},{starsGeneradasSemana:Math.round(t.starsGeneradasSemana*s),starsCanjeadasSemana:Math.round(t.starsCanjeadasSemana*s),ratioConversion:Math.round(t.ratioConversion*(.8+.2*s)*10)/10,rankingAcciones:t.rankingAcciones.map((e=>d(d({},e),{},{frecuencia:Math.round(e.frecuencia*s)})))})})(t),[g]=(0,r.useState)({categoria:"Steakhouse Premium",ticketPromedioRubro:3800,starsPromedioNacional:12.5,nivelPromedioNacional:"Explorador",ratioCanjePromedio:23.4,posicionamiento:{ticketPromedio:"Sobresaliente",starsGeneradas:"Excelente",ratioConversion:"Sobresaliente"}}),f=(()=>{const e=u.reduce(((e,t)=>e+t.gastoEstimado*t.clientesActivos),0),t=u.reduce(((e,t)=>e+t.costoRecompensa*Math.floor(.75*t.clientesActivos)),0);return{capitalizacion:e,recompensas:t,roi:(e-t)/t*100}})(),b=(v=l.ticketPromedio,y=l.costoRecompensa,j=l.margenBruto,u.map((e=>d(d({},e),{},{gastoEstimadoSim:e.starsNecesarias*(.93*v),costoRecompensaSim:y,margenNetoSim:e.starsNecesarias*v*(j/100)-y,roiSim:(e.starsNecesarias*v*(j/100)-y)/y*100}))));var v,y,j;return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udcca ROI Viewer KumIA Elite"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"An\xe1lisis completo del retorno de inversi\xf3n del sistema KumIA Stars"})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsxs)("select",{value:t,onChange:e=>s(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"7d",children:"\xdaltimos 7 d\xedas"}),(0,ox.jsx)("option",{value:"30d",children:"\xdaltimos 30 d\xedas"}),(0,ox.jsx)("option",{value:"60d",children:"\xdaltimos 60 d\xedas"}),(0,ox.jsx)("option",{value:"90d",children:"\xdaltimos 90 d\xedas"})]}),(0,ox.jsx)("button",{onClick:()=>a(!0),className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:"\ud83e\uddee Calculadora ROI"}),(0,ox.jsx)("button",{onClick:()=>{try{const e={fecha:(new Date).toLocaleDateString("es-CL"),timeframe:t,indicadorExito:f,kumiaLevels:u,actividadTiempoReal:x,benchmarkRubro:g},s="ROI VIEWER KUMIA ELITE - REPORTE COMPLETO\n",n="Fecha de generaci\xf3n,".concat(e.fecha,"\nPer\xedodo analizado,").concat(t,"\n\n"),r="INDICADOR DE \xc9XITO PRINCIPAL\n"+"Capitalizaci\xf3n total (CLP),".concat(e.indicadorExito.capitalizacion.toLocaleString(),"\n")+"Recompensas entregadas (CLP),".concat(e.indicadorExito.recompensas.toLocaleString(),"\n")+"ROI total (%),".concat(e.indicadorExito.roi.toFixed(0),"%\n\n"),a="ROI POR NIVEL KUMIA STARS\nNivel,Stars necesarias,Gasto estimado (CLP),Costo recompensa (CLP),Margen neto (CLP),ROI (%),Clientes activos\n"+e.kumiaLevels.map((e=>"".concat(e.nivel,",").concat(e.starsNecesarias,",").concat(e.gastoEstimado.toLocaleString(),",").concat(e.costoRecompensa.toLocaleString(),",").concat(e.margenNeto.toLocaleString(),",").concat(e.roi,"%,").concat(e.clientesActivos))).join("\n")+"\n\n",i="ACTIVIDAD EN TIEMPO REAL\n"+"Stars generadas (per\xedodo),".concat(e.actividadTiempoReal.starsGeneradasSemana,"\n")+"Stars canjeadas (per\xedodo),".concat(e.actividadTiempoReal.starsCanjeadasSemana,"\n")+"Ratio de conversi\xf3n (%),".concat(e.actividadTiempoReal.ratioConversion,"%\n")+"NFT m\xe1s desbloqueado,".concat(e.actividadTiempoReal.nftMasDesbloqueado,"\n\n"),o="RANKING DE ACCIONES (GENERAN M\xc1S STARS)\nAcci\xf3n,Stars por acci\xf3n,Frecuencia de uso\n"+e.actividadTiempoReal.rankingAcciones.map((e=>"".concat(e.accion,",").concat(e.stars,",").concat(e.frecuencia))).join("\n")+"\n\n",l="BENCHMARK CON EL RUBRO\n"+"Categor\xeda restaurante,".concat(e.benchmarkRubro.categoria,"\n")+"Ticket promedio rubro (CLP),".concat(e.benchmarkRubro.ticketPromedioRubro.toLocaleString(),"\n")+"Stars promedio nacional,".concat(e.benchmarkRubro.starsPromedioNacional,"\n")+"Nivel promedio nacional,".concat(e.benchmarkRubro.nivelPromedioNacional,"\n")+"Ratio canje promedio (%),".concat(e.benchmarkRubro.ratioCanjePromedio,"%\n\n"),c=encodeURI("data:text/csv;charset=utf-8,\ufeff"+s+n+r+a+i+o+l),d=document.createElement("a"),m="roi_report_kumia_".concat(t,"_").concat((new Date).toISOString().split("T")[0],".csv");d.setAttribute("href",c),d.setAttribute("download",m),d.style.display="none",document.body.appendChild(d),d.click(),setTimeout((()=>{document.body.removeChild(d)}),100),alert("\u2705 REPORTE EXPORTADO EXITOSAMENTE\n\n\ud83d\udcca Detalles del reporte:\n\u2022 Per\xedodo: ".concat(t,"\n\u2022 ROI Total: ").concat(f.roi.toFixed(0),"%\n\u2022 Capitalizaci\xf3n: $").concat(f.capitalizacion.toLocaleString()," CLP\n\u2022 Fecha: ").concat((new Date).toLocaleDateString("es-CL"),"\n\u2022 Archivo: ").concat(m,"\n\n\ud83d\udca1 El archivo CSV se ha descargado con todos los datos del an\xe1lisis ROI KumIA Stars.\n\n\ud83d\udccb Contenido incluye:\n- Indicador de \xe9xito principal\n- ROI detallado por nivel\n- Actividad en tiempo real\n- Ranking de acciones\n- Benchmark con el rubro")),console.log("\u2705 Reporte exportado exitosamente:",m)}catch(e){console.error("\u274c Error al exportar reporte:",e),alert("\u274c ERROR AL EXPORTAR REPORTE\n\nNo se pudo generar el archivo CSV.\nError: ".concat(e.message,"\n\nIntenta nuevamente o contacta al soporte t\xe9cnico."))}},className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udce4 Exportar Reporte"})]})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-emerald-500 to-green-500 rounded-xl p-6 text-white shadow-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("span",{className:"text-3xl mr-4",children:"\ud83c\udfaf"}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-xl font-bold",children:"Resumen de Impacto KumIA Stars"}),(0,ox.jsx)("p",{className:"text-emerald-100 text-sm",children:"Tu rendimiento econ\xf3mico consolidado"})]})]}),(0,ox.jsx)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:(0,ox.jsxs)("p",{className:"text-lg leading-relaxed",children:[(0,ox.jsxs)("strong",{children:["Tu restaurante ha generado $",f.capitalizacion.toLocaleString()," CLP"]})," en capitalizaci\xf3n a trav\xe9s del sistema KumIA Stars, entregando solo ",(0,ox.jsxs)("strong",{children:["$",f.recompensas.toLocaleString()," CLP"]})," en recompensas.",(0,ox.jsxs)("span",{className:"text-2xl font-bold block mt-2",children:["Retorno total estimado: ",(0,ox.jsxs)("span",{className:"text-yellow-300",children:[f.roi.toFixed(0),"%"]})]})]})})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"\ud83c\udfc6 ROI Detallado por Nivel KumIA"}),(0,ox.jsx)("p",{className:"text-gray-600 text-sm",children:"An\xe1lisis econ\xf3mico autom\xe1tico basado en datos de Firestore"})]}),(0,ox.jsx)("div",{className:"text-xs text-gray-500",children:"Actualizado cada 24h | \xdaltima actualizaci\xf3n: Hoy 09:15"})]}),(0,ox.jsx)("div",{className:"overflow-x-auto",children:(0,ox.jsxs)("table",{className:"w-full",children:[(0,ox.jsx)("thead",{children:(0,ox.jsxs)("tr",{className:"bg-gray-50 border-b",children:[(0,ox.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Nivel"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"Stars necesarias"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"Gasto estimado (CLP)"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"Costo recompensa"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"Margen neto"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"ROI (%)"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"Clientes activos"})]})}),(0,ox.jsx)("tbody",{children:u.map(((e,t)=>(0,ox.jsxs)("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[(0,ox.jsx)("td",{className:"py-4 px-4",children:(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-3 h-3 rounded-full mr-3 ".concat(0===t?"bg-blue-500":1===t?"bg-purple-500":2===t?"bg-yellow-500":"bg-red-500")}),(0,ox.jsx)("span",{className:"font-medium text-gray-800",children:e.nivel})]})}),(0,ox.jsx)("td",{className:"py-4 px-4 text-center font-medium",children:e.starsNecesarias}),(0,ox.jsxs)("td",{className:"py-4 px-4 text-center text-blue-600 font-medium",children:["~$",e.gastoEstimado.toLocaleString()]}),(0,ox.jsxs)("td",{className:"py-4 px-4 text-center text-red-600 font-medium",children:["$",e.costoRecompensa.toLocaleString()]}),(0,ox.jsxs)("td",{className:"py-4 px-4 text-center text-green-600 font-bold",children:["$",e.margenNeto.toLocaleString()]}),(0,ox.jsx)("td",{className:"py-4 px-4 text-center",children:(0,ox.jsxs)("span",{className:"font-bold text-lg ".concat(e.roi>=1e3?"text-emerald-600":e.roi>=800?"text-green-600":"text-yellow-600"),children:[e.roi,"%"]})}),(0,ox.jsx)("td",{className:"py-4 px-4 text-center",children:(0,ox.jsx)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-sm font-medium",children:e.clientesActivos})})]},e.nivel)))})]})}),(0,ox.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\ud83d\udca1 Notas Explicativas:"}),(0,ox.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Gasto estimado:"})," Calculado como Stars necesarias \xd7 $3,000 CLP (valor por star)"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Margen neto:"})," Incluye margen del restaurante (~65%) menos costo de recompensa"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"ROI:"})," Retorno sobre inversi\xf3n = (Margen neto / Costo recompensa) \xd7 100"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Datos actualizados autom\xe1ticamente"})," desde restaurant_stats, users y transactions_log"]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"\ud83d\udcc8 Evoluci\xf3n del Ticket Promedio"}),(0,ox.jsx)("p",{className:"text-gray-600 text-sm",children:"Comparativa antes/despu\xe9s de la activaci\xf3n de KumIA Stars"})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>o("7d"),className:"px-3 py-1 rounded-lg text-sm transition-colors ".concat("7d"===i?"bg-blue-500 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"),children:"7D"}),(0,ox.jsx)("button",{onClick:()=>o("30d"),className:"px-3 py-1 rounded-lg text-sm transition-colors ".concat("30d"===i?"bg-blue-500 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"),children:"30D"}),(0,ox.jsx)("button",{onClick:()=>o("90d"),className:"px-3 py-1 rounded-lg text-sm transition-colors ".concat("90d"===i?"bg-blue-500 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"),children:"90D"})]})]}),(0,ox.jsxs)("div",{className:"h-64 bg-gradient-to-t from-gray-50 to-white rounded-lg p-4 mb-6 relative overflow-hidden",children:[(0,ox.jsx)("div",{className:"absolute top-2 left-4 text-xs text-gray-500",children:"Ticket Promedio (CLP)"}),(0,ox.jsxs)("div",{className:"absolute bottom-2 right-4 text-xs text-gray-500",children:["Per\xedodo: ","7d"===i?"\xdaltimos 7 d\xedas":"30d"===i?"\xdaltimos 30 d\xedas":"\xdaltimos 90 d\xedas"]}),(0,ox.jsx)("div",{className:"absolute inset-4 flex justify-between items-end",style:{height:"calc(100% - 2rem)"},children:h.datosHistoricos.map(((e,t)=>{const s=(e.ticket-Math.min(...h.datosHistoricos.map((e=>e.ticket))))/(Math.max(...h.datosHistoricos.map((e=>e.ticket)))-Math.min(...h.datosHistoricos.map((e=>e.ticket))))*80+10;return(0,ox.jsxs)("div",{className:"flex flex-col items-center group relative",children:[(0,ox.jsx)("div",{className:"w-4 h-4 rounded-full cursor-pointer transition-all duration-200 hover:scale-150 z-10 border-2 border-white shadow-lg ".concat("pre-kumia"===e.periodo?"bg-gray-500 hover:bg-gray-600":"activacion"===e.periodo?"bg-orange-500 hover:bg-orange-600":"bg-green-500 hover:bg-green-600"),style:{marginBottom:"".concat(s,"%")},children:(0,ox.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-20 shadow-xl pointer-events-none",children:[(0,ox.jsx)("div",{className:"font-bold",children:e.fecha.split("-").reverse().join("/")}),(0,ox.jsxs)("div",{className:"text-gray-300",children:["$",e.ticket.toLocaleString()," CLP"]}),(0,ox.jsx)("div",{className:"text-xs ".concat("pre-kumia"===e.periodo?"text-gray-400":"activacion"===e.periodo?"text-orange-300":"text-green-300"),children:"pre-kumia"===e.periodo?"Pre-KumIA":"activacion"===e.periodo?"Activaci\xf3n":"Post-KumIA"}),(0,ox.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})}),t<h.datosHistoricos.length-1&&(0,ox.jsx)("div",{className:"absolute w-full h-0.5 ".concat("pre-kumia"===e.periodo?"bg-gray-400":"bg-green-400"),style:{top:"".concat(100-s-2,"%"),left:"50%",right:"-50%",zIndex:1}}),(0,ox.jsxs)("div",{className:"text-xs text-gray-500 mt-2 transform -rotate-45 origin-center",children:[e.fecha.split("-")[1],"/",e.fecha.split("-")[2]]})]},t)}))})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ox.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-gray-600",children:["$",Math.round(h.datosHistoricos.filter((e=>"pre-kumia"===e.periodo)).reduce(((e,t)=>e+t.ticket),0)/h.datosHistoricos.filter((e=>"pre-kumia"===e.periodo)).length||0).toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"Promedio Pre-KumIA"}),(0,ox.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:[h.datosHistoricos.filter((e=>"pre-kumia"===e.periodo)).length," datos"]})]}),(0,ox.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg border-2 border-orange-200",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null===(e=h.datosHistoricos.find((e=>"activacion"===e.periodo)))||void 0===e?void 0:e.fecha.split("-").reverse().join("/"))||"Jun 15"}),(0,ox.jsx)("div",{className:"text-sm text-orange-700",children:"Activaci\xf3n KumIA"}),(0,ox.jsx)("div",{className:"text-xs text-orange-500 mt-1",children:"Punto de inflexi\xf3n"})]}),(0,ox.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",Math.round(h.datosHistoricos.filter((e=>"post-kumia"===e.periodo)).reduce(((e,t)=>e+t.ticket),0)/h.datosHistoricos.filter((e=>"post-kumia"===e.periodo)).length||0).toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-green-700",children:"Promedio Post-KumIA"}),(0,ox.jsxs)("div",{className:"text-xs text-green-500 mt-1",children:[(0,ox.jsxs)("span",{className:"font-bold",children:["+",(()=>{const e=h.datosHistoricos.filter((e=>"pre-kumia"===e.periodo)).reduce(((e,t)=>e+t.ticket),0)/h.datosHistoricos.filter((e=>"pre-kumia"===e.periodo)).length||1,t=h.datosHistoricos.filter((e=>"post-kumia"===e.periodo)).reduce(((e,t)=>e+t.ticket),0)/h.datosHistoricos.filter((e=>"post-kumia"===e.periodo)).length||0;return((t-e)/e*100).toFixed(1)})(),"%"]})," incremento"]})]})]}),(0,ox.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ox.jsxs)("div",{className:"text-blue-800",children:[(0,ox.jsx)("strong",{children:"Per\xedodo seleccionado:"})," ","7d"===i?"\xdaltimos 7 d\xedas (3 puntos de datos)":"30d"===i?"\xdaltimos 30 d\xedas (6 puntos de datos)":"\xdaltimos 90 d\xedas (todos los datos hist\xf3ricos)"]}),(0,ox.jsxs)("div",{className:"text-blue-600",children:[h.datosHistoricos.length," puntos de datos mostrados"]})]})})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"\u26a1 Actividad en Tiempo Real"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,ox.jsxs)("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:x.starsGeneradasSemana}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:"Stars Generadas"}),(0,ox.jsx)("div",{className:"text-xs text-blue-500",children:"Esta semana"})]}),(0,ox.jsxs)("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-3xl font-bold text-green-600",children:x.starsCanjeadasSemana}),(0,ox.jsx)("div",{className:"text-sm text-green-700",children:"Stars Canjeadas"}),(0,ox.jsx)("div",{className:"text-xs text-green-500",children:"Esta semana"})]})]}),(0,ox.jsxs)("div",{className:"mb-6",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Ratio de Conversi\xf3n"}),(0,ox.jsxs)("span",{className:"text-sm font-bold text-purple-600",children:[x.ratioConversion,"%"]})]}),(0,ox.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,ox.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full transition-all duration-500",style:{width:"".concat(x.ratioConversion,"%")}})}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Stars canjeadas vs emitidas"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"\ud83c\udfc6 NFT M\xe1s Desbloqueado"}),(0,ox.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-3 rounded-lg border border-yellow-200",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"font-bold text-yellow-800",children:x.nftMasDesbloqueado}),(0,ox.jsx)("span",{className:"text-sm text-yellow-600",children:"32 desbloqueos"})]})})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"\ud83d\udcca Rankings y Estad\xedsticas"}),(0,ox.jsxs)("div",{className:"mb-6",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"\ud83c\udfaf Acciones que M\xe1s Stars Generan"}),(0,ox.jsx)("div",{className:"space-y-2",children:x.rankingAcciones.map(((e,t)=>(0,ox.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white mr-3 ".concat(0===t?"bg-yellow-500":1===t?"bg-gray-400":2===t?"bg-orange-400":"bg-gray-300"),children:t+1}),(0,ox.jsx)("span",{className:"text-sm font-medium",children:e.accion})]}),(0,ox.jsxs)("div",{className:"text-right",children:[(0,ox.jsxs)("div",{className:"text-sm font-bold text-orange-600",children:[e.stars," \u2b50"]}),(0,ox.jsxs)("div",{className:"text-xs text-gray-500",children:[e.frecuencia," usos"]})]})]},t)))})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"\ud83c\udf1f Top Clientes por Nivel"}),(0,ox.jsx)("div",{className:"space-y-2",children:x.clientesTopNivel.map(((e,t)=>(0,ox.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white mr-3 ".concat("Leyenda"===e.nivel?"bg-red-500":"Estrella"===e.nivel?"bg-yellow-500":"bg-purple-500"),children:e.nombre.split(" ").map((e=>e[0])).join("")}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"text-sm font-medium",children:e.nombre}),(0,ox.jsx)("div",{className:"text-xs text-gray-500",children:e.nivel})]})]}),(0,ox.jsx)("div",{className:"text-right",children:(0,ox.jsxs)("div",{className:"text-sm font-bold text-gray-800",children:[e.stars," \u2b50"]})})]},t)))})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"\ud83c\udfea Comparativa con el Rubro"}),(0,ox.jsxs)("p",{className:"text-gray-600 text-sm",children:["Tu desempe\xf1o vs promedio nacional - ",g.categoria]})]}),(0,ox.jsx)("div",{className:"text-xs text-gray-500",children:"Datos actualizados mensualmente | Fuente: KUMIA Analytics"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ox.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Ticket Promedio"}),(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"$3,830"}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"vs $3,800 rubro"}),(0,ox.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("Sobresaliente"===g.posicionamiento.ticketPromedio?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:["\u2728 ",g.posicionamiento.ticketPromedio]})]}),(0,ox.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Stars por Cliente"}),(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"16.8"}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"vs 12.5 nacional"}),(0,ox.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("Excelente"===g.posicionamiento.starsGeneradas?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:["\ud83d\ude80 ",g.posicionamiento.starsGeneradas]})]}),(0,ox.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Nivel Promedio"}),(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"Explorador+"}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"vs Explorador nacional"}),(0,ox.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"\ud83d\udcc8 Superior"})]}),(0,ox.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Ratio de Canje"}),(0,ox.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"27.6%"}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"vs 23.4% rubro"}),(0,ox.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("Sobresaliente"===g.posicionamiento.ratioConversion?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:["\u2b50 ",g.posicionamiento.ratioConversion]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-green-800 mb-2",children:"\ud83c\udfaf Resumen Comparativo"}),(0,ox.jsxs)("p",{className:"text-sm text-green-700",children:["Tu restaurante est\xe1 posicionado ",(0,ox.jsx)("strong",{children:"por encima del promedio"})," en todas las m\xe9tricas clave del rubro ",g.categoria,". Destacas especialmente en generaci\xf3n de Stars (+35%) y conversi\xf3n de recompensas (+18%), indicando una excelente adopci\xf3n del sistema KumIA por parte de tus clientes."]})]})]}),n&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83e\uddee Calculadora de Simulaci\xf3n ROI"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Simula diferentes escenarios para optimizar tu retorno de inversi\xf3n"})]}),(0,ox.jsx)("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-4",children:"\u2699\ufe0f Configuraci\xf3n de Variables"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ticket Promedio (CLP)",(0,ox.jsx)("span",{className:"text-xs text-blue-600 ml-2",title:"Valor promedio que gasta un cliente por visita",children:"\u2139\ufe0f"})]}),(0,ox.jsx)("input",{type:"number",value:l.ticketPromedio,onChange:e=>c((t=>d(d({},t),{},{ticketPromedio:parseInt(e.target.value)||0}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Actual: $3,830"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Costo Real de Recompensa (CLP)",(0,ox.jsx)("span",{className:"text-xs text-blue-600 ml-2",title:"Costo promedio de las recompensas que entregas",children:"\u2139\ufe0f"})]}),(0,ox.jsx)("input",{type:"number",value:l.costoRecompensa,onChange:e=>c((t=>d(d({},t),{},{costoRecompensa:parseInt(e.target.value)||0}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Actual: $8,000"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Margen Bruto Estimado (%)",(0,ox.jsx)("span",{className:"text-xs text-blue-600 ml-2",title:"Porcentaje de ganancia despu\xe9s de costos directos",children:"\u2139\ufe0f"})]}),(0,ox.jsx)("input",{type:"number",value:l.margenBruto,onChange:e=>c((t=>d(d({},t),{},{margenBruto:parseInt(e.target.value)||0}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",max:"100"}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Actual: 65%"})]}),(0,ox.jsxs)("div",{className:"pt-4 border-t",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"\ud83c\udfaf Escenarios Predefinidos"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsx)("button",{onClick:()=>c({ticketPromedio:4e3,costoRecompensa:6e3,margenBruto:70}),className:"w-full text-left px-3 py-2 bg-white rounded-lg text-sm hover:bg-gray-50 transition-colors",children:"\ud83d\udcc8 Optimista"}),(0,ox.jsx)("button",{onClick:()=>c({ticketPromedio:3e3,costoRecompensa:1e4,margenBruto:60}),className:"w-full text-left px-3 py-2 bg-white rounded-lg text-sm hover:bg-gray-50 transition-colors",children:"\ud83d\udcc9 Conservador"}),(0,ox.jsx)("button",{onClick:()=>c({ticketPromedio:3200,costoRecompensa:8e3,margenBruto:65}),className:"w-full text-left px-3 py-2 bg-white rounded-lg text-sm hover:bg-gray-50 transition-colors",children:"\ud83c\udfaf Actual"})]})]})]})]}),(0,ox.jsxs)("div",{className:"lg:col-span-2",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800 mb-4",children:"\ud83d\udcca Resultados de Simulaci\xf3n"}),(0,ox.jsx)("div",{className:"overflow-x-auto mb-6",children:(0,ox.jsxs)("table",{className:"w-full",children:[(0,ox.jsx)("thead",{children:(0,ox.jsxs)("tr",{className:"bg-gray-50 border-b",children:[(0,ox.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Nivel"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"Capitalizaci\xf3n"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"Margen Neto"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"ROI Simulado"}),(0,ox.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-700",children:"vs Actual"})]})}),(0,ox.jsx)("tbody",{children:b.map(((e,t)=>(0,ox.jsxs)("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[(0,ox.jsx)("td",{className:"py-3 px-4 font-medium",children:e.nivel}),(0,ox.jsxs)("td",{className:"py-3 px-4 text-center text-blue-600",children:["$",e.gastoEstimadoSim.toLocaleString()]}),(0,ox.jsxs)("td",{className:"py-3 px-4 text-center text-green-600 font-medium",children:["$",e.margenNetoSim.toLocaleString()]}),(0,ox.jsx)("td",{className:"py-3 px-4 text-center",children:(0,ox.jsxs)("span",{className:"font-bold ".concat(e.roiSim>=1e3?"text-emerald-600":e.roiSim>=500?"text-green-600":"text-yellow-600"),children:[e.roiSim.toFixed(0),"%"]})}),(0,ox.jsx)("td",{className:"py-3 px-4 text-center",children:(0,ox.jsxs)("span",{className:"text-sm ".concat(e.roiSim>e.roi?"text-green-600":e.roiSim<e.roi?"text-red-600":"text-gray-600"),children:[e.roiSim>e.roi?"\u2197\ufe0f":e.roiSim<e.roi?"\u2198\ufe0f":"\u27a1\ufe0f",Math.abs(e.roiSim-e.roi).toFixed(0),"%"]})})]},e.nivel)))})]})}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-bold text-green-800 mb-2",children:"\u2705 Comparaci\xf3n con Desempe\xf1o Actual"}),(0,ox.jsxs)("div",{className:"space-y-1 text-sm text-green-700",children:[(0,ox.jsxs)("div",{children:["ROI promedio simulado: ",(0,ox.jsxs)("strong",{children:[(b.reduce(((e,t)=>e+t.roiSim),0)/b.length).toFixed(0),"%"]})]}),(0,ox.jsxs)("div",{children:["ROI promedio actual: ",(0,ox.jsxs)("strong",{children:[(u.reduce(((e,t)=>e+t.roi),0)/u.length).toFixed(0),"%"]})]}),(0,ox.jsxs)("div",{children:["Diferencia: ",(0,ox.jsxs)("strong",{children:[(b.reduce(((e,t)=>e+t.roiSim),0)/b.length-u.reduce(((e,t)=>e+t.roi),0)/u.length).toFixed(0),"%"]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-bold text-blue-800 mb-2",children:"\ud83c\udfaf Recomendaciones"}),(0,ox.jsxs)("div",{className:"space-y-1 text-sm text-blue-700",children:[l.margenBruto<65&&(0,ox.jsx)("div",{children:"\u2022 Considera optimizar costos para aumentar margen"}),l.costoRecompensa>8e3&&(0,ox.jsx)("div",{children:"\u2022 Las recompensas pueden ser muy costosas"}),l.ticketPromedio<3200&&(0,ox.jsx)("div",{children:"\u2022 Oportunidad de aumentar ticket promedio"}),(0,ox.jsxs)("div",{children:["\u2022 Nivel m\xe1s rentable simulado: ",(0,ox.jsx)("strong",{children:b.reduce(((e,t)=>t.roiSim>e.roiSim?t:e)).nivel})]})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,ox.jsx)("button",{onClick:()=>a(!1),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Cerrar"}),(0,ox.jsx)("button",{className:"flex-1 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udcca Aplicar Configuraci\xf3n"}),(0,ox.jsx)("button",{className:"flex-1 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors",children:"\ud83d\udcbe Guardar Escenario"})]})]})})}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-200",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83e\udde0"}),(0,ox.jsx)("h3",{className:"text-lg font-bold text-indigo-800",children:"Insights de IA - An\xe1lisis Avanzado ROI"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("p",{className:"text-indigo-700",children:[(0,ox.jsx)("strong",{children:"Nivel m\xe1s rentable:"})," ",u.reduce(((e,t)=>t.roi>e.roi?t:e)).nivel," con ",u.reduce(((e,t)=>t.roi>e.roi?t:e)).roi,"% ROI."]}),(0,ox.jsxs)("p",{className:"text-indigo-700",children:[(0,ox.jsx)("strong",{children:"Oportunidad detectada:"})," Incrementar el costo de recompensas en un 15% podr\xeda aumentar la percepci\xf3n de valor sin afectar significativamente el ROI."]}),(0,ox.jsxs)("p",{className:"text-indigo-700",children:[(0,ox.jsx)("strong",{children:"Proyecci\xf3n 90 d\xedas:"})," Manteniendo el crecimiento actual del ticket promedio (+2.3% mensual), alcanzar\xe1s un ROI promedio de +1,250%."]})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("p",{className:"text-indigo-700",children:[(0,ox.jsx)("strong",{children:"Benchmark del rubro:"})," Tu ROI supera el promedio nacional en un 340%. Est\xe1s en el top 5% de restaurantes con KumIA."]}),(0,ox.jsxs)("p",{className:"text-indigo-700",children:[(0,ox.jsx)("strong",{children:"Recomendaci\xf3n estrat\xe9gica:"})," Considera crear un nivel intermedio entre Destacado y Estrella para optimizar la retenci\xf3n."]}),(0,ox.jsxs)("p",{className:"text-indigo-700",children:[(0,ox.jsx)("strong",{children:"Alert autom\xe1tico:"})," El nivel Leyenda muestra se\xf1ales de saturaci\xf3n. Eval\xfaa crear beneficios adicionales."]})]})]})]})]})},ux=()=>{const[e,t]=(0,r.useState)({totalStarsGenerated:15847,totalRedemptions:234,mostFrequentLevel:"Explorador",mostUnlockedNFT:"NFT Explorador",activeReferrals:67}),[s,n]=(0,r.useState)(null),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[x,g]=(0,r.useState)(null),[f,b]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1),j=[{id:"descubridor",name:"Descubridor",starsRange:"0-35",starsRequired:35,multiplier:1,nftImage:"https://images.unsplash.com/photo-1571008592377-e362723e8998?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NzZ8MHwxfHNlYXJjaHw0fHxhY2hpZXZlbWVudCUyMG1lZGFsfGVufDB8fHx8MTc1MzgwMjM2NHww&ixlib=rb-4.1.0&q=85",nftName:"No aplica",description:"Nivel de entrada para nuevos usuarios del sistema KumIA",benefit:"Acceso b\xe1sico al programa de fidelizaci\xf3n",activeClients:45,capitalization:"$0 - $105,000 CLP",bgColor:"from-gray-400 to-gray-500",textColor:"text-gray-700",badgeColor:"bg-gray-100"},{id:"explorador",name:"Explorador",starsRange:"36-47",starsRequired:12,multiplier:1.2,nftImage:"https://images.unsplash.com/photo-1578410532485-e017ec847d23?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1Nzh8MHwxfHNlYXJjaHwzfHxsb3lhbHR5JTIwYmFkZ2V8ZW58MHx8fHwxNzUzODAyMzgwfDA&ixlib=rb-4.1.0&q=85",nftName:'NFT "Explorador"',description:"Segundo nivel con beneficios mejorados y multiplier x1.2",benefit:"Descuentos especiales + acumulaci\xf3n 20% m\xe1s r\xe1pida",activeClients:32,capitalization:"$105,000 - $141,000 CLP",bgColor:"from-blue-400 to-blue-500",textColor:"text-blue-700",badgeColor:"bg-blue-100"},{id:"destacado",name:"Destacado",starsRange:"48-59",starsRequired:12,multiplier:1.5,nftImage:"https://images.unsplash.com/photo-1565857102257-1e0055202c44?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1Nzh8MHwxfHNlYXJjaHwyfHxsb3lhbHR5JTIwYmFkZ2V8ZW58MHx8fHwxNzUzODAyMzgwfDA&ixlib=rb-4.1.0&q=85",nftName:'NFT "Destacado"',description:"Nivel intermedio con reconocimiento premium y status",benefit:"Acceso VIP + mesa preferencial + multiplier x1.5",activeClients:18,capitalization:"$141,000 - $177,000 CLP",bgColor:"from-purple-400 to-purple-500",textColor:"text-purple-700",badgeColor:"bg-purple-100"},{id:"estrella",name:"Estrella",starsRange:"60-74",starsRequired:15,multiplier:1.8,nftImage:"https://images.unsplash.com/photo-1651002488760-b9640c8cc819?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NzZ8MHwxfHNlYXJjaHwxfHxhY2hpZXZlbWVudCUyMG1lZGFsfGVufDB8fHx8MTc1MzgwMjM2NHww&ixlib=rb-4.1.0&q=85",nftName:'NFT "Estrella"',description:"Nivel prestigioso con beneficios exclusivos y alta valorizaci\xf3n",benefit:"Eventos exclusivos + chef privado + multiplier x1.8",activeClients:8,capitalization:"$177,000 - $222,000 CLP",bgColor:"from-yellow-400 to-orange-500",textColor:"text-orange-700",badgeColor:"bg-orange-100"},{id:"leyenda",name:"Leyenda KumIA",starsRange:"75+",starsRequired:1,multiplier:2,nftImage:"https://images.unsplash.com/photo-1718465388901-9c628510c01e?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1Nzh8MHwxfHNlYXJjaHwxfHxsb3lhbHR5JTIwYmFkZ2V8ZW58MHx8fHwxNzUzODAyMzgwfDA&ixlib=rb-4.1.0&q=85",nftName:'NFT "Leyenda KumIA"',description:"Nivel m\xe1ximo de exclusividad y privilegios supremos",benefit:"Men\xfa personalizado + experiencia \xfanica + multiplier x2.0",activeClients:3,capitalization:"$222,000+ CLP",bgColor:"from-pink-500 to-red-500",textColor:"text-red-700",badgeColor:"bg-red-100"}],N=e=>{let{level:t,index:s,isSelected:n,onClick:r}=e;return(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border-2 transition-all duration-300 cursor-pointer transform hover:scale-105 ".concat(n?"border-orange-500 shadow-xl":"border-gray-200 hover:border-orange-300"),onClick:()=>r(t),children:[(0,ox.jsx)("div",{className:"bg-gradient-to-r ".concat(t.bgColor," p-4 rounded-t-xl text-white"),children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-xl font-bold",children:t.name}),(0,ox.jsxs)("p",{className:"text-sm opacity-90",children:[t.starsRange," Stars"]})]}),(0,ox.jsxs)("div",{className:"text-right",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold",children:["x",t.multiplier]}),(0,ox.jsx)("div",{className:"text-xs opacity-90",children:"Multiplicador"})]})]})}),(0,ox.jsxs)("div",{className:"p-4",children:[(0,ox.jsxs)("div",{className:"w-full h-32 bg-gray-100 rounded-lg mb-4 overflow-hidden relative group",children:[(0,ox.jsx)("img",{src:t.nftImage,alt:t.nftName,className:"w-full h-full object-cover"}),(0,ox.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:(0,ox.jsx)("button",{onClick:e=>{e.stopPropagation(),d(t)},className:"bg-white text-gray-800 px-3 py-1 rounded-lg text-sm hover:bg-gray-100 transition-colors",children:"\ud83d\uddbc\ufe0f Cambiar NFT"})})]}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"font-medium text-gray-700",children:"NFT Asociado:"}),(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.badgeColor," ").concat(t.textColor),children:t.nftName})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"font-medium text-gray-700",children:"Clientes Activos:"}),(0,ox.jsx)("span",{className:"font-bold text-gray-800",children:t.activeClients})]}),(0,ox.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700 mb-1",children:"Beneficio Principal:"}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:t.benefit})]}),(0,ox.jsxs)("div",{className:"bg-emerald-50 p-3 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-emerald-700 mb-1",children:"Capitalizaci\xf3n:"}),(0,ox.jsx)("p",{className:"text-sm text-emerald-600 font-medium",children:t.capitalization})]})]})]}),(0,ox.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:e=>{e.stopPropagation(),w(t)},className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:"\ud83d\udc65 Ver Clientes"}),(0,ox.jsx)("button",{onClick:e=>{e.stopPropagation(),k(t)},className:"flex-1 bg-orange-100 text-orange-700 px-3 py-2 rounded-lg text-sm hover:bg-orange-200 transition-colors",children:"\u2699\ufe0f Configurar"})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:e=>{e.stopPropagation(),M(t)},className:"flex-1 bg-blue-100 text-blue-700 px-3 py-2 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"\ud83d\udce7 Campa\xf1a Email"}),(0,ox.jsx)("button",{onClick:e=>{e.stopPropagation(),D(t)},className:"flex-1 bg-green-100 text-green-700 px-3 py-2 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"\ud83d\udcf1 Campa\xf1a WhatsApp"})]})]})})]})},w=e=>{g(e)},k=e=>{b(e)},[S,C]=(0,r.useState)(""),[E,_]=(0,r.useState)("all"),A=e=>{C(e)},I=e=>{"Enter"===e.key&&A(e.target.value)},[T,P]=(0,r.useState)(null),[R,O]=(0,r.useState)(null),M=e=>{P(e)},D=e=>{O(e)},[L,z]=(0,r.useState)(null),[F,U]=(0,r.useState)(null),V=()=>(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 border border-orange-200",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-orange-800 mb-4",children:"\ud83d\udcca M\xe9tricas Generales del Sistema"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:e.totalStarsGenerated.toLocaleString()}),(0,ox.jsx)("div",{className:"text-sm text-orange-700",children:"Total Stars Generadas"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.totalRedemptions}),(0,ox.jsx)("div",{className:"text-sm text-green-700",children:"Recompensas Canjeadas"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.mostFrequentLevel}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:"Nivel M\xe1s Frecuente"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:e.mostUnlockedNFT}),(0,ox.jsx)("div",{className:"text-sm text-purple-700",children:"NFT M\xe1s Desbloqueado"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:e.activeReferrals}),(0,ox.jsx)("div",{className:"text-sm text-pink-700",children:"Referidos Activos"})]})]})]}),B=()=>(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83e\udde0 L\xf3gica del Sistema KumIA Stars"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"\u2b50 Generaci\xf3n de Stars"}),(0,ox.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"})," Feedback con texto: 1 star base"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"})," Feedback con imagen: 2 stars base"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"})," Reserva completada: 3 stars base"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"})," Referido exitoso: 5 stars base"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-orange-500 mr-2",children:"\u2022"})," Todas las acciones se multiplican por el nivel actual"]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"\ud83d\udd04 Mec\xe1nica de Canje"}),(0,ox.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-blue-500 mr-2",children:"\u2022"})," Al alcanzar stars m\xednimas \u2192 Puede canjear"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-blue-500 mr-2",children:"\u2022"})," Per\xedodo de canje: 60 d\xedas m\xe1ximo"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-red-500 mr-2",children:"\u2022"})," Al canjear: Stars = 0, Nivel \u2191"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-purple-500 mr-2",children:"\u2022"})," Nuevo multiplicador aplicado"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-yellow-500 mr-2",children:"\u2022"})," NFT desbloqueado autom\xe1ticamente"]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 bg-emerald-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-emerald-800 mb-2",children:"\ud83d\udca1 Valor Econ\xf3mico por Star"}),(0,ox.jsxs)("p",{className:"text-sm text-emerald-700",children:[(0,ox.jsx)("strong",{children:"1 Star \u2248 $3,000 CLP"})," en capitalizaci\xf3n del restaurante. Este valor representa el gasto promedio necesario para generar una star y mantener la rentabilidad del programa."]})]})]});return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\u2b50 Sistema KumIA Stars Multilevel"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Gesti\xf3n completa del programa de fidelizaci\xf3n por niveles"})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>{p(!0)},className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 transform hover:scale-105",children:"\ud83d\udcca An\xe1lisis Completo"}),(0,ox.jsx)("button",{onClick:()=>{m(!0)},className:"bg-gradient-to-r from-emerald-500 to-green-500 text-white px-6 py-3 rounded-lg hover:from-emerald-600 hover:to-green-600 transition-all duration-200 transform hover:scale-105",children:"\u2699\ufe0f Configurar Sistema"})]})]}),(0,ox.jsx)(V,{}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"\ud83c\udfd7\ufe0f Estructura Escalonada de Niveles"}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:j.map(((e,t)=>(0,ox.jsx)(N,{level:e,index:t,isSelected:(null===s||void 0===s?void 0:s.id)===e.id,onClick:n},e.id)))})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udee0\ufe0f Funcionalidad Administrativa"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsx)("button",{onClick:()=>l(!0),className:"bg-blue-500 text-white px-4 py-3 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center",children:"\ud83d\udcca Exportar Clientes por Nivel"}),(0,ox.jsx)("button",{onClick:()=>{y(!0)},className:"bg-green-500 text-white px-4 py-3 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center",children:"\ud83d\udcc8 An\xe1lisis de Acciones por Nivel"}),(0,ox.jsx)("button",{onClick:()=>i(!0),className:"bg-purple-500 text-white px-4 py-3 rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center",children:"\ud83c\udf81 Recompensas Especiales"})]})]}),(0,ox.jsx)(B,{}),a&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udf81 Recompensas Especiales por Tiempo Limitado"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Crea promociones exclusivas para niveles espec\xedficos"})]}),(0,ox.jsx)("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsx)("div",{className:"space-y-4",children:j.map((e=>(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:e.name}),(0,ox.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(e.badgeColor," ").concat(e.textColor),children:[e.activeClients," clientes"]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Recompensa"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{children:"Descuento porcentual"}),(0,ox.jsx)("option",{children:"Plato gratis"}),(0,ox.jsx)("option",{children:"Experiencia VIP"}),(0,ox.jsx)("option",{children:"Evento exclusivo"}),(0,ox.jsx)("option",{children:"Puntos bonus"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vigencia"}),(0,ox.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duraci\xf3n (d\xedas)"}),(0,ox.jsx)("input",{type:"number",placeholder:"7",defaultValue:"7",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),(0,ox.jsxs)("div",{className:"mt-4",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n de la Promoci\xf3n"}),(0,ox.jsx)("textarea",{placeholder:'Ej: "Promoci\xf3n especial de aniversario: 25% descuento en todos los platos para clientes '.concat(e.name,' v\xe1lido por 7 d\xedas"'),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 h-20"})]}),(0,ox.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,ox.jsx)("button",{className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm",children:"\u2728 Activar Promoci\xf3n"}),(0,ox.jsx)("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"\ud83d\udc40 Vista Previa"})]})]},e.id)))}),(0,ox.jsxs)("div",{className:"mt-6 bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\ud83d\udca1 Ideas de Recompensas Especiales:"}),(0,ox.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Descubridor:"})," Bienvenida con bebida gratis + 10 stars bonus"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Explorador:"})," 15% descuento en segundos platos por 15 d\xedas"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Destacado:"})," Acceso VIP a mesa preferencial por 1 mes"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Estrella:"})," Cena degustaci\xf3n gratis + chef personalizado"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Leyenda:"})," Evento privado exclusivo + men\xfa personalizado"]})]})]})]})})}),c&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["\ud83d\uddbc\ufe0f Modificar NFT - ",c.name]}),(0,ox.jsx)("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen Actual"}),(0,ox.jsx)("div",{className:"w-full h-32 bg-gray-100 rounded-lg overflow-hidden mb-2",children:(0,ox.jsx)("img",{src:c.nftImage,alt:c.nftName,className:"w-full h-full object-cover"})})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subir Nueva Imagen"}),(0,ox.jsx)("input",{type:"file",accept:"image/*",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formatos: JPG, PNG, SVG. Tama\xf1o recomendado: 400x400px"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del NFT"}),(0,ox.jsx)("input",{type:"text",defaultValue:c.nftName,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n"}),(0,ox.jsx)("textarea",{defaultValue:c.description,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 h-20"})]}),(0,ox.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-800 mb-1",children:"\ud83d\udcf1 Distribuci\xf3n UserWebApp"}),(0,ox.jsx)("p",{className:"text-sm text-orange-700",children:"La imagen se optimizar\xe1 autom\xe1ticamente y se distribuir\xe1 a todos los clientes que desbloqueen este nivel"})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>d(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 NFT ".concat(c.name," actualizado exitosamente\n\nLa nueva imagen se sincronizar\xe1 autom\xe1ticamente con todas las UserWebApps de clientes que tengan este nivel desbloqueado.")),d(null)},className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"\ud83d\udcbe Guardar Cambios"})]})]})]})})}),o&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-xl",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcca Exportar Clientes"}),(0,ox.jsx)("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Nivel"}),(0,ox.jsxs)("select",{name:"level",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"all",children:"Todos los niveles (106 clientes)"}),j.map((e=>(0,ox.jsxs)("option",{value:e.id,children:[e.name," (",e.activeClients," clientes)"]},e.id)))]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de Exportaci\xf3n"}),(0,ox.jsxs)("div",{className:"flex space-x-4",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"radio",name:"format",value:"excel",className:"mr-2",defaultChecked:!0}),"\ud83d\udcca Excel"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"radio",name:"format",value:"csv",className:"mr-2"}),"\ud83d\udcc4 CSV"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"radio",name:"format",value:"pdf",className:"mr-2"}),"\ud83d\udcd1 PDF"]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800 mb-1",children:"\ud83d\udccb Datos incluidos en la exportaci\xf3n:"}),(0,ox.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,ox.jsx)("li",{children:"\u2022 Nombre completo y email del cliente"}),(0,ox.jsx)("li",{children:"\u2022 Nivel actual y stars acumuladas"}),(0,ox.jsx)("li",{children:"\u2022 Fecha de \xfaltima visita y frecuencia"}),(0,ox.jsx)("li",{children:"\u2022 Total gastado y ticket promedio"}),(0,ox.jsx)("li",{children:"\u2022 NFTs desbloqueados y fecha de obtenci\xf3n"})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>l(!1),className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{var e,t;const s=(null===(e=document.querySelector('select[name="level"]'))||void 0===e?void 0:e.value)||"all",n=(null===(t=document.querySelector('input[name="format"]:checked'))||void 0===t?void 0:t.value)||"excel",r={all:{total:106,data:["Juan P\xe9rez","Mar\xeda Garc\xeda","Carlos L\xf3pez","..."]},descubridor:{total:45,data:["Ana Torres","Luis Mart\xedn","..."]},explorador:{total:32,data:["Carmen Silva","Pedro Ruiz","..."]},destacado:{total:18,data:["Sofia Moreno","Diego Castro","..."]},estrella:{total:8,data:["Elena Vargas","Roberto Kim","..."]},leyenda:{total:3,data:["Alexander Z\xfa\xf1iga","Valentina Chen","Maximiliano Torres"]}},a=r[s]||r.all;if("excel"===n||"csv"===n){const e="data:text/csv;charset=utf-8,Nombre,Nivel,Stars,\xdaltima Visita,Total Gastado\n"+a.data.slice(0,5).map(((e,t)=>"".concat(e,",").concat("all"===s?["Descubridor","Explorador","Destacado","Estrella","Leyenda"][t%5]:s,",").concat(Math.floor(100*Math.random()),",2025-01-").concat(String(Math.floor(28*Math.random())+1).padStart(2,"0"),",").concat(Math.floor(5e4*Math.random())+1e4))).join("\n"),t=encodeURI(e),r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download","clientes_".concat(s,"_").concat((new Date).toISOString().split("T")[0],".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r),alert("\u2705 Archivo ".concat(n.toUpperCase()," generado exitosamente\n\nClientes ").concat(s,": ").concat(a.total,"\nArchivo: clientes_").concat(s,"_").concat((new Date).toISOString().split("T")[0],".csv"))}else"pdf"===n&&alert("\ud83d\udcc4 Generando PDF para ".concat(a.total," clientes del nivel ").concat(s,"...\n\nEn producci\xf3n se integrar\xe1 con jsPDF para generar reportes completos con gr\xe1ficos y an\xe1lisis detallado."));l(!1)},className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"\ud83d\udce5 Exportar Datos"})]})]})]})})}),h&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcca An\xe1lisis Completo - Sistema KumIA Stars"}),(0,ox.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-4",children:"\ud83d\udcc8 An\xe1lisis de Rendimiento por Nivel"}),(0,ox.jsx)("div",{className:"space-y-3",children:j.map((e=>(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ox.jsx)("span",{className:"font-medium text-gray-800",children:e.name}),(0,ox.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.badgeColor," ").concat(e.textColor),children:[e.activeClients," clientes"]})]}),(0,ox.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"ROI promedio:"}),(0,ox.jsxs)("span",{className:"font-medium",children:["x",(2.3*e.multiplier).toFixed(1)]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Retenci\xf3n:"}),(0,ox.jsxs)("span",{className:"font-medium",children:[Math.floor(85+5*e.multiplier),"%"]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Ticket promedio:"}),(0,ox.jsxs)("span",{className:"font-medium",children:["$",(3200*e.multiplier).toLocaleString()]})]})]})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-green-800 mb-4",children:"\ud83d\udcb0 Impacto Econ\xf3mico Mensual"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-2",children:"$428,500"}),(0,ox.jsx)("div",{className:"text-sm text-green-700",children:"Ingresos atribuidos al sistema Stars"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:"+34%"}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:"Incremento vs sistema anterior"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600 mb-2",children:"$4,050"}),(0,ox.jsx)("div",{className:"text-sm text-purple-700",children:"Ticket promedio ponderado"})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 bg-orange-50 p-6 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-orange-800 mb-4",children:"\ud83c\udfaf Recomendaciones Estrat\xe9gicas"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-700 mb-2",children:"\ud83d\udcca Optimizaciones Detectadas:"}),(0,ox.jsxs)("ul",{className:"text-sm text-orange-600 space-y-1",children:[(0,ox.jsx)("li",{children:"\u2022 Aumentar incentivos nivel Descubridor (+12% conversi\xf3n estimada)"}),(0,ox.jsx)("li",{children:"\u2022 Campa\xf1a especial nivel Estrella (3 clientes en riesgo de inactividad)"}),(0,ox.jsx)("li",{children:"\u2022 Promoci\xf3n referidos nivel Leyenda (potencial +8 clientes premium)"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-700 mb-2",children:"\ud83d\ude80 Oportunidades de Crecimiento:"}),(0,ox.jsxs)("ul",{className:"text-sm text-orange-600 space-y-1",children:[(0,ox.jsx)("li",{children:"\u2022 Implementar sub-niveles dentro de Estrella y Leyenda"}),(0,ox.jsx)("li",{children:"\u2022 Crear eventos exclusivos para niveles altos"}),(0,ox.jsx)("li",{children:"\u2022 Integrar gamificaci\xf3n social (competencias entre niveles)"})]})]})]})]})]})})}),u&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u2699\ufe0f Configuraci\xf3n del Sistema KumIA Stars"}),(0,ox.jsx)("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-4",children:"\ud83c\udfaf Configuraci\xf3n General del Sistema"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor por Star (CLP)"}),(0,ox.jsx)("input",{type:"number",defaultValue:"3000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,ox.jsxs)("div",{className:"mt-2 p-3 bg-blue-100 rounded-lg",children:[(0,ox.jsx)("p",{className:"text-xs text-blue-800 mb-2",children:(0,ox.jsx)("strong",{children:"\ud83d\udca1 \xbfPor qu\xe9 3,000 CLP?"})}),(0,ox.jsx)("p",{className:"text-xs text-blue-700",children:"Basado en an\xe1lisis de ticket promedio ($3,200) donde 1 Star = ~1% del ticket. Para alcanzar una recompensa de $20,000 se requieren ~36 Stars (equivalente a $108,000 en consumo)."}),(0,ox.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:[(0,ox.jsx)("strong",{children:"Recomendaci\xf3n:"})," Mantener este valor constante para todos los restaurantes KUMIA. Ajustar solo si el ticket promedio var\xeda significativamente (+/-50%)."]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Per\xedodo de canje (d\xedas)"}),(0,ox.jsx)("input",{type:"number",defaultValue:"60",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,ox.jsx)("div",{className:"mt-2 p-3 bg-amber-100 rounded-lg",children:(0,ox.jsxs)("p",{className:"text-xs text-amber-800",children:[(0,ox.jsx)("strong",{children:"\u23f0 Ventana de canje:"})," Tiempo m\xe1ximo que tiene el cliente para canjear sus stars una vez alcanzado el nivel m\xednimo."]})})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-green-800 mb-4",children:"\u2b50 Configuraci\xf3n de Generaci\xf3n de Stars"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feedback con texto"}),(0,ox.jsx)("input",{type:"number",defaultValue:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feedback con imagen"}),(0,ox.jsx)("input",{type:"number",defaultValue:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feedback con video"}),(0,ox.jsx)("input",{type:"number",defaultValue:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reserva completada"}),(0,ox.jsx)("input",{type:"number",defaultValue:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referido exitoso"}),(0,ox.jsx)("input",{type:"number",defaultValue:"5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Juego completado (UserApp)"}),(0,ox.jsx)("input",{type:"number",defaultValue:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Uso plataforma de pagos"}),(0,ox.jsx)("input",{type:"number",defaultValue:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),(0,ox.jsxs)("div",{className:"mt-4 bg-emerald-100 p-3 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-emerald-800 mb-2",children:"\ud83d\udcb0 Stars por Monto de Compra"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Stars por cada $ gastado"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"1 Star por cada $"}),(0,ox.jsx)("input",{type:"number",defaultValue:"3000",className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-green-500"}),(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"CLP"})]})]}),(0,ox.jsx)("div",{className:"bg-green-200 p-2 rounded",children:(0,ox.jsxs)("p",{className:"text-xs text-green-800",children:[(0,ox.jsx)("strong",{children:"Ejemplo:"})," Compra de $60,000 = 20 Stars base",(0,ox.jsx)("br",{}),"Con multiplicador x1.5 (Destacado) = 30 Stars total"]})})]})]}),(0,ox.jsx)("div",{className:"mt-3 p-3 bg-yellow-100 rounded-lg",children:(0,ox.jsxs)("p",{className:"text-xs text-yellow-800",children:[(0,ox.jsx)("strong",{children:"\ud83d\udccc Importante:"})," Todas las acciones se multiplican por el multiplicador del nivel actual del cliente. Las stars por monto de compra se calculan autom\xe1ticamente seg\xfan el valor por star configurado arriba."]})})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-purple-800 mb-4",children:"\ud83c\udfc6 Configuraci\xf3n de Niveles"}),(0,ox.jsxs)("div",{className:"mb-4 p-3 bg-indigo-100 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-indigo-800 mb-2",children:"\ud83d\udccb Informaci\xf3n Importante sobre Niveles"}),(0,ox.jsxs)("ul",{className:"text-xs text-indigo-700 space-y-1",children:[(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Stars Requeridas:"})," N\xfamero de stars ADICIONALES necesarias para alcanzar ese nivel (no acumulativo)"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Multiplicadores:"})," Se recomiendan valores est\xe1ndar para mantener equilibrio en el sistema"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Estados:"}),' Solo cambiar a "Mantenimiento" si hay problemas t\xe9cnicos temporales']}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Modificaci\xf3n por restaurante:"})," Los valores base deben mantenerse consistentes en toda la red KUMIA"]})]})]}),(0,ox.jsx)("div",{className:"space-y-4",children:j.map(((e,t)=>(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-purple-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,ox.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.badgeColor," ").concat(e.textColor),children:["Nivel ",t+1]})]}),(0,ox.jsxs)("span",{className:"text-xs text-gray-500",children:[e.activeClients," clientes activos"]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["Stars requeridas ",t>0?"(adicionales)":"(base)"]}),(0,ox.jsx)("input",{type:"number",defaultValue:e.starsRequired,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-purple-500",disabled:0===t}),t>0&&(0,ox.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Total para llegar: ",j.slice(0,t+1).reduce(((e,t)=>e+t.starsRequired),0)," stars"]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Multiplicador (recomendado)"}),(0,ox.jsx)("input",{type:"number",step:"0.1",defaultValue:e.multiplier,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-purple-500 bg-gray-50",title:"Valor recomendado para mantener equilibrio del sistema"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Est\xe1ndar KUMIA"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Capitalizaci\xf3n estimada"}),(0,ox.jsx)("input",{type:"text",defaultValue:e.capitalization,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-purple-500 bg-gray-50",readOnly:!0,title:"Calculado autom\xe1ticamente basado en valor por star"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Estado del nivel"}),(0,ox.jsxs)("select",{className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-purple-500",children:[(0,ox.jsx)("option",{children:"Activo"}),(0,ox.jsx)("option",{children:"Mantenimiento"})]}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"descubridor"===e.id?"Siempre activo":"Cambiar solo si necesario"})]})]}),0===t&&(0,ox.jsx)("div",{className:"mt-3 p-2 bg-gray-100 rounded",children:(0,ox.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,ox.jsx)("strong",{children:"Nivel base:"})," No requiere stars previas y no se puede desactivar"]})})]},e.id)))}),(0,ox.jsxs)("div",{className:"mt-4 p-3 bg-amber-100 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-amber-800 mb-2",children:"\u26a0\ufe0f Recomendaciones de Configuraci\xf3n"}),(0,ox.jsxs)("ul",{className:"text-xs text-amber-700 space-y-1",children:[(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"No modificar multiplicadores"})," sin an\xe1lisis previo - afecta el equilibrio econ\xf3mico"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Stars requeridas"})," se pueden ajustar seg\xfan comportamiento de usuarios locales"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:'Estados "Mantenimiento"'})," solo para problemas temporales de NFTs o beneficios"]}),(0,ox.jsxs)("li",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Consistencia de red:"})," Grandes cambios deben coordinarse con otros restaurantes KUMIA"]})]})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>m(!1),className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2699\ufe0f Configuraci\xf3n guardada exitosamente\n\nTodos los cambios se aplicar\xe1n inmediatamente al sistema KumIA Stars. Las modificaciones se sincronizar\xe1n autom\xe1ticamente con Firebase y UserWebApps."),m(!1)},className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"\ud83d\udcbe Guardar Configuraci\xf3n"})]})]})]})})}),x&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-5xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["\ud83d\udc65 Clientes Nivel ",x.name]}),(0,ox.jsxs)("p",{className:"text-gray-600",children:[x.activeClients," clientes activos \u2022 Multiplicador x",x.multiplier]})]}),(0,ox.jsx)("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(()=>{let e={descubridor:[{id:1,name:"Ana Torres",email:"ana.torres@email.com",phone:"+56912345678",stars:28,lastVisit:"2025-01-25",totalSpent:89e3,visits:12,nftUnlocked:"Ninguno",status:"Activo"},{id:2,name:"Luis Mart\xedn",email:"luis.martin@email.com",phone:"+56987654321",stars:15,lastVisit:"2025-01-20",totalSpent:45e3,visits:8,nftUnlocked:"Ninguno",status:"Activo"},{id:3,name:"Carmen Silva",email:"carmen.silva@email.com",phone:"+56945678123",stars:32,lastVisit:"2025-01-28",totalSpent:96e3,visits:14,nftUnlocked:"Ninguno",status:"Inactivo"},{id:4,name:"Mar\xeda Gonz\xe1lez",email:"maria.gonzalez@email.com",phone:"+56923456789",stars:21,lastVisit:"2025-01-22",totalSpent:63e3,visits:9,nftUnlocked:"Ninguno",status:"Activo"}],explorador:[{id:5,name:"Pedro Ruiz",email:"pedro.ruiz@email.com",phone:"+56912348765",stars:44,lastVisit:"2025-01-26",totalSpent:132e3,visits:18,nftUnlocked:"NFT Explorador",status:"Activo"},{id:6,name:"Sofia Moreno",email:"sofia.moreno@email.com",phone:"+56934567812",stars:39,lastVisit:"2025-01-24",totalSpent:117e3,visits:16,nftUnlocked:"NFT Explorador",status:"Inactivo"}],destacado:[{id:7,name:"Diego Castro",email:"diego.castro@email.com",phone:"+56923456781",stars:56,lastVisit:"2025-01-27",totalSpent:168e3,visits:22,nftUnlocked:"NFT Destacado",status:"Activo"},{id:8,name:"Elena Vargas",email:"elena.vargas@email.com",phone:"+56945671234",stars:52,lastVisit:"2025-01-23",totalSpent:156e3,visits:21,nftUnlocked:"NFT Destacado",status:"Activo"}],estrella:[{id:9,name:"Roberto Kim",email:"roberto.kim@email.com",phone:"+56912347856",stars:68,lastVisit:"2025-01-29",totalSpent:204e3,visits:28,nftUnlocked:"NFT Estrella",status:"Activo"}],leyenda:[{id:10,name:"Alexander Z\xfa\xf1iga",email:"alexander.zuniga@email.com",phone:"+56934561278",stars:89,lastVisit:"2025-01-28",totalSpent:267e3,visits:35,nftUnlocked:"NFT Leyenda",status:"Activo"},{id:11,name:"Valentina Chen",email:"valentina.chen@email.com",phone:"+56923451867",stars:95,lastVisit:"2025-01-26",totalSpent:285e3,visits:38,nftUnlocked:"NFT Leyenda",status:"Inactivo"}]}[x.id]||[];return S&&(e=e.filter((e=>e.name.toLowerCase().includes(S.toLowerCase())||e.email.toLowerCase().includes(S.toLowerCase())))),"all"!==E&&(e=e.filter((e=>"active"===E?"Activo"===e.status:"Inactivo"===e.status))),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsxs)("div",{className:"relative",children:[(0,ox.jsx)("input",{type:"text",placeholder:"Buscar por nombre o email...",value:S,onChange:e=>C(e.target.value),onKeyPress:I,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 pr-10"}),(0,ox.jsx)("button",{onClick:()=>A(S),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-orange-500",children:"\ud83d\udd0d"})]}),(0,ox.jsxs)("select",{value:E,onChange:e=>_(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"all",children:"Todos los estados"}),(0,ox.jsx)("option",{value:"active",children:"Activo"}),(0,ox.jsx)("option",{value:"inactive",children:"Inactivo"})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>l(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"\ud83d\udce4 Exportar Lista"}),(0,ox.jsx)("button",{onClick:()=>M(x),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors text-sm",children:"\ud83d\udce7 Campa\xf1a Email"}),(0,ox.jsx)("button",{onClick:()=>D(x),className:"bg-emerald-500 text-white px-4 py-2 rounded-lg hover:bg-emerald-600 transition-colors text-sm",children:"\ud83d\udcf1 Campa\xf1a WhatsApp"})]})]}),(0,ox.jsx)("div",{className:"overflow-x-auto",children:(0,ox.jsxs)("table",{className:"w-full border-collapse border border-gray-200",children:[(0,ox.jsx)("thead",{children:(0,ox.jsxs)("tr",{className:"bg-gray-100",children:[(0,ox.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Cliente"}),(0,ox.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Contacto"}),(0,ox.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Stars"}),(0,ox.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-medium text-gray-700",children:"\xdaltima Visita"}),(0,ox.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Total Gastado"}),(0,ox.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-medium text-gray-700",children:"NFT"}),(0,ox.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Estado"}),(0,ox.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Acciones"})]})}),(0,ox.jsx)("tbody",{children:e.map((e=>(0,ox.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ox.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,ox.jsxs)("div",{className:"text-sm text-gray-600",children:[e.visits," visitas"]})]})}),(0,ox.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,ox.jsxs)("div",{className:"text-sm",children:[(0,ox.jsx)("div",{children:e.email}),(0,ox.jsx)("div",{className:"text-gray-600",children:e.phone})]})}),(0,ox.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,ox.jsx)("span",{className:"font-bold text-orange-600",children:e.stars})}),(0,ox.jsx)("td",{className:"border border-gray-200 px-4 py-3 text-sm",children:e.lastVisit}),(0,ox.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,ox.jsxs)("span",{className:"font-medium text-green-600",children:["$",e.totalSpent.toLocaleString()]})}),(0,ox.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Ninguno"===e.nftUnlocked?"bg-gray-100 text-gray-600":x.badgeColor+" "+x.textColor),children:e.nftUnlocked})}),(0,ox.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Activo"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})}),(0,ox.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,ox.jsxs)("div",{className:"flex space-x-1",children:[(0,ox.jsx)("button",{onClick:()=>(e=>{alert("\ud83d\udc64 DETALLES DEL CLIENTE\n\n\ud83d\udccb Informaci\xf3n Personal:\n\u2022 Nombre: ".concat(e.name,"\n\u2022 Email: ").concat(e.email,"\n\u2022 Tel\xe9fono: ").concat(e.phone,"\n\u2022 Estado: ").concat(e.status,"\n\n\u2b50 Actividad KumIA:\n\u2022 Stars actuales: ").concat(e.stars,"\n\u2022 Total gastado: $").concat(e.totalSpent.toLocaleString(),"\n\u2022 Visitas realizadas: ").concat(e.visits,"\n\u2022 NFT desbloqueado: ").concat(e.nftUnlocked,"\n\u2022 \xdaltima visita: ").concat(e.lastVisit,"\n\n\ud83c\udfaf En producci\xf3n se abrir\xe1 un panel completo con historial detallado, preferencias y an\xe1lisis de comportamiento."))})(e),className:"bg-blue-100 text-blue-600 px-2 py-1 rounded text-xs hover:bg-blue-200 transition-colors",title:"Ver detalles del cliente",children:"\ud83d\udc41\ufe0f"}),(0,ox.jsx)("button",{onClick:()=>(e=>{alert("\u270f\ufe0f EDITAR CLIENTE - ".concat(e.name,"\n\n\ud83d\udcdd Opciones de edici\xf3n disponibles:\n\u2022 Modificar informaci\xf3n personal\n\u2022 Ajustar stars manualmente\n\u2022 Cambiar estado (Activo/Inactivo)\n\u2022 Agregar notas internas\n\u2022 Configurar preferencias\n\u2022 Historial de transacciones\n\n\ud83d\udca1 En producci\xf3n se abrir\xe1 un formulario completo de edici\xf3n con validaciones y auditor\xeda de cambios."))})(e),className:"bg-green-100 text-green-600 px-2 py-1 rounded text-xs hover:bg-green-200 transition-colors",title:"Editar cliente",children:"\u270f\ufe0f"}),(0,ox.jsx)("button",{onClick:()=>(e=>{alert("\ud83d\udcde CONTACTAR CLIENTE - ".concat(e.name,"\n\n\ud83d\udccb Opciones de contacto disponibles:\n\u2022 WhatsApp: ").concat(e.phone||"No disponible","\n\u2022 Email: ").concat(e.email||"No disponible","\n\u2022 Llamada directa\n\u2022 SMS personalizado\n\u2022 Invitaci\xf3n a evento especial\n\n\ud83d\udca1 En producci\xf3n se abrir\xe1 un panel completo con historial de contactos, plantillas de mensajes y seguimiento automatizado."))})(e),className:"bg-orange-100 text-orange-600 px-2 py-1 rounded text-xs hover:bg-orange-200 transition-colors",title:"Contactar cliente",children:"\ud83d\udcac"})]})})]},e.id)))})]})}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-lg",children:[(0,ox.jsxs)("h4",{className:"font-medium text-orange-800 mb-2",children:["\ud83d\udcca Resumen Nivel ",x.name]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Total clientes:"}),(0,ox.jsx)("span",{className:"font-bold text-gray-800 ml-2",children:e.length})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Stars promedio:"}),(0,ox.jsx)("span",{className:"font-bold text-orange-600 ml-2",children:Math.round(e.reduce(((e,t)=>e+t.stars),0)/e.length)})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Gasto promedio:"}),(0,ox.jsxs)("span",{className:"font-bold text-green-600 ml-2",children:["$",Math.round(e.reduce(((e,t)=>e+t.totalSpent),0)/e.length).toLocaleString()]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Visitas promedio:"}),(0,ox.jsx)("span",{className:"font-bold text-blue-600 ml-2",children:Math.round(e.reduce(((e,t)=>e+t.visits),0)/e.length)})]})]})]})]})})()]})})}),f&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["\u2699\ufe0f Configurar Nivel ",f.name]}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Gesti\xf3n avanzada de beneficios, recompensas y configuraci\xf3n del nivel"})]}),(0,ox.jsx)("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800 mb-3",children:"\ud83d\udccb Informaci\xf3n Actual"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Stars requeridas:"}),(0,ox.jsxs)("div",{className:"font-bold text-orange-600",children:[f.starsRequired," ","descubridor"!==f.id?"(adicionales)":"(base)"]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Multiplicador:"}),(0,ox.jsxs)("div",{className:"font-bold text-blue-600",children:["x",f.multiplier]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Clientes activos:"}),(0,ox.jsx)("div",{className:"font-bold text-green-600",children:f.activeClients})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Capitalizaci\xf3n:"}),(0,ox.jsx)("div",{className:"font-bold text-purple-600 text-sm",children:f.capitalization})]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-3",children:"\ud83c\udf81 Beneficios del Nivel"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n Principal"}),(0,ox.jsx)("textarea",{defaultValue:f.description,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 h-20"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beneficio Principal"}),(0,ox.jsx)("textarea",{defaultValue:f.benefit,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 h-16"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descuento Especial (%)"}),(0,ox.jsx)("input",{type:"number",defaultValue:5*f.multiplier,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridad en Reservas"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{children:"Normal"}),(0,ox.jsx)("option",{children:"Preferencial"}),(0,ox.jsx)("option",{children:"VIP"}),(0,ox.jsx)("option",{children:"M\xe1xima"})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-green-800 mb-3",children:"\ud83c\udfc6 Recompensas Espec\xedficas del Nivel"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-medium text-gray-800",children:"Plato del Mes Gratis"}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Disponible cada 30 d\xedas"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"text-sm text-green-600",children:"Activo"}),(0,ox.jsx)("button",{className:"bg-red-100 text-red-600 px-2 py-1 rounded text-xs hover:bg-red-200 transition-colors",children:"Desactivar"})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-medium text-gray-800",children:"Mesa Preferencial"}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Reserva autom\xe1tica en mejores mesas"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"text-sm text-green-600",children:"Activo"}),(0,ox.jsx)("button",{className:"bg-red-100 text-red-600 px-2 py-1 rounded text-xs hover:bg-red-200 transition-colors",children:"Desactivar"})]})]}),(0,ox.jsx)("button",{onClick:()=>{z(f)},className:"w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition-colors text-sm",children:"+ Agregar Nueva Recompensa"})]})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-purple-800 mb-3",children:"\ud83d\udcca An\xe1lisis de Rendimiento"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[(2.3*f.multiplier).toFixed(1),"x"]}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"ROI Promedio"})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Math.floor(85+5*f.multiplier),"%"]}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Retenci\xf3n"})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",(3200*f.multiplier).toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Ticket Promedio"})]})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>b(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{U(f)},className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udcca Ver An\xe1lisis Detallado"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 Configuraci\xf3n del nivel ".concat(f.name," guardada exitosamente\n\nTodos los cambios se aplicar\xe1n inmediatamente y se sincronizar\xe1n con Firebase.")),b(null)},className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"\ud83d\udcbe Guardar Cambios"})]})]})]})})}),v&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcc8 An\xe1lisis de Acciones por Nivel"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Comportamiento y patrones de uso por cada nivel del sistema KumIA Stars"})]}),(0,ox.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-4",children:"\ud83d\udcca Resumen General de Acciones"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"2,847"}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Total Feedbacks"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"1,293"}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Reservas Completadas"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"456"}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Referidos Exitosos"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"789"}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Juegos Completados"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:"2,156"}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Pagos Procesados"})]})]})]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.map(((e,t)=>{const s={descubridor:{feedback:45,reservas:30,referidos:15,juegos:5,pagos:25},explorador:{feedback:40,reservas:35,referidos:20,juegos:8,pagos:30},destacado:{feedback:35,reservas:40,referidos:25,juegos:12,pagos:35},estrella:{feedback:30,reservas:45,referidos:30,juegos:15,pagos:40},leyenda:{feedback:25,reservas:50,referidos:35,juegos:20,pagos:45}}[e.id];return(0,ox.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r ".concat(e.bgColor)}),(0,ox.jsx)("h4",{className:"font-bold text-gray-800",children:e.name}),(0,ox.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.badgeColor," ").concat(e.textColor),children:[e.activeClients," clientes"]})]}),(0,ox.jsxs)("span",{className:"text-sm text-gray-500",children:["Multiplicador: x",e.multiplier]})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83d\udcac Feedback"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,ox.jsx)("div",{className:"bg-orange-400 h-2 rounded-full transition-all duration-500",style:{width:"".concat(s.feedback,"%")}})}),(0,ox.jsxs)("span",{className:"text-sm font-medium text-gray-800",children:[s.feedback,"%"]})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83d\udcc5 Reservas"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,ox.jsx)("div",{className:"bg-green-400 h-2 rounded-full transition-all duration-500",style:{width:"".concat(s.reservas,"%")}})}),(0,ox.jsxs)("span",{className:"text-sm font-medium text-gray-800",children:[s.reservas,"%"]})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83d\udc65 Referidos"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,ox.jsx)("div",{className:"bg-purple-400 h-2 rounded-full transition-all duration-500",style:{width:"".concat(s.referidos,"%")}})}),(0,ox.jsxs)("span",{className:"text-sm font-medium text-gray-800",children:[s.referidos,"%"]})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83c\udfae Juegos"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,ox.jsx)("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-500",style:{width:"".concat(s.juegos,"%")}})}),(0,ox.jsxs)("span",{className:"text-sm font-medium text-gray-800",children:[s.juegos,"%"]})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83d\udcb3 Pagos"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,ox.jsx)("div",{className:"bg-pink-400 h-2 rounded-full transition-all duration-500",style:{width:"".concat(s.pagos,"%")}})}),(0,ox.jsxs)("span",{className:"text-sm font-medium text-gray-800",children:[s.pagos,"%"]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,ox.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"\ud83c\udfaf Insights del Nivel"}),(0,ox.jsxs)("p",{className:"text-xs text-gray-600",children:["descubridor"===e.id&&"Nuevos usuarios priorizan feedback b\xe1sico y conocimiento del restaurante.","explorador"===e.id&&"Balance entre feedback y reservas, comenzando a explorar beneficios.","destacado"===e.id&&"Mayor foco en reservas y experiencias VIP, uso moderado de juegos.","estrella"===e.id&&"Usuarios premium con alta frecuencia de reservas y referidos activos.","leyenda"===e.id&&"Embajadores de marca con m\xe1ximo engagement en reservas y referidos."]})]})]},e.id)}))}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 p-6 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-emerald-800 mb-4",children:"\ud83d\udca1 Recomendaciones Estrat\xe9gicas"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-emerald-700 mb-3",children:"\ud83c\udfaf Optimizaciones Detectadas:"}),(0,ox.jsxs)("ul",{className:"space-y-2 text-sm text-emerald-600",children:[(0,ox.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,ox.jsx)("span",{className:"text-emerald-500 mt-1",children:"\u2022"}),(0,ox.jsxs)("span",{children:[(0,ox.jsx)("strong",{children:"Descubridor:"})," Incrementar incentivos para juegos (+15% engagement estimado)"]})]}),(0,ox.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,ox.jsx)("span",{className:"text-emerald-500 mt-1",children:"\u2022"}),(0,ox.jsxs)("span",{children:[(0,ox.jsx)("strong",{children:"Explorador:"})," Promover programa de referidos (potencial +8 nuevos clientes/mes)"]})]}),(0,ox.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,ox.jsx)("span",{className:"text-emerald-500 mt-1",children:"\u2022"}),(0,ox.jsxs)("span",{children:[(0,ox.jsx)("strong",{children:"Estrella:"})," Campaign especial para maximizar feedback con video"]})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-emerald-700 mb-3",children:"\ud83d\ude80 Oportunidades de Crecimiento:"}),(0,ox.jsxs)("ul",{className:"space-y-2 text-sm text-emerald-600",children:[(0,ox.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,ox.jsx)("span",{className:"text-emerald-500 mt-1",children:"\u2022"}),(0,ox.jsx)("span",{children:"Crear challenges cruzados entre niveles para aumentar interacci\xf3n"})]}),(0,ox.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,ox.jsx)("span",{className:"text-emerald-500 mt-1",children:"\u2022"}),(0,ox.jsx)("span",{children:"Implementar sistema de mentor\xedas: Leyenda \u2192 Descubridor"})]}),(0,ox.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,ox.jsx)("span",{className:"text-emerald-500 mt-1",children:"\u2022"}),(0,ox.jsx)("span",{children:"Gamificar proceso de pagos para niveles m\xe1s bajos"})]})]})]})]})]})]})]})})}),T&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["\ud83d\udce7 Campa\xf1a Email - Nivel ",T.name]}),(0,ox.jsxs)("p",{className:"text-gray-600",children:["Crea una campa\xf1a de email personalizada para ",T.activeClients," clientes"]})]}),(0,ox.jsx)("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-4",children:"\ud83d\udccb Configuraci\xf3n de la Campa\xf1a"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Campa\xf1a"}),(0,ox.jsx)("input",{type:"text",defaultValue:"Campa\xf1a ".concat(T.name," - ").concat((new Date).toLocaleDateString()),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Campa\xf1a"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{children:"Promoci\xf3n Especial"}),(0,ox.jsx)("option",{children:"Bienvenida"}),(0,ox.jsx)("option",{children:"Reactivaci\xf3n"}),(0,ox.jsx)("option",{children:"Evento Exclusivo"}),(0,ox.jsx)("option",{children:"Encuesta de Satisfacci\xf3n"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-green-800 mb-4",children:"\ud83c\udfaf Segmentaci\xf3n y Alcance"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado del Cliente"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),"Activos (",T.activeClients-Math.floor(.1*T.activeClients)," clientes)"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Inactivos (",Math.floor(.1*T.activeClients)," clientes)"]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtros Adicionales"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"\xdaltima visita < 30 d\xedas"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Gasto total > $50,000"]})]})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\ud83d\udcca Alcance Estimado"}),(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-600",children:T.activeClients}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"emails a enviar"}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Tasa apertura estimada: 25%"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-purple-800 mb-4",children:"\u2709\ufe0f Contenido del Email"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Asunto del Email"}),(0,ox.jsx)("input",{type:"text",defaultValue:"\xa1Oferta especial para clientes ".concat(T.name,"! \ud83d\udd25"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plantilla de Email"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 mb-3",children:[(0,ox.jsx)("option",{children:"Promoci\xf3n IL MANDORLA"}),(0,ox.jsx)("option",{children:"Bienvenida KUMIA Stars"}),(0,ox.jsx)("option",{children:"Evento Exclusivo"}),(0,ox.jsx)("option",{children:"Reactivaci\xf3n Cliente"})]}),(0,ox.jsx)("textarea",{rows:"8",defaultValue:"Hola [NOMBRE],\n\n\xa1Tenemos una oferta especial para ti como cliente ".concat(T.name,"!\n\n\ud83d\udd25 Disfruta de un ").concat(10*T.multiplier,"% de descuento en tu pr\xf3xima visita\n\u2b50 Multiplica tus KUMIA Stars x").concat(T.multiplier,"\n\ud83c\udf81 Acceso a nuestro men\xfa exclusivo del mes\n\nTu nivel ").concat(T.name," te da acceso a beneficios \xfanicos. \xa1No te los pierdas!\n\nReserva ahora: [LINK_RESERVA]\n\n\xa1Te esperamos en IL MANDORLA!\nEl equipo KUMIA"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-orange-800 mb-4",children:"\u23f0 Programaci\xf3n de Env\xedo"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Env\xedo"}),(0,ox.jsx)("input",{type:"date",defaultValue:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora de Env\xedo"}),(0,ox.jsx)("input",{type:"time",defaultValue:"10:00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zona Horaria"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{children:"America/Santiago (UTC-3)"}),(0,ox.jsx)("option",{children:"America/New_York (UTC-5)"}),(0,ox.jsx)("option",{children:"Europe/Madrid (UTC+1)"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg border border-indigo-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-indigo-800 mb-4",children:"\ud83e\udd16 Integraci\xf3n con Agentes IA"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agente IA Responsable"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,ox.jsx)("option",{children:"\ud83d\udce7 Email Marketing IA"}),(0,ox.jsx)("option",{children:"\ud83c\udfaf Upselling Master IA"}),(0,ox.jsx)("option",{children:"\ud83d\udc8e KUMIA Loyalty IA"}),(0,ox.jsx)("option",{children:"\ud83d\udcf1 Community Manager IA"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personalizaci\xf3n IA"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),"Personalizar por historial de compras"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),"Incluir recomendaciones de platos"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Optimizar horario de env\xedo por cliente"]})]})]})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>P(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\ud83d\udce7 VISTA PREVIA DEL EMAIL\n\n\ud83d\udccb Configuraci\xf3n:\n\u2022 Campa\xf1a: ".concat(T.name,"\n\u2022 Destinatarios: ").concat(T.activeClients," clientes\n\u2022 Descuento: ").concat(10*T.multiplier,"%\n\u2022 Multiplicador Stars: x").concat(T.multiplier,"\n\n\ud83d\udca1 En producci\xf3n se abrir\xe1 un preview completo del email con plantilla visual y opci\xf3n de env\xedo de prueba."))},className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udc40 Vista Previa"}),(0,ox.jsx)("button",{onClick:()=>{alert('\u2705 CAMPA\xd1A EMAIL PROGRAMADA\n\n\ud83d\ude80 Tu campa\xf1a "'.concat(T.name,'" ha sido programada exitosamente:\n\n\ud83d\udcca Resumen:\n\u2022 ').concat(T.activeClients," emails programados\n\u2022 Env\xedo: Hoy a las 10:00 AM\n\u2022 Agente IA: Email Marketing IA\n\u2022 Personalizaci\xf3n: Activada\n\n\ud83d\udcc8 M\xe9tricas esperadas:\n\u2022 Tasa de apertura: ~25%\n\u2022 Tasa de clicks: ~8%\n\u2022 Conversiones estimadas: ~15 clientes\n\nRecibir\xe1s un reporte completo 24h despu\xe9s del env\xedo.")),P(null)},className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 font-bold",children:"\ud83d\udce7 Programar Env\xedo"})]})]})]})})}),R&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["\ud83d\udcf1 Campa\xf1a WhatsApp - Nivel ",R.name]}),(0,ox.jsxs)("p",{className:"text-gray-600",children:["Crea una campa\xf1a de WhatsApp Business para ",R.activeClients," clientes"]})]}),(0,ox.jsx)("button",{onClick:()=>O(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-green-800 mb-4",children:"\ud83d\udccb Configuraci\xf3n de la Campa\xf1a WhatsApp"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Campa\xf1a"}),(0,ox.jsx)("input",{type:"text",defaultValue:"WhatsApp ".concat(R.name," - ").concat((new Date).toLocaleDateString()),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Mensaje"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,ox.jsx)("option",{children:"Promoci\xf3n con Multimedia"}),(0,ox.jsx)("option",{children:"Mensaje de Texto Simple"}),(0,ox.jsx)("option",{children:"Invitaci\xf3n a Reservar"}),(0,ox.jsx)("option",{children:"Encuesta R\xe1pida"}),(0,ox.jsx)("option",{children:"Recordatorio de Visita"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-4",children:"\ud83d\udce4 Configuraci\xf3n de Env\xedo Masivo"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modo de Env\xedo"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{children:"Env\xedo Inmediato"}),(0,ox.jsx)("option",{children:"Env\xedo Programado"}),(0,ox.jsx)("option",{children:"Env\xedo Escalonado (cada 30 seg)"}),(0,ox.jsx)("option",{children:"Env\xedo Inteligente (IA optimiza horario)"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"L\xedmite por Hora"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{children:"Sin l\xedmite"}),(0,ox.jsx)("option",{children:"50 mensajes/hora"}),(0,ox.jsx)("option",{children:"100 mensajes/hora"}),(0,ox.jsx)("option",{children:"200 mensajes/hora"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado del Cliente"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),"Activos"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Inactivos (reactivaci\xf3n)"]})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-emerald-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-emerald-800 mb-4",children:"\ud83d\udcac Contenido del Mensaje WhatsApp"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plantilla de Mensaje"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 mb-3",children:[(0,ox.jsx)("option",{children:"Promoci\xf3n IL MANDORLA"}),(0,ox.jsx)("option",{children:"Invitaci\xf3n Especial"}),(0,ox.jsx)("option",{children:"Reactivaci\xf3n Cliente"}),(0,ox.jsx)("option",{children:"Encuesta Satisfacci\xf3n"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Incluir Multimedia"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),"\ud83d\uddbc\ufe0f Imagen del plato destacado"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"\ud83d\udcc4 PDF con men\xfa especial"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"\ud83c\udfa5 Video promocional"]})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje Personalizado"}),(0,ox.jsx)("textarea",{rows:"6",defaultValue:"\ud83d\udd25 \xa1Hola [NOMBRE]!\n\nComo cliente ".concat(R.name,", tienes acceso a una oferta especial:\n\n\u2728 ").concat(10*R.multiplier,"% de descuento en tu pr\xf3xima visita\n\u2b50 Multiplica tus KUMIA Stars x").concat(R.multiplier,"\n\ud83c\udf81 Acceso a nuestro men\xfa exclusivo\n\n\ud83c\udf56 \xa1Ven a disfrutar las mejores carnes ahumadas de Santiago!\n\nReserva aqu\xed: [LINK_RESERVA]\nV\xe1lido hasta: [FECHA_LIMITE]\n\nIL MANDORLA Smokehouse \ud83e\udd69"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg border border-purple-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-purple-800 mb-4",children:"\ud83e\udd16 Integraci\xf3n con Agentes IA WhatsApp"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agente IA para Seguimiento"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,ox.jsx)("option",{children:"\ud83d\udcf1 WhatsApp Concierge IA"}),(0,ox.jsx)("option",{children:"\ud83c\udfaf Upselling Master IA"}),(0,ox.jsx)("option",{children:"\ud83d\udcde Customer Service IA"}),(0,ox.jsx)("option",{children:"\ud83c\udfea Reservations Manager IA"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Configuraci\xf3n Avanzada"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),"Respuesta autom\xe1tica a consultas"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),"Seguimiento de conversiones"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),"Recordatorio autom\xe1tico 24h despu\xe9s"]})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-orange-800 mb-4",children:"\ud83d\udcca Programaci\xf3n y M\xe9tricas Esperadas"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha y Hora"}),(0,ox.jsx)("input",{type:"datetime-local",defaultValue:new Date(Date.now()+36e5).toISOString().slice(0,16),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\ud83d\udcc8 M\xe9tricas Esperadas"}),(0,ox.jsxs)("div",{className:"text-sm space-y-1",children:[(0,ox.jsx)("div",{children:"Entregas: ~95%"}),(0,ox.jsx)("div",{children:"Lecturas: ~85%"}),(0,ox.jsx)("div",{children:"Respuestas: ~25%"}),(0,ox.jsx)("div",{children:"Conversiones: ~12%"})]})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\ud83d\udcb0 ROI Estimado"}),(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"+285%"}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Retorno esperado"})]})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>O(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert('\ud83d\udcf1 VISTA PREVIA WHATSAPP\n\n\ud83d\udcac Mensaje Preview:\n"\ud83d\udd25 \xa1Hola Juan!\n\nComo cliente '.concat(R.name,", tienes ").concat(10*R.multiplier,'% descuento..."\n\n\ud83d\udcca Configuraci\xf3n:\n\u2022 ').concat(R.activeClients," mensajes programados\n\u2022 Agente IA: WhatsApp Concierge\n\u2022 Multimedia: Imagen del plato incluida\n\u2022 ROI esperado: +285%\n\n\ud83d\udca1 En producci\xf3n se mostrar\xe1 el preview completo con la imagen y formato de WhatsApp Business."))},className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udc40 Vista Previa"}),(0,ox.jsx)("button",{onClick:()=>{alert('\u2705 CAMPA\xd1A WHATSAPP PROGRAMADA\n\n\ud83d\ude80 Tu campa\xf1a WhatsApp "'.concat(R.name,'" ha sido programada:\n\n\ud83d\udcf1 Resumen:\n\u2022 ').concat(R.activeClients," mensajes programados\n\u2022 Env\xedo: En 1 hora (escalonado)\n\u2022 Agente IA: WhatsApp Concierge activado\n\u2022 Multimedia: Imagen incluida\n\n\ud83d\udcc8 Proyecciones:\n\u2022 Entregas esperadas: ").concat(Math.floor(.95*R.activeClients),"\n\u2022 Lecturas esperadas: ").concat(Math.floor(.85*R.activeClients),"\n\u2022 Respuestas esperadas: ").concat(Math.floor(.25*R.activeClients),"\n\u2022 Conversiones esperadas: ").concat(Math.floor(.12*R.activeClients),"\n\n\ud83d\udcb0 ROI estimado: +285%\n\n\ud83d\udcca Recibir\xe1s reportes en tiempo real en el dashboard.")),O(null)},className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 font-bold",children:"\ud83d\udcf1 Programar Campa\xf1a"})]})]})]})})}),L&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["\ud83c\udf81 Agregar Nueva Recompensa - Nivel ",L.name]}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Crea una nueva recompensa exclusiva para este nivel"})]}),(0,ox.jsx)("button",{onClick:()=>z(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Recompensa"}),(0,ox.jsx)("input",{type:"text",placeholder:'Ej: "Descuento VIP '.concat(L.name,'"'),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Recompensa"}),(0,ox.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"discount",children:"Descuento Porcentual"}),(0,ox.jsx)("option",{value:"free_item",children:"Producto/Plato Gratis"}),(0,ox.jsx)("option",{value:"upgrade",children:"Upgrade de Servicio"}),(0,ox.jsx)("option",{value:"experience",children:"Experiencia Especial"}),(0,ox.jsx)("option",{value:"points",children:"Stars Bonus"}),(0,ox.jsx)("option",{value:"exclusive",children:"Acceso Exclusivo"})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor/Descuento"}),(0,ox.jsxs)("div",{className:"flex",children:[(0,ox.jsx)("input",{type:"number",placeholder:"25",className:"flex-1 px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),(0,ox.jsxs)("select",{className:"px-3 py-2 border-t border-r border-b border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"%",children:"%"}),(0,ox.jsx)("option",{value:"CLP",children:"CLP"}),(0,ox.jsx)("option",{value:"USD",children:"USD"})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stars Necesarias"}),(0,ox.jsx)("input",{type:"number",placeholder:L.starsRequired,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n Detallada"}),(0,ox.jsx)("textarea",{placeholder:'Ej: "Descuento especial del 25% en todos los platos principales para clientes nivel '.concat(L.name,'. V\xe1lido de lunes a viernes, no acumulable con otras promociones."'),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 h-24"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Inicio"}),(0,ox.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Vencimiento"}),(0,ox.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"L\xedmites y Restricciones"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("input",{type:"checkbox",id:"max_uses",className:"rounded"}),(0,ox.jsx)("label",{htmlFor:"max_uses",className:"text-sm text-gray-600",children:"L\xedmite de usos por cliente"}),(0,ox.jsx)("input",{type:"number",placeholder:"1",className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("input",{type:"checkbox",id:"weekdays_only",className:"rounded"}),(0,ox.jsx)("label",{htmlFor:"weekdays_only",className:"text-sm text-gray-600",children:"Solo d\xedas de semana"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("input",{type:"checkbox",id:"min_purchase",className:"rounded"}),(0,ox.jsx)("label",{htmlFor:"min_purchase",className:"text-sm text-gray-600",children:"Compra m\xednima requerida"}),(0,ox.jsx)("input",{type:"number",placeholder:"50000",className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"}),(0,ox.jsx)("span",{className:"text-sm text-gray-500",children:"CLP"})]})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-lg border border-orange-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-orange-800 mb-3",children:"\ud83d\udc40 Vista Previa"}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("h4",{className:"font-bold text-gray-800",children:"Nueva Recompensa"}),(0,ox.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(L.badgeColor," ").concat(L.textColor),children:["Nivel ",L.name]})]}),(0,ox.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Descripci\xf3n de la recompensa aparecer\xe1 aqu\xed..."}),(0,ox.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,ox.jsx)("span",{className:"text-green-600 font-medium",children:"25% Descuento"}),(0,ox.jsxs)("span",{className:"text-gray-500",children:[L.starsRequired," Stars"]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-3",children:"\ud83d\udcca Configuraci\xf3n Avanzada"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notificaci\xf3n Autom\xe1tica"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,ox.jsx)("option",{children:"Enviar cuando el cliente alcance las stars"}),(0,ox.jsx)("option",{children:"Enviar solo cuando el cliente consulte"}),(0,ox.jsx)("option",{children:"No enviar notificaciones autom\xe1ticas"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Integraci\xf3n UserWebApp"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("input",{type:"checkbox",id:"show_in_app",className:"rounded",defaultChecked:!0}),(0,ox.jsx)("label",{htmlFor:"show_in_app",className:"text-sm text-gray-600",children:"Mostrar en app del cliente"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,ox.jsx)("input",{type:"checkbox",id:"push_notification",className:"rounded"}),(0,ox.jsx)("label",{htmlFor:"push_notification",className:"text-sm text-gray-600",children:"Enviar push notification"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-green-800 mb-3",children:"\ud83d\udcc8 Impacto Proyectado"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Clientes elegibles:"}),(0,ox.jsx)("span",{className:"font-medium",children:L.activeClients})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Uso estimado (30 d\xedas):"}),(0,ox.jsx)("span",{className:"font-medium",children:Math.floor(.45*L.activeClients)})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Costo estimado:"}),(0,ox.jsxs)("span",{className:"font-medium text-red-600",children:["-$",(850*L.activeClients).toLocaleString()]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Retorno esperado:"}),(0,ox.jsxs)("span",{className:"font-medium text-green-600",children:["+$",(2400*L.activeClients).toLocaleString()]})]}),(0,ox.jsx)("div",{className:"border-t pt-2 mt-2",children:(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-800 font-medium",children:"ROI Neto:"}),(0,ox.jsxs)("span",{className:"font-bold text-green-600",children:["+",(100*(2400*L.activeClients/(850*L.activeClients)-1)).toFixed(0),"%"]})]})})]})]}),(0,ox.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-yellow-800 mb-2",children:"\u26a0\ufe0f Recomendaciones KUMIA"}),(0,ox.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,ox.jsx)("li",{children:"\u2022 Mant\xe9n descuentos entre 15-30% para maximizar ROI"}),(0,ox.jsx)("li",{children:"\u2022 Considera horarios de menor demanda para ofertas especiales"}),(0,ox.jsx)("li",{children:"\u2022 Las recompensas temporales (7-14 d\xedas) generan m\xe1s urgencia"}),(0,ox.jsx)("li",{children:"\u2022 Combina con upselling para aumentar ticket promedio"})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,ox.jsx)("button",{onClick:()=>z(null),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{className:"flex-1 bg-blue-100 text-blue-700 px-6 py-3 rounded-lg hover:bg-blue-200 transition-colors",children:"\ud83d\udc40 Vista Previa Completa"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 NUEVA RECOMPENSA CREADA EXITOSAMENTE\n\n\ud83c\udf81 Recompensa para nivel ".concat(L.name," ha sido agregada al sistema:\n\n\ud83d\udccb Detalles:\n\u2022 Tipo: Descuento Porcentual\n\u2022 Valor: 25% de descuento\n\u2022 Stars requeridas: ").concat(L.starsRequired,"\n\u2022 Clientes elegibles: ").concat(L.activeClients,"\n\n\ud83d\ude80 Pr\xf3ximos pasos:\n\u2022 La recompensa estar\xe1 disponible inmediatamente\n\u2022 Se enviar\xe1 notificaci\xf3n a clientes elegibles\n\u2022 Se sincronizar\xe1 con UserWebApp en 5 minutos\n\u2022 Reportes disponibles en An\xe1lisis de Recompensas\n\n\ud83d\udcca Seguimiento: Recibir\xe1s m\xe9tricas de uso en el dashboard principal.")),z(null)},className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 font-bold",children:"\ud83c\udf81 Crear Recompensa"})]})]})})}),F&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["\ud83d\udcca An\xe1lisis Detallado - Nivel ",F.name]}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Insights completos y m\xe9tricas de rendimiento para este nivel"})]}),(0,ox.jsx)("button",{onClick:()=>U(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,ox.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-4",children:"\ud83d\udcc8 M\xe9tricas de Rendimiento (\xdaltimos 30 d\xedas)"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:F.activeClients}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:"Clientes Activos"}),(0,ox.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["+",Math.floor(15*Math.random()+5),"% vs mes anterior"]})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",(3200*F.multiplier*F.activeClients).toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-green-700",children:"Ingresos Generados"}),(0,ox.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["+",Math.floor(20*Math.random()+10),"% vs mes anterior"]})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.floor(85+5*F.multiplier),"%"]}),(0,ox.jsx)("div",{className:"text-sm text-purple-700",children:"Tasa de Retenci\xf3n"}),(0,ox.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["+",Math.floor(8*Math.random()+2),"% vs mes anterior"]})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[(2.3*F.multiplier).toFixed(1),"x"]}),(0,ox.jsx)("div",{className:"text-sm text-orange-700",children:"ROI Promedio"}),(0,ox.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["+",Math.floor(12*Math.random()+3),"% vs mes anterior"]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-green-800 mb-4",children:"\ud83d\udcb0 An\xe1lisis Econ\xf3mico Profundo"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Distribuci\xf3n de Ingresos"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Ventas directas"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:(0,ox.jsx)("div",{className:"w-3/5 h-2 bg-green-500 rounded-full"})}),(0,ox.jsx)("span",{className:"text-sm font-medium",children:"60%"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Upselling"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:(0,ox.jsx)("div",{className:"w-1/4 h-2 bg-blue-500 rounded-full"})}),(0,ox.jsx)("span",{className:"text-sm font-medium",children:"25%"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Referidos"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:(0,ox.jsx)("div",{className:"w-1/6 h-2 bg-purple-500 rounded-full"})}),(0,ox.jsx)("span",{className:"text-sm font-medium",children:"15%"})]})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Comportamiento de Gasto"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,ox.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:["$",(3200*F.multiplier).toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Ticket Promedio"})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,ox.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:[Math.floor(30-3*F.multiplier)," d\xedas"]}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Frecuencia de Visita"})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-lg font-bold text-gray-800",children:Math.floor(8*F.multiplier+5)}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Stars por Visita"})]})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-orange-800 mb-3",children:"\ud83c\udfc6 Comparativa con otros Niveles"}),(0,ox.jsx)("div",{className:"space-y-2",children:j.map(((e,t)=>(0,ox.jsxs)("div",{className:"p-2 rounded ".concat(e.id===F.id?"bg-orange-100 border border-orange-300":"bg-white"),children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm font-medium ".concat(e.id===F.id?"text-orange-800":"text-gray-700"),children:e.name}),(0,ox.jsxs)("span",{className:"text-xs ".concat(e.id===F.id?"text-orange-600":"text-gray-500"),children:["x",e.multiplier," (",e.activeClients,")"]})]}),e.id===F.id&&(0,ox.jsx)("div",{className:"text-xs text-orange-600 mt-1",children:"\u2190 Nivel actual"})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-purple-800 mb-3",children:"\ud83c\udfaf Oportunidades de Mejora"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ox.jsxs)("div",{className:"bg-white p-2 rounded",children:[(0,ox.jsxs)("div",{className:"font-medium text-purple-700",children:["Retenci\xf3n +",Math.floor(8*Math.random()+2),"%"]}),(0,ox.jsx)("div",{className:"text-purple-600 text-xs",children:"Programa de referidos mejorado"})]}),(0,ox.jsxs)("div",{className:"bg-white p-2 rounded",children:[(0,ox.jsxs)("div",{className:"font-medium text-purple-700",children:["Ticket +$",Math.floor(500*Math.random()+200)]}),(0,ox.jsx)("div",{className:"text-purple-600 text-xs",children:"Sugerencias personalizadas IA"})]}),(0,ox.jsxs)("div",{className:"bg-white p-2 rounded",children:[(0,ox.jsxs)("div",{className:"font-medium text-purple-700",children:["Conversi\xf3n +",Math.floor(15*Math.random()+5),"%"]}),(0,ox.jsx)("div",{className:"text-purple-600 text-xs",children:"Campa\xf1as segmentadas"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-indigo-800 mb-3",children:"\ud83e\udde0 Insights de IA"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm text-indigo-700",children:[(0,ox.jsxs)("p",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Patr\xf3n detectado:"})," Clientes de este nivel prefieren reservas ",Math.random()>.5?"entre semana":"de fin de semana"]}),(0,ox.jsxs)("p",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Horario \xf3ptimo:"})," ",Math.floor(4*Math.random()+18),":00 - ",Math.floor(3*Math.random()+20),":00 hrs"]}),(0,ox.jsxs)("p",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Plato favorito:"})," ",["Parrilla Premium","Salm\xf3n Ahumado","Risotto Trufa","Cordero Patag\xf3nico"][Math.floor(4*Math.random())]]}),(0,ox.jsxs)("p",{children:["\u2022 ",(0,ox.jsx)("strong",{children:"Pr\xf3xima acci\xf3n:"})," ",Math.random()>.5?"Campa\xf1a email personalizada":"Oferta WhatsApp exclusiva"]})]})]})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-4",children:[(0,ox.jsx)("button",{onClick:()=>U(null),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Cerrar"}),(0,ox.jsx)("button",{className:"flex-1 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udce4 Exportar An\xe1lisis"}),(0,ox.jsx)("button",{className:"flex-1 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors",children:"\ud83d\ude80 Implementar Recomendaciones"}),(0,ox.jsx)("button",{className:"flex-1 bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors",children:"\ud83d\udce7 Enviar a Equipo"})]})]})})})]})},mx=()=>{var e,t,s,n,a,i,o,l,c,u,m,h,p,x,g,f,b;const[v,y]=(0,r.useState)([{id:"meta",name:"Meta Business Suite",type:"social",status:"disconnected",icon:"\ud83d\udcf1",lastSync:null},{id:"google_reviews",name:"Google Reviews",type:"reviews",status:"disconnected",icon:"\u2b50",lastSync:null},{id:"whatsapp",name:"WhatsApp Business",type:"messaging",status:"disconnected",icon:"\ud83d\udcac",lastSync:null},{id:"gemini",name:"Google Gemini",type:"ai",status:"connected",icon:"\ud83e\udde0",lastSync:"2024-01-15 11:15"},{id:"mercadopago",name:"MercadoPago",type:"payment",status:"disconnected",icon:"\ud83d\udcb3",lastSync:null},{id:"erp",name:"Restaurant ERP",type:"erp",status:"disconnected",icon:"\ud83c\udfe2",lastSync:null}]),[j,N]=(0,r.useState)({meta:{app_id:"",app_secret:"",phone_number_id:""},google_reviews:{location_id:"",service_account_key:""},whatsapp:{account_id:"",access_token:""},gemini:{api_key:"AIzaSyBCKR7mxd9ZpknkKcl8l6eQ7JsjmS05mcE"},mercadopago:{app_id:"",access_token:""},erp:{type:"erpnext",endpoint_url:"",api_key:"",api_secret:"",oauth_token:"",location_id:"",pos_profile:"",test_mode:!0,sync_frequency:"realtime",webhook_url:"",enable_webhooks:!1}}),[w,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)(""),E=[{id:"erpnext",name:"ERPNext",logo:"\ud83d\udd35",category:"Open Source",description:"Sistema ERP open-source con API REST completa",region:"Global",complexity:"Medium",features:["Orders API","Inventory Sync","Kitchen Status","OAuth Support"],endpoints:{orders:"/api/resource/Sales Order",items:"/api/resource/Item",customers:"/api/resource/Customer"},auth_method:"API Key + Token",documentation:"https://frappeframework.com/docs/v13/user/en/api",sync_support:["realtime","webhooks","polling"]},{id:"odoo",name:"Odoo POS Restaurant",logo:"\ud83d\udfe3",category:"Open Source",description:"M\xf3dulo POS Restaurant con flujo completo sala-cocina",region:"Global",complexity:"Medium",features:["Real-time Orders","Kitchen Display","Inventory Integration","JSON-RPC API"],endpoints:{orders:"/api/pos/orders",products:"/api/pos/products",sessions:"/api/pos/sessions"},auth_method:"OAuth 2.0",documentation:"https://www.odoo.com/documentation/14.0/webservices/odoo_api.html",sync_support:["realtime","webhooks","polling"]},{id:"metasfresh",name:"Metasfresh",logo:"\ud83d\udfe2",category:"Open Source",description:"ERP open-source con API REST y enfoque en automatizaci\xf3n",region:"Global",complexity:"High",features:["REST API","Order Management","Inventory Control","Workflow Automation"],endpoints:{orders:"/api/v1/orders",products:"/api/v1/products",business_partners:"/api/v1/bpartners"},auth_method:"API Key",documentation:"https://docs.metasfresh.org/webui_api/",sync_support:["polling","webhooks"]},{id:"oracle_simphony",name:"Oracle Simphony POS",logo:"\ud83d\udd34",category:"Enterprise",description:"Sistema enterprise con APIs RESTful avanzadas",region:"Global",complexity:"High",features:["Real-time Orders","Bidirectional Status","Delivery Integration","Secure Auth"],endpoints:{orders:"/api/v1/transactions",status:"/api/v1/orders/status",menu:"/api/v1/menu"},auth_method:"OAuth 2.0 + API Key",documentation:"https://docs.oracle.com/en/industries/hospitality/simphony.html",sync_support:["realtime","webhooks","polling"]},{id:"sap_s4hana",name:"SAP S/4HANA F&B",logo:"\ud83d\udd35",category:"Enterprise",description:"SAP S/4HANA con m\xf3dulo Food & Beverage",region:"Global",complexity:"Very High",features:["OData Services","ABAP RESTful Services","Business Events","Integration Suite"],endpoints:{orders:"/sap/opu/odata/sap/API_SALES_ORDER_SRV",products:"/sap/opu/odata/sap/API_PRODUCT_SRV",business_partner:"/sap/opu/odata/sap/API_BUSINESS_PARTNER"},auth_method:"OAuth 2.0 + SAML",documentation:"https://api.sap.com/",sync_support:["realtime","webhooks","polling"]},{id:"netsuite",name:"Oracle NetSuite",logo:"\ud83d\udfe0",category:"Enterprise",description:"ERP en la nube con SuiteScript y REST APIs",region:"Global",complexity:"High",features:["SuiteScript","RESTlets","SuiteTalk","Workflow Automation"],endpoints:{orders:"/app/common/entity/salesord.nl",items:"/app/common/item/item.nl",customers:"/app/common/entity/custjob.nl"},auth_method:"OAuth 2.0 + Token",documentation:"https://docs.oracle.com/en/cloud/saas/netsuite/ns-online-help/book_1559132836.html",sync_support:["realtime","webhooks","polling"]},{id:"infor_cloudsuite",name:"Infor CloudSuite F&B",logo:"\ud83d\udfe1",category:"Enterprise",description:"Suite especializada para Food & Beverage con APIs robustas",region:"Global",complexity:"High",features:["ION API","Recipe Management","Cost Control","Multi-location"],endpoints:{orders:"/IONAPI/LN/orders",recipes:"/IONAPI/LN/recipes",inventory:"/IONAPI/LN/inventory"},auth_method:"OAuth 2.0",documentation:"https://docs.infor.com/cloudsuite/",sync_support:["realtime","webhooks","polling"]},{id:"dynamics_365",name:"Microsoft Dynamics 365",logo:"\ud83d\udd37",category:"Enterprise",description:"Business Central con m\xf3dulos de restaurante",region:"Global",complexity:"High",features:["Web API","OData v4","Power Platform Integration","AI Insights"],endpoints:{orders:"/api/v2.0/companies/orders",items:"/api/v2.0/companies/items",customers:"/api/v2.0/companies/customers"},auth_method:"OAuth 2.0 + Azure AD",documentation:"https://docs.microsoft.com/en-us/dynamics365/business-central/dev-itpro/api-reference/v2.0/",sync_support:["realtime","webhooks","polling"]},{id:"soft_restaurant",name:"Soft Restaurant",logo:"\ud83d\udfe0",category:"Cloud POS",description:"ERP latinoamericano l\xedder con m\xf3dulo t\xe9cnico ERP-POS",region:"LATAM",complexity:"Medium",features:["Orders API","Kitchen Status","Inventory Sync","POS Integration"],endpoints:{orders:"/api/orders",kitchen:"/api/kitchen/status",inventory:"/api/inventory"},auth_method:"API Key",documentation:"Manual PDF disponible",sync_support:["polling","webhooks"]},{id:"restroworks",name:"Restroworks Platform",logo:"\ud83d\udd36",category:"Cloud POS",description:"Plataforma cloud india con API abierta y multi-ERP",region:"Global",complexity:"Medium",features:["Real-time Orders","Kitchen Monitoring","Multi-ERP Integration","SFTP Support"],endpoints:{orders:"/api/v2/orders",kitchen:"/api/v2/kitchen",reporting:"/api/v2/reports"},auth_method:"OAuth 2.0",documentation:"https://api.restroworks.com/docs",sync_support:["realtime","webhooks","polling"]},{id:"toteat",name:"Toteat",logo:"\ud83d\udd38",category:"Cloud POS",description:"Plataforma cloud espa\xf1ola especializada en restauraci\xf3n",region:"Europe",complexity:"Low",features:["Orders API","Kitchen Display","Menu Management","Real-time Sync"],endpoints:{orders:"/api/v1/orders",menu:"/api/v1/menu",tables:"/api/v1/tables"},auth_method:"API Key + Bearer Token",documentation:"https://developers.toteat.es/",sync_support:["realtime","polling"]},{id:"poster_pos",name:"Poster POS (JoinPoster)",logo:"\ud83d\udfeb",category:"Cloud POS",description:"POS europeo popular con API REST completa",region:"Europe",complexity:"Medium",features:["Orders API","Menu Sync","Analytics","Multi-location"],endpoints:{orders:"/api/v3/transactions",menu:"/api/v3/menu",spots:"/api/v3/spots"},auth_method:"API Key",documentation:"https://api.joinposter.com/",sync_support:["realtime","webhooks","polling"]},{id:"rkeeper",name:"R-Keeper",logo:"\ud83d\udfe5",category:"Cloud POS",description:"Sistema hospitalario con integraci\xf3n API especializada",region:"Global",complexity:"High",features:["Order Management","Kitchen Integration","Multi-concept","Enterprise Features"],endpoints:{orders:"/rk7api/v1/orders",menu:"/rk7api/v1/menu",stations:"/rk7api/v1/stations"},auth_method:"API Key + Session",documentation:"https://www.ucs.ru/en/rkeeper-integration/",sync_support:["realtime","polling"]},{id:"revel_systems",name:"Revel Systems",logo:"\ud83d\udd33",category:"Cloud POS",description:"POS estadounidense con API REST y integraci\xf3n nativa",region:"US",complexity:"Medium",features:["Orders API","Inventory Management","Reporting","Third-party Integration"],endpoints:{orders:"/api/v1/orders/",products:"/api/v1/products/",customers:"/api/v1/customers/"},auth_method:"API Key + Secret",documentation:"https://revelsystems.com/developers/",sync_support:["realtime","webhooks","polling"]},{id:"lightspeed_restaurant",name:"Lightspeed Restaurant",logo:"\ud83d\udfe1",category:"Cloud POS",description:"Lightspeed especializado en restaurantes con API robusta",region:"Global",complexity:"Medium",features:["Orders API","Menu Management","Kitchen Display","Analytics"],endpoints:{orders:"/API/Account/{accountID}/Order",menu:"/API/Account/{accountID}/Item",tables:"/API/Account/{accountID}/Table"},auth_method:"OAuth 2.0",documentation:"https://developers.lightspeedpos.com/",sync_support:["realtime","webhooks","polling"]},{id:"square_restaurants",name:"Square for Restaurants",logo:"\u2b1b",category:"Cloud POS",description:"Square especializado en restaurantes con API excelente",region:"Global",complexity:"Low",features:["Orders API","Payments","Menu Sync","Real-time Updates"],endpoints:{orders:"/v2/orders",catalog:"/v2/catalog",locations:"/v2/locations"},auth_method:"OAuth 2.0 + Bearer Token",documentation:"https://developer.squareup.com/docs/",sync_support:["realtime","webhooks","polling"]},{id:"touchbistro",name:"TouchBistro",logo:"\ud83d\udd18",category:"Cloud POS",description:"POS canadiense especializado en restaurantes",region:"North America",complexity:"Medium",features:["Orders API","Table Management","Kitchen Display","Staff Management"],endpoints:{orders:"/api/v1/orders",menu:"/api/v1/menu",tables:"/api/v1/tables"},auth_method:"API Key",documentation:"https://www.touchbistro.com/developers/",sync_support:["realtime","webhooks","polling"]},{id:"toast_pos",name:"Toast POS",logo:"\ud83d\udfe4",category:"Cloud POS",description:"POS estadounidense l\xedder con API comprehensiva",region:"US",complexity:"Medium",features:["Orders API","Menu Management","Kitchen Display","Advanced Analytics"],endpoints:{orders:"/orders/v2/orders",menu:"/config/v2/menuitems",restaurants:"/config/v2/restaurants"},auth_method:"OAuth 2.0",documentation:"https://doc.toasttab.com/",sync_support:["realtime","webhooks","polling"]},{id:"lavu_pos",name:"Lavu POS",logo:"\ud83d\udd34",category:"Cloud POS",description:"POS con API REST y enfoque en integraci\xf3n",region:"US",complexity:"Medium",features:["Orders API","Menu Sync","Reporting","Third-party Apps"],endpoints:{orders:"/api/v1/orders",menu:"/api/v1/menu",customers:"/api/v1/customers"},auth_method:"API Key + Token",documentation:"https://www.lavu.com/api-documentation/",sync_support:["realtime","webhooks","polling"]},{id:"apicbase",name:"Apicbase CRP",logo:"\ud83d\udfea",category:"Kitchen Management",description:"Culinary Resource Planning especializada en trazabilidad",region:"Global",complexity:"High",features:["Recipe Management","Kitchen Traceability","Multi-site Support","Production Estimates"],endpoints:{orders:"/api/v1/orders",recipes:"/api/v1/recipes",production:"/api/v1/production"},auth_method:"API Key + OAuth",documentation:"https://developers.apicbase.com",sync_support:["realtime","webhooks","polling"]},{id:"marketman",name:"MarketMan",logo:"\ud83d\udcca",category:"Kitchen Management",description:"Gesti\xf3n de inventarios con API para automatizaci\xf3n",region:"Global",complexity:"Medium",features:["Inventory API","Cost Control","Supplier Integration","Analytics"],endpoints:{inventory:"/api/v1/inventory",suppliers:"/api/v1/suppliers",orders:"/api/v1/purchase-orders"},auth_method:"API Key",documentation:"https://marketman.com/api-docs/",sync_support:["polling","webhooks"]},{id:"chowly",name:"Chowly",logo:"\ud83d\ude9a",category:"Kitchen Management",description:"Plataforma de integraci\xf3n especializada en delivery",region:"US",complexity:"Low",features:["Order Aggregation","POS Integration","Menu Sync","Real-time Updates"],endpoints:{orders:"/api/v1/orders",menus:"/api/v1/menus",locations:"/api/v1/locations"},auth_method:"API Key",documentation:"https://chowly.com/developers/",sync_support:["realtime","webhooks","polling"]},{id:"openbravo",name:"Openbravo Commerce Cloud",logo:"\ud83c\udf10",category:"Omnichannel",description:"Plataforma omnicanal con vertical Ho-Re-Ca",region:"Global",complexity:"High",features:["REST API","Omnichannel","Retail Integration","Cloud Native"],endpoints:{orders:"/openbravo/ws/dal/Order",products:"/openbravo/ws/dal/Product",business_partner:"/openbravo/ws/dal/BusinessPartner"},auth_method:"Basic Auth + API Key",documentation:"https://wiki.openbravo.com/wiki/Web_Services",sync_support:["realtime","webhooks","polling"]},{id:"hiopos",name:"HIOPOS Cloud",logo:"\u2601\ufe0f",category:"Omnichannel",description:"POS espa\xf1ol con capacidades omnicanal",region:"Spain",complexity:"Medium",features:["Cloud API","Multi-device","Inventory Sync","Customer Management"],endpoints:{orders:"/api/v1/orders",articles:"/api/v1/articles",customers:"/api/v1/customers"},auth_method:"API Key + Token",documentation:"https://www.hiopos.com/api-documentation/",sync_support:["realtime","polling"]},{id:"sevenrooms",name:"SevenRooms",logo:"\ud83d\udd37",category:"Reservations",description:"Plataforma de reservas con API de gesti\xf3n completa",region:"Global",complexity:"Medium",features:["Reservations API","Guest Management","Table Management","Event Planning"],endpoints:{reservations:"/api/v1/reservations",guests:"/api/v1/guests",venues:"/api/v1/venues"},auth_method:"OAuth 2.0",documentation:"https://developers.sevenrooms.com/",sync_support:["realtime","webhooks","polling"]},{id:"zenchef",name:"Zenchef",logo:"\ud83d\udc68\u200d\ud83c\udf73",category:"Reservations",description:"Sistema de reservas europeo con API REST",region:"Europe",complexity:"Low",features:["Booking API","Table Management","Customer Data","Marketing Tools"],endpoints:{bookings:"/api/v1/bookings",tables:"/api/v1/tables",customers:"/api/v1/customers"},auth_method:"API Key",documentation:"https://developers.zenchef.com/",sync_support:["realtime","polling"]},{id:"resy",name:"Resy (OpenTable API)",logo:"\ud83c\udf7d\ufe0f",category:"Reservations",description:"Reservas con API de OpenTable integrada",region:"Global",complexity:"Medium",features:["Reservations API","Availability Check","Guest Profiles","Waitlist Management"],endpoints:{reservations:"/api/v2/reservations",availability:"/api/v2/availability",restaurants:"/api/v2/restaurants"},auth_method:"OAuth 2.0",documentation:"https://platform.opentable.com/documentation/",sync_support:["realtime","webhooks","polling"]}],_=E.reduce(((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e)),{}),A={"Open Source":"\ud83e\udde0",Enterprise:"\ud83c\udfe2","Cloud POS":"\ud83c\udf0e","Kitchen Management":"\ud83e\uddec",Omnichannel:"\ud83d\udcca",Reservations:"\ud83e\uddd1\u200d\ud83c\udf73"},I=(e,t,s)=>{N((n=>d(d({},n),{},{[e]:d(d({},n[e]),{},{[t]:s})})))},T=async e=>{const t=j[e];if("erp"===e&&!S)return void alert("\u26a0\ufe0f Por favor selecciona un ERP primero");Object.values(t).some((e=>""!==e.toString().trim()))?(y((t=>t.map((t=>t.id===e?d(d({},t),{},{status:"connected",lastSync:(new Date).toISOString()}):t)))),alert("\u2705 ".concat(e," conectado exitosamente!")),"erp"===e&&k(!1)):alert("\u26a0\ufe0f Por favor completa al menos un campo de credenciales")},P=e=>{y((t=>t.map((t=>t.id===e?d(d({},t),{},{status:"disconnected",lastSync:null}):t))))},R=async e=>{alert("\ud83d\udd04 Probando conexi\xf3n para ".concat(e,"...")),setTimeout((()=>{alert("\u2705 Conexi\xf3n exitosa - Endpoint respondiendo correctamente")}),2e3)},O=()=>E.find((e=>e.id===S)),M=e=>{const t={realtime:{label:"Tiempo Real",description:"Webhooks + Updates instant\xe1neos",cost:"Alto",pros:["Sincronizaci\xf3n instant\xe1nea","Mejor experiencia usuario","Datos siempre actualizados"],cons:["Mayor costo de infraestructura","M\xe1s llamadas API","Requiere webhooks"]},"1min":{label:"Cada 1 minuto",description:"Polling cada minuto",cost:"Alto",pros:["Casi tiempo real","Buena para operaciones r\xe1pidas","Sin webhooks requeridos"],cons:["1440 llamadas/d\xeda","Costo elevado","Delay de 1 minuto"]},"5min":{label:"Cada 5 minutos",description:"Polling cada 5 minutos",cost:"Medio",pros:["Balance costo-beneficio","Suficiente para la mayor\xeda","Delay aceptable"],cons:["288 llamadas/d\xeda","Delay de hasta 5 minutos","Costo medio"]},"15min":{label:"Cada 15 minutos",description:"Polling cada 15 minutos",cost:"Bajo",pros:["Econ\xf3mico","96 llamadas/d\xeda","Suficiente para reportes"],cons:["Delay de hasta 15 minutos","No ideal para operaciones urgentes"]},"30min":{label:"Cada 30 minutos",description:"Polling cada 30 minutos",cost:"Muy Bajo",pros:["Muy econ\xf3mico","48 llamadas/d\xeda","Ideal para analytics"],cons:["Delay de hasta 30 minutos","No para operaciones tiempo real"]},"1hour":{label:"Cada hora",description:"Polling cada hora",cost:"M\xednimo",pros:["Costo m\xednimo","24 llamadas/d\xeda","Perfecto para reportes"],cons:["Delay de hasta 1 hora","Solo para datos no cr\xedticos"]}};return t[e]||t["5min"]};return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udd17 Integraciones"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Conecta tu ecosistema completo - UserWebApp \u2194 Dashboard \u2194 ERP"})]}),(0,ox.jsx)("div",{className:"flex items-center space-x-2",children:(0,ox.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ox.jsx)("span",{className:"inline-block w-3 h-3 bg-green-400 rounded-full mr-2"}),"Sistema Unificado"]})})]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map((e=>{var t,s;return(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 ".concat("erp"===e.id?"md:col-span-2 lg:col-span-3":""),children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mr-3 ".concat("meta"===e.id?"bg-gradient-to-r from-blue-500 to-indigo-500":"google_reviews"===e.id?"bg-gradient-to-r from-yellow-500 to-orange-500":"whatsapp"===e.id?"bg-gradient-to-r from-green-500 to-emerald-500":"gemini"===e.id?"bg-gradient-to-r from-purple-500 to-pink-500":"mercadopago"===e.id?"bg-gradient-to-r from-blue-600 to-cyan-500":"erp"===e.id?"bg-gradient-to-r from-orange-500 to-red-500":"bg-gradient-to-r from-gray-500 to-gray-700"),children:(0,ox.jsx)("span",{className:"text-white text-xl",children:e.icon})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:e.name}),(0,ox.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:e.type})]})]}),(0,ox.jsx)("span",{className:"w-4 h-4 rounded-full ".concat("connected"===e.status?"bg-green-400":"bg-gray-400")})]}),(0,ox.jsx)("div",{className:"mb-4",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("span",{className:"text-sm font-medium ".concat("connected"===e.status?"text-green-600":"text-gray-600"),children:"connected"===e.status?"\u2705 Conectado":"\ud83d\udd34 Desconectado"}),e.lastSync&&(0,ox.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.lastSync).toLocaleString()})]})}),"erp"===e.id&&(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-orange-800 mb-2",children:"\ud83c\udfaf Integraci\xf3n UserWebApp \u2194 ERP"}),(0,ox.jsx)("p",{className:"text-sm text-orange-700 mb-3",children:"Los pedidos del UserWebApp se enviar\xe1n autom\xe1ticamente a tu ERP sin intervenci\xf3n manual"}),(0,ox.jsx)("button",{onClick:()=>k(!0),className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors",children:"\ud83c\udfe2 Configurar ERP de Restaurante"})]}),"connected"===e.status&&S&&(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-green-800 mb-2",children:"\u2705 ERP Conectado"}),(0,ox.jsxs)("p",{className:"text-sm text-green-700",children:[(0,ox.jsx)("strong",{children:null===(t=O())||void 0===t?void 0:t.name})," - ",null===(s=O())||void 0===s?void 0:s.description]}),(0,ox.jsxs)("div",{className:"mt-2 flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>R("erp"),className:"flex-1 bg-green-100 text-green-700 py-2 px-3 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"\ud83e\uddea Test API"}),(0,ox.jsx)("button",{onClick:()=>P("erp"),className:"flex-1 bg-red-100 text-red-700 py-2 px-3 rounded-lg text-sm hover:bg-red-200 transition-colors",children:"\ud83d\udd0c Desconectar"})]})]})]}),"erp"!==e.id&&(0,ox.jsxs)("div",{className:"space-y-3",children:["meta"===e.id&&(0,ox.jsxs)(ox.Fragment,{children:[(0,ox.jsx)("input",{type:"text",placeholder:"Meta App ID",value:j.meta.app_id,onChange:e=>I("meta","app_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,ox.jsx)("input",{type:"password",placeholder:"Meta App Secret",value:j.meta.app_secret,onChange:e=>I("meta","app_secret",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,ox.jsx)("input",{type:"text",placeholder:"WhatsApp Phone Number ID",value:j.meta.phone_number_id,onChange:e=>I("meta","phone_number_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),"google_reviews"===e.id&&(0,ox.jsxs)(ox.Fragment,{children:[(0,ox.jsx)("input",{type:"text",placeholder:"Google My Business Location ID",value:j.google_reviews.location_id,onChange:e=>I("google_reviews","location_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,ox.jsx)("input",{type:"password",placeholder:"Google Service Account Key",value:j.google_reviews.service_account_key,onChange:e=>I("google_reviews","service_account_key",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),"whatsapp"===e.id&&(0,ox.jsxs)(ox.Fragment,{children:[(0,ox.jsx)("input",{type:"text",placeholder:"WhatsApp Business Account ID",value:j.whatsapp.account_id,onChange:e=>I("whatsapp","account_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,ox.jsx)("input",{type:"password",placeholder:"WhatsApp Access Token",value:j.whatsapp.access_token,onChange:e=>I("whatsapp","access_token",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),"gemini"===e.id&&(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,ox.jsx)("span",{className:"text-sm text-green-700",children:"\u2705 Google Gemini 2.0"}),(0,ox.jsx)("span",{className:"text-xs text-green-600",children:"Configurado"})]}),(0,ox.jsx)("input",{type:"password",placeholder:"Google Gemini API Key",value:j.gemini.api_key,onChange:e=>I("gemini","api_key",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:"connected"===e.status})]}),"mercadopago"===e.id&&(0,ox.jsxs)(ox.Fragment,{children:[(0,ox.jsx)("input",{type:"text",placeholder:"MercadoPago App ID",value:j.mercadopago.app_id,onChange:e=>I("mercadopago","app_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,ox.jsx)("input",{type:"password",placeholder:"MercadoPago Access Token",value:j.mercadopago.access_token,onChange:e=>I("mercadopago","access_token",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,ox.jsx)("div",{className:"flex space-x-2 mt-4",children:"connected"===e.status?(0,ox.jsxs)(ox.Fragment,{children:[(0,ox.jsx)("button",{onClick:()=>R(e.id),className:"flex-1 bg-green-100 text-green-700 py-2 px-3 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"\ud83e\uddea Probar"}),(0,ox.jsx)("button",{onClick:()=>P(e.id),className:"flex-1 bg-red-100 text-red-700 py-2 px-3 rounded-lg text-sm hover:bg-red-200 transition-colors",children:"\ud83d\udd0c Desconectar"})]}):(0,ox.jsxs)("button",{onClick:()=>T(e.id),className:"w-full text-white py-2 px-3 rounded-lg text-sm hover:opacity-90 transition-colors ".concat("meta"===e.id?"bg-blue-500 hover:bg-blue-600":"google_reviews"===e.id?"bg-yellow-500 hover:bg-yellow-600":"whatsapp"===e.id?"bg-green-500 hover:bg-green-600":"gemini"===e.id?"bg-purple-500 hover:bg-purple-600":"mercadopago"===e.id?"bg-blue-600 hover:bg-blue-700":"bg-gray-600 hover:bg-gray-700"),children:["\ud83d\udd17 Conectar ",e.name]})})]})]},e.id)}))}),w&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfe2 Configurar ERP de Restaurante"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Conecta tu sistema de gesti\xf3n para automatizar pedidos del UserWebApp"})]}),(0,ox.jsx)("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),S?(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-10 h-10 flex items-center justify-center mr-3 bg-gray-100 rounded-lg",children:(0,ox.jsx)("span",{className:"text-xl",children:null===(e=O())||void 0===e?void 0:e.logo})}),(0,ox.jsxs)("h3",{className:"text-lg font-bold text-gray-800",children:["\ud83d\udcd6 ",null===(t=O())||void 0===t?void 0:t.name]})]}),(0,ox.jsx)("button",{onClick:()=>C(""),className:"text-orange-600 hover:text-orange-800 text-sm",children:"\u2190 Cambiar ERP"})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Categor\xeda:"}),(0,ox.jsx)("p",{className:"text-sm text-blue-700",children:null===(s=O())||void 0===s?void 0:s.category})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Regi\xf3n:"}),(0,ox.jsx)("p",{className:"text-sm text-blue-700",children:null===(n=O())||void 0===n?void 0:n.region})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Complejidad:"}),(0,ox.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs ".concat("Low"===(null===(a=O())||void 0===a?void 0:a.complexity)?"bg-green-100 text-green-800":"Medium"===(null===(i=O())||void 0===i?void 0:i.complexity)?"bg-yellow-100 text-yellow-800":"High"===(null===(o=O())||void 0===o?void 0:o.complexity)?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"),children:null===(l=O())||void 0===l?void 0:l.complexity})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Auth:"}),(0,ox.jsx)("p",{className:"text-sm text-blue-700",children:null===(c=O())||void 0===c?void 0:c.auth_method})]})]}),(0,ox.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:null===(u=O())||void 0===u?void 0:u.description}),(0,ox.jsxs)("div",{className:"mb-3",children:[(0,ox.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Caracter\xedsticas:"}),(0,ox.jsx)("div",{className:"flex flex-wrap gap-1",children:null===(m=O())||void 0===m?void 0:m.features.map((e=>(0,ox.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:e},e)))})]}),(0,ox.jsxs)("div",{className:"mb-3",children:[(0,ox.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Endpoints principales:"}),(0,ox.jsx)("div",{className:"bg-white p-2 rounded border",children:Object.entries((null===(h=O())||void 0===h?void 0:h.endpoints)||{}).map((e=>{let[t,s]=e;return(0,ox.jsxs)("div",{className:"text-xs",children:[(0,ox.jsxs)("span",{className:"font-mono text-gray-600",children:[t,":"]}),(0,ox.jsx)("span",{className:"font-mono text-blue-600 ml-1",children:s})]},t)}))})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Documentaci\xf3n:"}),(0,ox.jsx)("a",{href:null===(p=O())||void 0===p?void 0:p.documentation,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline",children:null===(x=O())||void 0===x?void 0:x.documentation})]})]}),(0,ox.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-yellow-800 mb-2",children:"\u26a0\ufe0f Flujo de Integraci\xf3n"}),(0,ox.jsxs)("div",{className:"text-sm text-yellow-700 space-y-1",children:[(0,ox.jsx)("p",{children:"1. Cliente hace pedido en UserWebApp"}),(0,ox.jsx)("p",{children:"2. Pedido se env\xeda autom\xe1ticamente al ERP"}),(0,ox.jsx)("p",{children:"3. ERP procesa y actualiza estado (preparaci\xf3n \u2192 listo)"}),(0,ox.jsx)("p",{children:"4. Cliente recibe notificaciones en tiempo real"}),(0,ox.jsx)("p",{children:"5. Sin intervenci\xf3n manual del personal"})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"\u2699\ufe0f Configuraci\xf3n"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ox.jsx)("input",{type:"text",placeholder:"API Endpoint URL",value:j.erp.endpoint_url,onChange:e=>I("erp","endpoint_url",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,ox.jsx)("input",{type:"text",placeholder:"Location ID / Store ID",value:j.erp.location_id,onChange:e=>I("erp","location_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ox.jsx)("input",{type:"text",placeholder:"API Key",value:j.erp.api_key,onChange:e=>I("erp","api_key",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,ox.jsx)("input",{type:"password",placeholder:"API Secret",value:j.erp.api_secret,onChange:e=>I("erp","api_secret",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,ox.jsx)("input",{type:"text",placeholder:"OAuth Token (opcional)",value:j.erp.oauth_token,onChange:e=>I("erp","oauth_token",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-purple-800 mb-3",children:"\u26a1 Frecuencia de Sincronizaci\xf3n"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("select",{value:j.erp.sync_frequency,onChange:e=>I("erp","sync_frequency",e.target.value),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,ox.jsx)("option",{value:"realtime",children:"\u26a1 Tiempo Real (Webhooks)"}),(0,ox.jsx)("option",{value:"1min",children:"\ud83d\udfe2 Cada 1 minuto"}),(0,ox.jsx)("option",{value:"5min",children:"\ud83d\udfe1 Cada 5 minutos (Recomendado)"}),(0,ox.jsx)("option",{value:"15min",children:"\ud83d\udfe0 Cada 15 minutos"}),(0,ox.jsx)("option",{value:"30min",children:"\ud83d\udd34 Cada 30 minutos"}),(0,ox.jsx)("option",{value:"1hour",children:"\u26ab Cada hora"})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-purple-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-purple-800",children:M(j.erp.sync_frequency).label}),(0,ox.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("Alto"===M(j.erp.sync_frequency).cost?"bg-red-100 text-red-800":"Medio"===M(j.erp.sync_frequency).cost?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:["Costo: ",M(j.erp.sync_frequency).cost]})]}),(0,ox.jsx)("p",{className:"text-xs text-purple-700 mb-2",children:M(j.erp.sync_frequency).description}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("p",{className:"text-xs font-medium text-green-700 mb-1",children:"\u2705 Pros:"}),(0,ox.jsx)("ul",{className:"text-xs text-green-600 space-y-0.5",children:M(j.erp.sync_frequency).pros.map((e=>(0,ox.jsxs)("li",{children:["\u2022 ",e]},e)))})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("p",{className:"text-xs font-medium text-red-700 mb-1",children:"\u274c Cons:"}),(0,ox.jsx)("ul",{className:"text-xs text-red-600 space-y-0.5",children:M(j.erp.sync_frequency).cons.map((e=>(0,ox.jsxs)("li",{children:["\u2022 ",e]},e)))})]})]})]}),"realtime"===j.erp.sync_frequency&&(0,ox.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[(0,ox.jsx)("h5",{className:"font-bold text-green-800 mb-2",children:"\ud83d\udd17 Configuraci\xf3n de Webhooks"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("input",{type:"checkbox",id:"enable_webhooks",checked:j.erp.enable_webhooks,onChange:e=>I("erp","enable_webhooks",e.target.checked),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),(0,ox.jsx)("label",{htmlFor:"enable_webhooks",className:"text-sm text-green-700",children:"Activar Webhooks (recomendado para tiempo real)"})]}),j.erp.enable_webhooks&&(0,ox.jsx)("input",{type:"text",placeholder:"URL del Webhook KUMIA (se proporcionar\xe1 autom\xe1ticamente)",value:j.erp.webhook_url,onChange:e=>I("erp","webhook_url",e.target.value),className:"w-full px-3 py-2 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",disabled:!0})]})]})]})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("input",{type:"checkbox",id:"test_mode",checked:j.erp.test_mode,onChange:e=>I("erp","test_mode",e.target.checked),className:"w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500"}),(0,ox.jsx)("label",{htmlFor:"test_mode",className:"text-sm text-gray-700",children:"Modo de prueba (recomendado para primeras configuraciones)"})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,ox.jsxs)("h4",{className:"font-bold text-green-800 mb-2",children:["\u2705 Ventajas de ",null===(g=O())||void 0===g?void 0:g.name]}),(0,ox.jsxs)("ul",{className:"text-sm text-green-700 space-y-1",children:[(0,ox.jsx)("li",{children:"\u2022 Integraci\xf3n nativa con KUMIA"}),(0,ox.jsx)("li",{children:"\u2022 Sincronizaci\xf3n en tiempo real"}),(0,ox.jsx)("li",{children:"\u2022 Soporte t\xe9cnico especializado"}),(0,ox.jsx)("li",{children:"\u2022 Configuraci\xf3n guiada paso a paso"})]})]}),"High"===(null===(f=O())||void 0===f?void 0:f.complexity)||"Very High"===(null===(b=O())||void 0===b?void 0:b.complexity)?(0,ox.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-red-800 mb-2",children:"\ud83d\udea8 Sistema Enterprise"}),(0,ox.jsx)("p",{className:"text-sm text-red-700",children:"Este sistema requiere configuraci\xf3n avanzada. Recomendamos contactar nuestro equipo de integraci\xf3n para obtener asistencia t\xe9cnica especializada."})]}):null]})]}):(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"text-center mb-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"\ud83d\udccb Selecciona tu ERP / POS"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Elige de nuestra lista de +30 sistemas integrados"})]}),(0,ox.jsx)("div",{className:"space-y-6",children:Object.entries(_).map((e=>{let[t,s]=e;return(0,ox.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,ox.jsxs)("h4",{className:"flex items-center font-bold text-gray-800 mb-3",children:[(0,ox.jsx)("span",{className:"text-2xl mr-2",children:A[t]}),t,(0,ox.jsxs)("span",{className:"ml-2 text-sm bg-gray-200 text-gray-600 px-2 py-1 rounded-full",children:[s.length," sistemas"]})]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.map((e=>(0,ox.jsxs)("div",{className:"bg-white p-3 rounded-lg border-2 border-gray-200 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all",onClick:()=>{return t=e.id,C(t),void N((e=>d(d({},e),{},{erp:d(d({},e.erp),{},{type:t})})));var t},children:[(0,ox.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ox.jsx)("div",{className:"w-8 h-8 flex items-center justify-center mr-3 bg-gray-100 rounded-lg",children:(0,ox.jsx)("span",{className:"text-lg",children:e.logo})}),(0,ox.jsxs)("div",{className:"flex-1",children:[(0,ox.jsx)("h5",{className:"font-bold text-gray-800 text-sm",children:e.name}),(0,ox.jsxs)("div",{className:"flex items-center space-x-1 mt-1",children:[(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("Low"===e.complexity?"bg-green-100 text-green-800":"Medium"===e.complexity?"bg-yellow-100 text-yellow-800":"High"===e.complexity?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"),children:e.complexity}),(0,ox.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:e.region})]})]})]}),(0,ox.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:e.description}),(0,ox.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.features.slice(0,2).map((e=>(0,ox.jsx)("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:e},e))),e.features.length>2&&(0,ox.jsxs)("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",e.features.length-2," m\xe1s"]})]})]},e.id)))})]},t)}))}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 text-center",children:[(0,ox.jsx)("h4",{className:"font-bold text-blue-800 mb-2",children:"\xbfNo encuentras tu sistema?"}),(0,ox.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Contacta nuestro equipo de integraci\xf3n para a\xf1adir tu ERP a la lista"}),(0,ox.jsx)("button",{onClick:()=>{const e=encodeURIComponent("Solicitud de integraci\xf3n ERP - KUMIA"),t=encodeURIComponent("Hola equipo de soporte KUMIA,\n\nNecesito asistencia con la integraci\xf3n de mi ERP:\n\n\u25a1 Mi ERP no aparece en la lista de sistemas soportados\n\u25a1 Necesito ayuda con la configuraci\xf3n de mi ERP actual\n\u25a1 Tengo problemas t\xe9cnicos con la integraci\xf3n\n\u25a1 Necesito consultor\xeda para elegir el ERP correcto\n\nDetalles del sistema:\n- Nombre del ERP: [Especificar]\n- Versi\xf3n: [Especificar]\n- Ubicaci\xf3n: [Pa\xeds/Regi\xf3n]\n- Tipo de restaurante: [Especificar]\n\nDescripci\xf3n del problema:\n[Describir en detalle]\n\nGracias por su soporte.\n\nSaludos,\n[Nombre del restaurante]");window.open("mailto:soporte@kumia.net?subject=".concat(e,"&body=").concat(t),"_blank")},className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"\ud83d\udce7 Contactar Soporte"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[(0,ox.jsx)("button",{onClick:()=>k(!1),className:"px-6 py-2 text-gray-600 hover:text-gray-800",children:"Cancelar"}),S&&(0,ox.jsxs)(ox.Fragment,{children:[(0,ox.jsx)("button",{onClick:()=>R("erp"),className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83e\uddea Probar Conexi\xf3n"}),(0,ox.jsx)("button",{onClick:()=>T("erp"),className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"\u2705 Conectar ERP"})]})]})]})})}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-green-800 mb-3",children:"\ud83d\ude80 Ecosistema KUMIA Completo"}),(0,ox.jsxs)("div",{className:"text-sm text-green-700",children:[(0,ox.jsx)("p",{className:"mb-3",children:"Una vez configuradas todas las integraciones:"}),(0,ox.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,ox.jsxs)("li",{children:[(0,ox.jsx)("strong",{children:"UserWebApp:"})," Clientes hacen pedidos directamente"]}),(0,ox.jsxs)("li",{children:[(0,ox.jsx)("strong",{children:"ERP Integration:"})," Pedidos van autom\xe1ticamente al sistema de cocina"]}),(0,ox.jsxs)("li",{children:[(0,ox.jsx)("strong",{children:"AI Agents:"})," Responden preguntas y gestionan canales sociales"]}),(0,ox.jsxs)("li",{children:[(0,ox.jsx)("strong",{children:"Payments:"})," MercadoPago procesa pagos autom\xe1ticamente"]}),(0,ox.jsxs)("li",{children:[(0,ox.jsx)("strong",{children:"Analytics:"})," Dashboard unificado con m\xe9tricas en tiempo real"]})]})]})]})]})},hx=e=>{let{restaurantConfig:t,updateRestaurantConfig:s,canChangeName:n}=e;const[a,i]=(0,r.useState)("general"),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)((null===t||void 0===t?void 0:t.name)||"IL MANDORLA"),[m,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)({name:(null===t||void 0===t?void 0:t.name)||"IL MANDORLA",address:"Av. Revoluci\xf3n 1234, Ciudad de M\xe9xico",phone:"+52 55 1234 5678",email:"info@ilmandorla.com",instagram:"@ilmandorla",facebook:"IL MANDORLA Official",tiktok:"@ilmandorla",whatsapp:"+52 55 1234 5678",hours:{monday:{open:"09:00",close:"22:00",active:!0},tuesday:{open:"09:00",close:"22:00",active:!0},wednesday:{open:"09:00",close:"22:00",active:!0},thursday:{open:"09:00",close:"22:00",active:!0},friday:{open:"09:00",close:"23:00",active:!0},saturday:{open:"10:00",close:"23:00",active:!0},sunday:{open:"10:00",close:"21:00",active:!0}},cuisineType:"Smokehouse Premium",logo:(null===t||void 0===t?void 0:t.logo)||null,brandColors:{primary:"#FF6B35",secondary:"#FFFFFF",accent:"#FF8C42"}}),g=()=>{const e=t.nameChanges||0,s=Math.max(0,3-e);if(s>0)return{changesLeft:s,daysRemaining:0,canChange:!0};if(!t.lastNameChange)return{changesLeft:3,daysRemaining:0,canChange:!0};const n=Math.floor((Date.now()-new Date(t.lastNameChange))/864e5),r=Math.max(0,90-n);return{changesLeft:0===r?3:0,daysRemaining:r,canChange:0===r}},[f,b]=(0,r.useState)([{id:"admin",name:"Administrador",permissions:["all"],users:2,description:"Acceso completo al sistema"},{id:"supervisor",name:"Supervisor",permissions:["dashboard","menu","customers","reservations","feedback"],users:3,description:"Gesti\xf3n operativa"},{id:"staff",name:"Personal",permissions:["menu","reservations"],users:8,description:"Acceso b\xe1sico"}]),[v,y]=(0,r.useState)([{id:"meta",name:"Meta Business Suite",status:"active",config:{pageId:"IL_MANDORLA_PAGE",accessToken:"****"}},{id:"whatsapp",name:"WhatsApp Cloud API",status:"active",config:{phoneNumber:"+525512345678",apiKey:"****"}},{id:"openai",name:"OpenAI",status:"active",config:{model:"gpt-4o",apiKey:"****"}},{id:"stripe",name:"Stripe",status:"inactive",config:{publicKey:"",secretKey:""}},{id:"crm",name:"CRM Externo",status:"inactive",config:{endpoint:"",credentials:""}},{id:"erp",name:"ERP Local",status:"inactive",config:{webhook:"",jsonCredentials:""}}]),[j,N]=(0,r.useState)({newFeedback:{whatsapp:!0,email:!0,telegram:!1},newReservation:{whatsapp:!0,email:!0,telegram:!1},campaignActivated:{whatsapp:!0,email:!1,telegram:!1},intervals:{feedback:"immediate",reservations:"immediate",reports:"daily"},testMode:!1}),w=(e,t)=>{x((s=>d(d({},s),{},{[e]:t})))},k=()=>{alert("Informaci\xf3n del negocio guardada autom\xe1ticamente")},S=(e,t)=>{alert("Enviando notificaci\xf3n de prueba por ".concat(e," para ").concat(t))},C=()=>(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83c\udfe2 Informaci\xf3n B\xe1sica del Negocio"}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 border border-orange-200 mb-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"\ud83c\udfa8 Branding del Restaurante"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Nombre del Restaurante"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsxs)("div",{className:"flex-1 px-4 py-3 bg-white border border-gray-300 rounded-lg",children:[(0,ox.jsx)("span",{className:"text-lg font-bold text-gray-900",children:p.name}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:(()=>{const e=g();return e.canChange?"\u2705 ".concat(e.changesLeft," cambios disponibles"):"\ud83d\udd12 Disponible en ".concat(e.daysRemaining," d\xedas")})()})]}),(0,ox.jsx)("button",{onClick:()=>l(!0),disabled:!g().canChange,className:"px-4 py-3 rounded-lg font-medium transition-all duration-200 ".concat(g().canChange?"bg-orange-500 hover:bg-orange-600 text-white shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"\u270f\ufe0f Editar"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Logo del Restaurante"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ox.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center overflow-hidden shadow-lg",children:p.logo?(0,ox.jsx)("img",{src:p.logo,alt:"Logo",className:"w-full h-full object-cover rounded-xl"}):(0,ox.jsx)("span",{className:"text-white font-bold text-lg",children:p.name.split(" ").map((e=>e[0])).join("").slice(0,2)})}),(0,ox.jsxs)("div",{className:"flex-1",children:[(0,ox.jsxs)("button",{onClick:()=>h(!0),className:"w-full px-4 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:["\ud83d\udcc1 ",p.logo?"Cambiar Logo":"Subir Logo"]}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Formato: PNG, JPG, SVG. M\xe1x: 5MB"})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 p-4 bg-white rounded-lg border border-gray-200",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\ud83d\udca1 Informaci\xf3n del Sistema"}),(0,ox.jsxs)("p",{className:"text-sm text-gray-600",children:["El subt\xedtulo aparece como ",(0,ox.jsx)("span",{className:"font-medium text-orange-600",children:'"Powered by KumIA Technology"'}),"y representa el respaldo tecnol\xf3gico de tu plataforma. Este texto no es modificable para mantener la consistencia de la marca KumIA en todos los restaurantes."]})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Cocina"}),(0,ox.jsx)("input",{type:"text",value:p.cuisineType,onChange:e=>w("cuisineType",e.target.value),onBlur:k,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Smokehouse Premium"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n"}),(0,ox.jsx)("input",{type:"text",value:p.address,onChange:e=>w("address",e.target.value),onBlur:k,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Av. Revoluci\xf3n 1234, Ciudad de M\xe9xico"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tel\xe9fono"}),(0,ox.jsx)("input",{type:"tel",value:p.phone,onChange:e=>w("phone",e.target.value),onBlur:k,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+52 55 1234 5678"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,ox.jsx)("input",{type:"email",value:p.email,onChange:e=>w("email",e.target.value),onBlur:k,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"info@ilmandorla.com"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),(0,ox.jsx)("input",{type:"tel",value:p.whatsapp,onChange:e=>w("whatsapp",e.target.value),onBlur:k,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+52 55 1234 5678"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udcf1 Redes Sociales"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram"}),(0,ox.jsx)("input",{type:"text",value:p.instagram,onChange:e=>w("instagram",e.target.value),onBlur:k,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"@ilmandorla"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook"}),(0,ox.jsx)("input",{type:"text",value:p.facebook,onChange:e=>w("facebook",e.target.value),onBlur:k,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"IL MANDORLA Official"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TikTok"}),(0,ox.jsx)("input",{type:"text",value:p.tiktok,onChange:e=>w("tiktok",e.target.value),onBlur:k,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"@ilmandorla"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udd52 Horarios de Atenci\xf3n"}),(0,ox.jsx)("div",{className:"space-y-4",children:Object.entries(p.hours).map((e=>{let[t,s]=e;return(0,ox.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",checked:s.active,onChange:e=>w("hours",d(d({},p.hours),{},{[t]:d(d({},s),{},{active:e.target.checked})})),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),(0,ox.jsx)("span",{className:"ml-3 font-medium text-gray-800 capitalize",children:t})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ox.jsx)("input",{type:"time",value:s.open,onChange:e=>w("hours",d(d({},p.hours),{},{[t]:d(d({},s),{},{open:e.target.value})})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),(0,ox.jsx)("span",{className:"text-gray-600",children:"-"}),(0,ox.jsx)("input",{type:"time",value:s.close,onChange:e=>w("hours",d(d({},p.hours),{},{[t]:d(d({},s),{},{close:e.target.value})})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]},t)}))})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83c\udfa8 Branding y Colores"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Primario"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("input",{type:"color",value:p.brandColors.primary,onChange:e=>w("brandColors",d(d({},p.brandColors),{},{primary:e.target.value})),className:"w-16 h-12 border border-gray-300 rounded-lg cursor-pointer"}),(0,ox.jsx)("input",{type:"text",value:p.brandColors.primary,onChange:e=>w("brandColors",d(d({},p.brandColors),{},{primary:e.target.value})),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"#FF6B35"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Secundario"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("input",{type:"color",value:p.brandColors.secondary,onChange:e=>w("brandColors",d(d({},p.brandColors),{},{secondary:e.target.value})),className:"w-16 h-12 border border-gray-300 rounded-lg cursor-pointer"}),(0,ox.jsx)("input",{type:"text",value:p.brandColors.secondary,onChange:e=>w("brandColors",d(d({},p.brandColors),{},{secondary:e.target.value})),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"#FFFFFF"})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Vista Previa del Branding"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ox.jsx)("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-white font-bold text-xl",style:{backgroundColor:p.brandColors.primary},children:"IM"}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h5",{className:"font-bold text-gray-800",children:p.name}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:p.cuisineType})]})]})]})]})]}),E=()=>(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udc65 Gesti\xf3n de Roles y Permisos"}),(0,ox.jsx)("div",{className:"space-y-4",children:f.map((e=>(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-400 rounded-full flex items-center justify-center mr-3",children:(0,ox.jsx)("span",{className:"text-white font-bold",children:e.name.charAt(0)})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ox.jsxs)("span",{className:"text-sm text-gray-600",children:[e.users," usuarios"]}),(0,ox.jsx)("button",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"Editar"})]})]}),(0,ox.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Dashboard","Men\xfa","Clientes","Reservas","Feedback","IA","Recompensas","Configuraci\xf3n"].map((t=>(0,ox.jsxs)("div",{className:"flex items-center p-2 bg-gray-50 rounded-lg",children:[(0,ox.jsx)("input",{type:"checkbox",checked:e.permissions.includes("all")||e.permissions.includes(t.toLowerCase()),readOnly:!0,className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),(0,ox.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:t})]},t)))})]},e.id)))}),(0,ox.jsx)("button",{className:"w-full mt-6 bg-gradient-to-r from-orange-500 to-red-500 text-white py-3 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 transform hover:scale-105",children:"+ Crear Nuevo Rol"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udcca Historial de Actividad"}),(0,ox.jsx)("div",{className:"space-y-3",children:[{user:"Admin Principal",action:"Cre\xf3 nuevo usuario",time:"Hace 2 horas",type:"create"},{user:"Supervisor Mesa",action:"Modific\xf3 permisos de rol",time:"Hace 4 horas",type:"update"},{user:"Staff Cocina",action:"Accedi\xf3 al m\xf3dulo de men\xfa",time:"Hace 6 horas",type:"access"},{user:"Admin Principal",action:"Export\xf3 lista de permisos",time:"Hace 1 d\xeda",type:"export"}].map(((e,t)=>(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 ".concat("create"===e.type?"bg-green-100 text-green-600":"update"===e.type?"bg-blue-100 text-blue-600":"access"===e.type?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"),children:(0,ox.jsx)("span",{className:"text-sm font-bold",children:"create"===e.type?"+":"update"===e.type?"\u270f\ufe0f":"access"===e.type?"\ud83d\udc41\ufe0f":"\ud83d\udce4"})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("p",{className:"text-sm font-medium text-gray-800",children:e.user}),(0,ox.jsx)("p",{className:"text-xs text-gray-600",children:e.action})]})]}),(0,ox.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]},t)))}),(0,ox.jsx)("button",{className:"w-full mt-4 bg-blue-100 text-blue-700 py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors",children:"\ud83d\udce4 Exportar Permisos Actuales"})]})]}),_=()=>(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udd17 Integraciones Activas"}),(0,ox.jsx)("div",{className:"space-y-4",children:v.map((e=>(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3 ".concat("active"===e.status?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"),children:(0,ox.jsx)("span",{className:"text-sm font-bold",children:"meta"===e.id?"\ud83d\udcd8":"whatsapp"===e.id?"\ud83d\udcf1":"openai"===e.id?"\ud83e\udd16":"stripe"===e.id?"\ud83d\udcb3":"crm"===e.id?"\ud83d\udc65":"\ud83d\udd27"})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:"active"===e.status?"Conectado y funcionando":"Pendiente de configuraci\xf3n"})]})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"active"===e.status?"\ud83d\udfe2 Activo":"\ud83d\udd34 Inactivo"}),(0,ox.jsx)("button",{onClick:()=>{return t=e.id,void alert("Probando integraci\xf3n: ".concat(t));var t},className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"\ud83e\uddea Probar"}),(0,ox.jsx)("button",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:"\u2699\ufe0f Configurar"})]})]}),(0,ox.jsx)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:Object.entries(e.config).map((e=>{let[t,s]=e;return(0,ox.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded-lg",children:[(0,ox.jsxs)("span",{className:"text-gray-600 capitalize",children:[t,":"]}),(0,ox.jsx)("span",{className:"text-gray-800 font-mono",children:"string"===typeof s&&s.includes("*")?s:"****"})]},t)}))})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udd27 Conexiones Externas"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"CRM Externo"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endpoint de API"}),(0,ox.jsx)("input",{type:"url",placeholder:"https://api.tu-crm.com/webhook",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token de Autenticaci\xf3n"}),(0,ox.jsx)("input",{type:"password",placeholder:"API Token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"ERP Local"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Webhook URL"}),(0,ox.jsx)("input",{type:"url",placeholder:"https://tu-erp.local/webhook",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Archivo de Credenciales JSON"}),(0,ox.jsx)("input",{type:"file",accept:".json",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\ud83d\udd27 Webhook Tester"}),(0,ox.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Prueba tus webhooks antes de activarlos"}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("input",{type:"url",placeholder:"https://tu-webhook.com/test",className:"flex-1 px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,ox.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83e\uddea Probar Webhook"})]})]})]})]}),A=()=>(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udd14 Configuraci\xf3n de Alertas"}),(0,ox.jsx)("div",{className:"space-y-6",children:[{id:"newFeedback",label:"Nuevo Feedback",icon:"\ud83d\udcac",desc:"Recibe notificaciones cuando llegue feedback nuevo"},{id:"newReservation",label:"Nueva Reserva",icon:"\ud83d\udcc5",desc:"Alertas para nuevas reservas"},{id:"campaignActivated",label:"Campa\xf1a Activada",icon:"\ud83c\udfaf",desc:"Notificaciones de campa\xf1as de marketing"}].map((e=>(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ox.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:e.icon}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:e.label}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:e.desc})]})]})}),(0,ox.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-sm mr-2",children:"\ud83d\udcf1"}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"WhatsApp"})]}),(0,ox.jsx)("button",{onClick:()=>N((t=>d(d({},t),{},{[e.id]:d(d({},t[e.id]),{},{whatsapp:!t[e.id].whatsapp})}))),className:"relative inline-flex h-5 w-9 items-center rounded-full transition-colors ".concat(j[e.id].whatsapp?"bg-green-500":"bg-gray-300"),children:(0,ox.jsx)("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white transition-transform ".concat(j[e.id].whatsapp?"translate-x-5":"translate-x-1")})})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-sm mr-2",children:"\ud83d\udce7"}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Email"})]}),(0,ox.jsx)("button",{onClick:()=>N((t=>d(d({},t),{},{[e.id]:d(d({},t[e.id]),{},{email:!t[e.id].email})}))),className:"relative inline-flex h-5 w-9 items-center rounded-full transition-colors ".concat(j[e.id].email?"bg-green-500":"bg-gray-300"),children:(0,ox.jsx)("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white transition-transform ".concat(j[e.id].email?"translate-x-5":"translate-x-1")})})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-sm mr-2",children:"\ud83d\udce8"}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Telegram"})]}),(0,ox.jsx)("button",{onClick:()=>N((t=>d(d({},t),{},{[e.id]:d(d({},t[e.id]),{},{telegram:!t[e.id].telegram})}))),className:"relative inline-flex h-5 w-9 items-center rounded-full transition-colors ".concat(j[e.id].telegram?"bg-green-500":"bg-gray-300"),children:(0,ox.jsx)("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white transition-transform ".concat(j[e.id].telegram?"translate-x-5":"translate-x-1")})})]})]})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\u23f0 Intervalos de Notificaci\xf3n"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feedback"}),(0,ox.jsxs)("select",{value:j.intervals.feedback,onChange:e=>N((t=>d(d({},t),{},{intervals:d(d({},t.intervals),{},{feedback:e.target.value})}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"immediate",children:"Inmediato"}),(0,ox.jsx)("option",{value:"hourly",children:"Cada hora"}),(0,ox.jsx)("option",{value:"daily",children:"Diario"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reservas"}),(0,ox.jsxs)("select",{value:j.intervals.reservations,onChange:e=>N((t=>d(d({},t),{},{intervals:d(d({},t.intervals),{},{reservations:e.target.value})}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"immediate",children:"Inmediato"}),(0,ox.jsx)("option",{value:"hourly",children:"Cada hora"}),(0,ox.jsx)("option",{value:"daily",children:"Diario"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reportes"}),(0,ox.jsxs)("select",{value:j.intervals.reports,onChange:e=>N((t=>d(d({},t),{},{intervals:d(d({},t.intervals),{},{reports:e.target.value})}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"daily",children:"Diario"}),(0,ox.jsx)("option",{value:"weekly",children:"Semanal"}),(0,ox.jsx)("option",{value:"monthly",children:"Mensual"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83e\uddea Pruebas en Vivo"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("button",{onClick:()=>S("whatsapp","feedback"),className:"flex items-center justify-center p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[(0,ox.jsx)("span",{className:"text-green-600 mr-2",children:"\ud83d\udcf1"}),(0,ox.jsx)("span",{className:"text-green-800 font-medium",children:"Probar WhatsApp"})]}),(0,ox.jsxs)("button",{onClick:()=>S("email","reservations"),className:"flex items-center justify-center p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,ox.jsx)("span",{className:"text-blue-600 mr-2",children:"\ud83d\udce7"}),(0,ox.jsx)("span",{className:"text-blue-800 font-medium",children:"Probar Email"})]}),(0,ox.jsxs)("button",{onClick:()=>S("telegram","campaigns"),className:"flex items-center justify-center p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[(0,ox.jsx)("span",{className:"text-purple-600 mr-2",children:"\ud83d\udce8"}),(0,ox.jsx)("span",{className:"text-purple-800 font-medium",children:"Probar Telegram"})]})]}),(0,ox.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-yellow-800",children:"Modo de Prueba"}),(0,ox.jsx)("p",{className:"text-sm text-yellow-700",children:"Activa para enviar notificaciones solo a administradores"})]}),(0,ox.jsx)("button",{onClick:()=>N((e=>d(d({},e),{},{testMode:!e.testMode}))),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(j.testMode?"bg-yellow-500":"bg-gray-300"),children:(0,ox.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(j.testMode?"translate-x-6":"translate-x-1")})})]})})]})]});return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\u2699\ufe0f Configuraci\xf3n"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Personaliza tu sistema KUMIA Elite"})]}),(0,ox.jsx)("button",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"\ud83d\udcbe Guardar Cambios"})]}),(0,ox.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,ox.jsx)("div",{className:"lg:w-1/4",children:(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Secciones"}),(0,ox.jsx)("div",{className:"space-y-2",children:[{id:"general",label:"General",icon:"\ud83c\udfe2",desc:"Informaci\xf3n del Negocio"},{id:"roles",label:"Roles y Permisos",icon:"\ud83d\udc65",desc:"Gesti\xf3n de usuarios y accesos"},{id:"integrations",label:"Integraciones",icon:"\ud83d\udd17",desc:"Conexiones externas"},{id:"notifications",label:"Notificaciones",icon:"\ud83d\udd14",desc:"Alertas y reportes"}].map((e=>(0,ox.jsxs)("button",{onClick:()=>i(e.id),className:"w-full flex items-center p-3 rounded-lg text-left transition-all duration-200 ".concat(a===e.id?"bg-orange-500 text-white shadow-lg transform scale-105":"bg-gray-50 text-gray-700 hover:bg-gray-100"),children:[(0,ox.jsx)("span",{className:"text-xl mr-3",children:e.icon}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-medium",children:e.label}),(0,ox.jsx)("div",{className:"text-xs opacity-75",children:e.desc})]})]},e.id)))})]})}),(0,ox.jsx)("div",{className:"lg:w-3/4",children:(()=>{switch(a){case"general":return(0,ox.jsx)(C,{});case"roles":return(0,ox.jsx)(E,{});case"integrations":return(0,ox.jsx)(_,{});case"notifications":return(0,ox.jsx)(A,{});default:return(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,ox.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udea7"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"M\xf3dulo en desarrollo"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Esta secci\xf3n estar\xe1 disponible pronto"})]})}})()})]}),o&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u270f\ufe0f Editar Nombre del Restaurante"}),(0,ox.jsx)("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,ox.jsxs)("p",{className:"text-sm text-yellow-800",children:["\u26a0\ufe0f ",(0,ox.jsx)("strong",{children:"Sistema de cambios:"})," Tienes derecho a 3 cambios de nombre cada 90 d\xedas. Despu\xe9s de usar los 3 cambios, deber\xe1s esperar 90 d\xedas para obtener 3 cambios nuevos."]}),(0,ox.jsx)("div",{className:"mt-2 text-xs text-yellow-700",children:(()=>{const e=g();return e.canChange?"Cambios restantes: ".concat(e.changesLeft,"/3"):"Pr\xf3ximo cambio disponible en: ".concat(e.daysRemaining," d\xedas")})()})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nuevo nombre del restaurante"}),(0,ox.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Ej: MI RESTAURANTE",maxLength:"50"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"M\xe1ximo 50 caracteres"})]}),(0,ox.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ox.jsx)("p",{children:(0,ox.jsx)("strong",{children:"Vista previa del header:"})}),(0,ox.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg flex items-center",children:[(0,ox.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center mr-3",children:(0,ox.jsx)("span",{className:"text-white font-bold text-xs",children:c.split(" ").map((e=>e[0])).join("").slice(0,2)})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-bold text-gray-900",children:c||"NOMBRE VAC\xcdO"}),(0,ox.jsx)("div",{className:"text-xs text-gray-600",children:"Powered by KumIA Technology"})]})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-6",children:[(0,ox.jsx)("button",{onClick:()=>l(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{if(!n()){const e=90-Math.floor((Date.now()-new Date(t.lastNameChange))/864e5);return void alert("\u274c Ya has usado tus 3 cambios permitidos. Podr\xe1s cambiar el nombre nuevamente en ".concat(e," d\xedas."))}if(c.trim().length<2)return void alert("\u274c El nombre debe tener al menos 2 caracteres");s({name:c.trim()}),x((e=>d(d({},e),{},{name:c.trim()}))),l(!1);const e=3-(t.nameChanges>=3?0:t.nameChanges+1);e>0?alert("\u2705 Nombre actualizado exitosamente. Te quedan ".concat(e," cambios disponibles.")):alert("\u2705 Nombre actualizado exitosamente. Has usado todos tus cambios disponibles por 90 d\xedas.")},disabled:!c.trim(),className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold",children:"\ud83d\udcbe Guardar Cambios"})]})]})})}),m&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcc1 Subir Logo"}),(0,ox.jsx)("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,ox.jsxs)("p",{className:"text-sm text-blue-800",children:["\ud83d\udca1 ",(0,ox.jsx)("strong",{children:"Recomendaciones:"})," Usa una imagen cuadrada (1:1) con fondo transparente para mejores resultados. El logo aparecer\xe1 en el header del dashboard."]})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar archivo"}),(0,ox.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(t.size>5242880)return void alert("\u274c El archivo debe ser menor a 5MB");const n=new FileReader;n.onload=e=>{const t=e.target.result;s({logo:t}),x((e=>d(d({},e),{},{logo:t}))),h(!1),alert("\u2705 Logo actualizado exitosamente")},n.readAsDataURL(t)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, SVG. M\xe1ximo 5MB"})]}),p.logo&&(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Vista previa actual:"}),(0,ox.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center mx-auto overflow-hidden shadow-lg",children:(0,ox.jsx)("img",{src:p.logo,alt:"Logo actual",className:"w-full h-full object-cover rounded-xl"})})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-6",children:[(0,ox.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar"}),(0,ox.jsx)("button",{onClick:()=>{s({logo:null}),x((e=>d(d({},e),{},{logo:null}))),h(!1),alert("\u2705 Logo eliminado exitosamente")},className:"bg-red-500 text-white px-4 py-3 rounded-lg hover:bg-red-600 transition-colors",children:"\ud83d\uddd1\ufe0f Eliminar Logo"})]})]})})})]})},px=()=>{var e,t,s;const[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)("all"),[l,c]=(0,r.useState)({frequency:"all",avgTicket:"all",feedback:"all"}),[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[j,N]=(0,r.useState)(null),[w,k]=(0,r.useState)({name:"",email:"",phone:"",birthday:"",allergies:"",special_date:"",notes:""}),S=[{id:"all",label:"Todos",color:"bg-gray-100",count:48},{id:"ambassador",label:"Embajadores",color:"bg-purple-100",count:12},{id:"recurrent",label:"Recurrentes",color:"bg-green-100",count:23},{id:"new",label:"Nuevos",color:"bg-blue-100",count:8},{id:"inactive",label:"Inactivos",color:"bg-red-100",count:5}];(0,r.useEffect)((()=>{E(),C()}),[]);const C=()=>{a([{id:"client_1",name:"Carlos Mendoza",email:"carlos.mendoza@gmail.com",phone:"+595 21 456789",visit_count:12,points:2450,feedback_count:4,nft_level:"oro",last_visit:"2025-01-15",birthday:"1985-03-15",allergies:"Ninguna",special_date:"Aniversario 2023-06-10",total_spent:145e3,avg_ticket:12083,status:"ambassador",acquisition_date:"2023-08-15",referrals_made:3,favorite_dishes:["Brooklyn","Baby Ribs","Cerveza Artesanal"],engagement_score:95},{id:"client_2",name:"Sofia Rodriguez",email:"sofia.rodriguez@hotmail.com",phone:"+595 21 987654",visit_count:8,points:1680,feedback_count:6,nft_level:"plata",last_visit:"2025-01-20",birthday:"1992-11-22",allergies:"Lactosa",special_date:"Cumplea\xf1os hija 2024-05-14",total_spent:89500,avg_ticket:11187,status:"recurrent",acquisition_date:"2024-02-10",referrals_made:2,favorite_dishes:["Pulled Pork","Nachos","Jugos Naturales"],engagement_score:87},{id:"client_3",name:"Roberto Silva",email:"roberto.silva@empresa.com.py",phone:"+595 21 345678",visit_count:15,points:3250,feedback_count:8,nft_level:"citizen_kumia",last_visit:"2025-01-22",birthday:"1978-07-30",allergies:"Mariscos",special_date:"Almuerzo ejecutivo mensual",total_spent:198e3,avg_ticket:13200,status:"ambassador",acquisition_date:"2023-11-05",referrals_made:5,favorite_dishes:["Plato de Carne Individual","Para Compartir x4","Vinos"],engagement_score:98},{id:"client_4",name:"Ana Gutierrez",email:"ana.gutierrez@universidad.edu.py",phone:"+595 21 567890",visit_count:4,points:820,feedback_count:2,nft_level:"bronce",last_visit:"2025-01-18",birthday:"1995-12-03",allergies:"Gluten",special_date:"No especificado",total_spent:34500,avg_ticket:8625,status:"new",acquisition_date:"2024-12-15",referrals_made:0,favorite_dishes:["Ensalada","Jugos Naturales"],engagement_score:65},{id:"client_5",name:"Diego Paredes",email:"diego.paredes@startup.com",phone:"+595 21 234567",visit_count:6,points:1340,feedback_count:3,nft_level:"plata",last_visit:"2025-01-19",birthday:"1988-09-17",allergies:"Ninguna",special_date:"Reuniones de trabajo",total_spent:67800,avg_ticket:11300,status:"recurrent",acquisition_date:"2024-07-20",referrals_made:1,favorite_dishes:["Chorip\xe1n","Cerveza Artesanal","Empanadas"],engagement_score:78},{id:"client_6",name:"Patricia Benitez",email:"patricia.benitez@consultora.py",phone:"+595 21 876543",visit_count:2,points:380,feedback_count:1,nft_level:"bronce",last_visit:"2024-12-28",birthday:"1980-04-25",allergies:"Frutos secos",special_date:"No especificado",total_spent:18900,avg_ticket:9450,status:"inactive",acquisition_date:"2024-11-10",referrals_made:0,favorite_dishes:["Pizza 4 Quesos"],engagement_score:45}])},E=async()=>{try{const e=await ix.get("".concat(cx,"/customers"));e.data&&e.data.length>0&&a(e.data)}catch(e){console.error("Error fetching clients:",e)}},_=e=>{let{client:t}=e;return(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-lg transition-all duration-300",children:[(0,ox.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-red-400 rounded-full flex items-center justify-center mr-4",children:(0,ox.jsx)("span",{className:"text-white font-bold text-lg",children:t.name.charAt(0)})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"font-semibold text-gray-800",children:t.name}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:t.email}),(0,ox.jsxs)("p",{className:"text-xs text-gray-500",children:["\xdaltima visita: ",new Date(t.last_visit||Date.now()).toLocaleDateString()]})]})]}),(0,ox.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("citizen_kumia"===t.nft_level?"bg-purple-100 text-purple-800":"oro"===t.nft_level?"bg-yellow-100 text-yellow-800":"plata"===t.nft_level?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800"),children:t.nft_level}),(0,ox.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,ox.jsx)("span",{className:"text-green-600 mr-1",children:"\u2b50"}),"Potencial: Alto"]})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.visit_count||0}),(0,ox.jsx)("div",{className:"text-xs text-gray-600",children:"Visitas"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.points||0}),(0,ox.jsx)("div",{className:"text-xs text-gray-600",children:"Puntos"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.feedback_count||0}),(0,ox.jsx)("div",{className:"text-xs text-gray-600",children:"Reviews"})]})]}),(0,ox.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"Informaci\xf3n Personal"}),(0,ox.jsxs)("div",{className:"text-sm",children:[(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Cumplea\xf1os:"})," ",t.birthday||"No especificado"]}),(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Alergias:"})," ",t.allergies||"Ninguna"]}),(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Fecha especial:"})," ",t.special_date||"No especificado"]})]})]}),(0,ox.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,ox.jsx)("button",{onClick:()=>A(t.id),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-2 rounded-lg text-sm hover:from-purple-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:"\ud83c\udf81 Recompensar con NFT"}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>I(t.id),className:"flex-1 bg-blue-100 text-blue-700 px-3 py-2 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"\ud83d\udcca Ver Historial"}),(0,ox.jsx)("button",{onClick:()=>T(t.id),className:"flex-1 bg-green-100 text-green-700 px-3 py-2 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"\ud83d\udcde Contactar"})]}),(0,ox.jsx)("button",{onClick:()=>P(t.id),className:"w-full bg-indigo-100 text-indigo-700 px-3 py-2 rounded-lg text-sm hover:bg-indigo-200 transition-colors",children:"\ud83d\udc65 Invitar a Campa\xf1a de Referidos"}),(0,ox.jsx)("button",{onClick:()=>R(t.id),className:"w-full bg-orange-100 text-orange-700 px-3 py-2 rounded-lg text-sm hover:bg-orange-200 transition-colors",children:"\u26a1 Activar Recompensa Autom\xe1tica"})]})]})},A=e=>{const t=n.find((t=>t.id===e));N(t),y(!0)},I=e=>{const t=n.find((t=>t.id===e));N(t),p(!0)},T=e=>{const t=n.find((t=>t.id===e));N(t),g(!0)},P=e=>{const t=n.find((t=>t.id===e));N(t),b(!0)},R=async e=>{try{const t=n.find((t=>t.id===e)),s=n.map((t=>t.id===e?d(d({},t),{},{auto_rewards_active:!t.auto_rewards_active}):t));a(s);const r=t.auto_rewards_active?"desactivadas":"activadas";alert("\u2705 Recompensas autom\xe1ticas ".concat(r," para ").concat(t.name,"\n      \n\ud83d\udd25 Sistema KUMIA configurado:\n\u2022 Puntos autom\xe1ticos por visita\n\u2022 NFTs por fidelidad\n\u2022 Ofertas personalizadas\n\u2022 Notificaciones push"))}catch(t){console.error("Error activating auto rewards:",t)}},O=async e=>{try{const t={client_id:j.id,nft_type:e,reward_date:(new Date).toISOString(),points_awarded:"oro"===e?500:"plata"===e?300:100};await ix.post("".concat(cx,"/nft-rewards"),t);const s=n.map((s=>s.id===j.id?d(d({},s),{},{nft_level:e,points:s.points+t.points_awarded}):s));a(s),y(!1),alert("\ud83c\udf81 NFT ".concat(e.toUpperCase()," enviado exitosamente a ").concat(j.name,"!\n      \n\u2705 ").concat(t.points_awarded," puntos a\xf1adidos\n\ud83c\udf89 WhatsApp enviado autom\xe1ticamente\n\ud83d\udcf1 Notificaci\xf3n push activada"))}catch(t){console.error("Error sending NFT reward:",t),alert("Error al enviar recompensa NFT. Intenta de nuevo.")}},M=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const s={client_id:j.id,message_type:e,message:t,sent_date:(new Date).toISOString()};await ix.post("".concat(cx,"/client-messages"),s),g(!1),alert("\ud83d\udcf1 Mensaje enviado exitosamente a ".concat(j.name,"!\n      \n\u2705 WhatsApp: ").concat(j.phone,"\n\ud83d\udce7 Email: ").concat(j.email,"\n\ud83c\udfaf Tipo: ").concat(e))}catch(s){console.error("Error sending message:",s),alert("Error al enviar mensaje. Intenta de nuevo.")}},D=n.filter((e=>{if("all"!==i&&e.status!==i)return!1;if("all"!==l.frequency){if((e.visit_count>10?"high":e.visit_count>5?"medium":"low")!==l.frequency)return!1}if("all"!==l.avgTicket){if((e.avg_ticket>12e3?"premium":e.avg_ticket>8e3?"standard":"basic")!==l.avgTicket)return!1}return!0}));return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udc65 Clientes"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona y activa tu comunidad"})]}),(0,ox.jsx)("button",{onClick:()=>{m(!0)},className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"+ Nuevo Cliente"})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-blue-800 mb-4",children:"\ud83d\udcca Resumen Din\xe1mico"}),(0,ox.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:S.slice(1).map((e=>(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.count}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:e.label})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83c\udfaf Filtros Inteligentes"}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:"frequency",label:"Frecuencia",options:["all","high","medium","low"]},{id:"avgTicket",label:"Ticket Promedio",options:["all","premium","standard","basic"]},{id:"feedback",label:"Feedback",options:["all","positive","neutral","negative"]}].map((e=>(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.label}),(0,ox.jsx)("select",{value:l[e.id],onChange:t=>c((s=>d(d({},s),{},{[e.id]:t.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:e.options.map((e=>(0,ox.jsx)("option",{value:e,children:"all"===e?"Todos":e},e)))})]},e.id)))})]}),(0,ox.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map((e=>(0,ox.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(i===e.id?"bg-orange-500 text-white shadow-lg":"".concat(e.color," text-gray-700 hover:opacity-80")),children:[e.label,(0,ox.jsx)("span",{className:"ml-2 bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs",children:e.count})]},e.id)))}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-purple-800 mb-4",children:"\ud83c\udf1f Top Clientes con Potencial de Fidelizaci\xf3n"}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.slice(0,3).map((e=>(0,ox.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,ox.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,ox.jsx)("span",{className:"text-white font-bold",children:e.name.charAt(0)})}),(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,ox.jsxs)("p",{className:"text-sm text-gray-600",children:[e.points||0," puntos"]}),(0,ox.jsx)("button",{className:"mt-2 bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs hover:bg-purple-200 transition-colors",children:"Enviar Upgrade NFT"})]},e.id)))})]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.length>0?D.map((e=>(0,ox.jsx)(_,{client:e},e.id))):(0,ox.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,ox.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc65"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No hay clientes que coincidan con los filtros"}),(0,ox.jsx)("p",{className:"text-gray-500",children:"Ajusta los filtros o agrega nuevos clientes"})]})}),u&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udc65 Nuevo Cliente"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Agrega un nuevo cliente a KUMIA"})]}),(0,ox.jsx)("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo *"}),(0,ox.jsx)("input",{type:"text",value:w.name,onChange:e=>k((t=>d(d({},t),{},{name:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Ej: Juan P\xe9rez"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,ox.jsx)("input",{type:"email",value:w.email,onChange:e=>k((t=>d(d({},t),{},{email:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"juan.perez@email.com"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tel\xe9fono"}),(0,ox.jsx)("input",{type:"tel",value:w.phone,onChange:e=>k((t=>d(d({},t),{},{phone:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"+595 21 123 4567"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cumplea\xf1os"}),(0,ox.jsx)("input",{type:"date",value:w.birthday,onChange:e=>k((t=>d(d({},t),{},{birthday:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha especial"}),(0,ox.jsx)("input",{type:"text",value:w.special_date,onChange:e=>k((t=>d(d({},t),{},{special_date:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Ej: Aniversario, Graduaci\xf3n"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alergias alimentarias"}),(0,ox.jsx)("input",{type:"text",value:w.allergies,onChange:e=>k((t=>d(d({},t),{},{allergies:e.target.value}))),className:"w-full px-4 py-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-red-50",placeholder:"Ej: Lactosa, Gluten, Mariscos"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas adicionales"}),(0,ox.jsx)("textarea",{value:w.notes,onChange:e=>k((t=>d(d({},t),{},{notes:e.target.value}))),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Preferencias, observaciones especiales..."})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-8",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"* Campos obligatorios"}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>m(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:async()=>{if(w.name&&w.email)try{const e=d(d({},w),{},{id:"client_".concat(Date.now()),visit_count:0,points:0,feedback_count:0,nft_level:"bronce",last_visit:(new Date).toISOString().split("T")[0],total_spent:0,avg_ticket:0,status:"new",acquisition_date:(new Date).toISOString().split("T")[0],referrals_made:0,favorite_dishes:[],engagement_score:50,auto_rewards_active:!1});await ix.post("".concat(cx,"/customers"),e),a((t=>[...t,e])),m(!1),k({name:"",email:"",phone:"",birthday:"",allergies:"",special_date:"",notes:""}),alert("\xa1Cliente creado exitosamente!")}catch(e){console.error("Error creating client:",e),alert("Error al crear el cliente. Intenta de nuevo.")}else alert("Por favor completa el nombre y email")},className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 font-bold",children:"\ud83d\udc65 Crear Cliente"})]})]})]})})}),h&&j&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcca Historial Completo"}),(0,ox.jsxs)("p",{className:"text-gray-600",children:[j.name," - ",j.email]})]}),(0,ox.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-4",children:"\ud83d\udcc8 Resumen General"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-blue-700",children:"Total visitasPCONS:"}),(0,ox.jsx)("span",{className:"font-bold",children:j.visit_count})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-blue-700",children:"Puntos acumulados:"}),(0,ox.jsx)("span",{className:"font-bold",children:j.points})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-blue-700",children:"Total gastado:"}),(0,ox.jsxs)("span",{className:"font-bold",children:["$",null===(e=j.total_spent)||void 0===e?void 0:e.toLocaleString()]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-blue-700",children:"Ticket promedio:"}),(0,ox.jsxs)("span",{className:"font-bold",children:["$",null===(t=j.avg_ticket)||void 0===t?void 0:t.toLocaleString()]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-blue-700",children:"Engagement:"}),(0,ox.jsxs)("span",{className:"font-bold",children:[j.engagement_score,"%"]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 rounded-xl p-6 border border-green-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-green-800 mb-4",children:"\ud83c\udf7d\ufe0f Platos Favoritos"}),(0,ox.jsx)("div",{className:"space-y-2",children:null===(s=j.favorite_dishes)||void 0===s?void 0:s.map(((e,t)=>(0,ox.jsx)("div",{className:"bg-white p-2 rounded-lg text-sm",children:e},t)))})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 rounded-xl p-6 border border-purple-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-purple-800 mb-4",children:"\ud83d\udc64 Info Personal"}),(0,ox.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-purple-700 font-medium",children:"Cumplea\xf1os:"}),(0,ox.jsx)("div",{children:j.birthday||"No especificado"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-purple-700 font-medium",children:"Alergias:"}),(0,ox.jsx)("div",{className:"text-red-600 font-medium",children:j.allergies})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-purple-700 font-medium",children:"Fecha especial:"}),(0,ox.jsx)("div",{children:j.special_date})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-purple-700 font-medium",children:"Cliente desde:"}),(0,ox.jsx)("div",{children:j.acquisition_date})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 bg-gray-50 rounded-xl p-6",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800 mb-4",children:"\ud83d\udd50 Actividad Reciente"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg flex items-center",children:[(0,ox.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-4",children:(0,ox.jsx)("span",{className:"text-green-600",children:"\ud83c\udf7d\ufe0f"})}),(0,ox.jsxs)("div",{className:"flex-1",children:[(0,ox.jsx)("div",{className:"font-medium",children:"Pedido realizado - Brooklyn + Baby Ribs"}),(0,ox.jsxs)("div",{className:"text-sm text-gray-600",children:[j.last_visit," - $18,500"]})]}),(0,ox.jsx)("div",{className:"text-green-600 font-bold",children:"+150 puntos"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg flex items-center",children:[(0,ox.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:(0,ox.jsx)("span",{className:"text-blue-600",children:"\u2b50"})}),(0,ox.jsxs)("div",{className:"flex-1",children:[(0,ox.jsx)("div",{className:"font-medium",children:"Review dejado - 5 estrellas"}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:'2025-01-18 - "Excelente servicio y comida"'})]}),(0,ox.jsx)("div",{className:"text-blue-600 font-bold",children:"+50 puntos"})]})]})]}),(0,ox.jsx)("div",{className:"flex justify-end pt-4",children:(0,ox.jsx)("button",{onClick:()=>p(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar"})})]})})}),v&&j&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udf81 Recompensar con NFT"}),(0,ox.jsx)("p",{className:"text-gray-600",children:j.name})]}),(0,ox.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"text-center mb-6",children:[(0,ox.jsx)("div",{className:"text-4xl mb-2",children:"\ud83c\udfc6"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Selecciona el tipo de NFT KUMIA para recompensar"})]}),(0,ox.jsx)("button",{onClick:()=>O("oro"),className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-500 text-white px-6 py-4 rounded-lg hover:from-yellow-500 hover:to-yellow-600 transition-all duration-200 transform hover:scale-105",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83e\udd47"}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-bold text-lg",children:"NFT Oro"}),(0,ox.jsx)("div",{className:"text-sm opacity-90",children:"Cliente VIP - +500 puntos"})]})]}),(0,ox.jsx)("div",{className:"text-xl",children:"\u2192"})]})}),(0,ox.jsx)("button",{onClick:()=>O("plata"),className:"w-full bg-gradient-to-r from-gray-400 to-gray-500 text-white px-6 py-4 rounded-lg hover:from-gray-500 hover:to-gray-600 transition-all duration-200 transform hover:scale-105",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83e\udd48"}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-bold text-lg",children:"NFT Plata"}),(0,ox.jsx)("div",{className:"text-sm opacity-90",children:"Cliente Frecuente - +300 puntos"})]})]}),(0,ox.jsx)("div",{className:"text-xl",children:"\u2192"})]})}),(0,ox.jsx)("button",{onClick:()=>O("bronce"),className:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white px-6 py-4 rounded-lg hover:from-orange-500 hover:to-orange-600 transition-all duration-200 transform hover:scale-105",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83e\udd49"}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-bold text-lg",children:"NFT Bronce"}),(0,ox.jsx)("div",{className:"text-sm opacity-90",children:"Bienvenida KUMIA - +100 puntos"})]})]}),(0,ox.jsx)("div",{className:"text-xl",children:"\u2192"})]})})]}),(0,ox.jsx)("div",{className:"flex justify-center pt-4",children:(0,ox.jsx)("button",{onClick:()=>y(!1),className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"})})]})})}),x&&j&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcde Contactar Cliente"}),(0,ox.jsx)("p",{className:"text-gray-600",children:j.name})]}),(0,ox.jsx)("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("button",{onClick:()=>M("promocion"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-4 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200",children:(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83c\udf89"}),(0,ox.jsxs)("div",{className:"text-left",children:[(0,ox.jsx)("div",{className:"font-bold",children:"Enviar Promoci\xf3n Especial"}),(0,ox.jsx)("div",{className:"text-sm opacity-90",children:"Oferta personalizada basada en su historial"})]})]})}),(0,ox.jsx)("button",{onClick:()=>M("cumpleanos"),className:"w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white px-6 py-4 rounded-lg hover:from-pink-600 hover:to-rose-600 transition-all duration-200",children:(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83c\udf82"}),(0,ox.jsxs)("div",{className:"text-left",children:[(0,ox.jsx)("div",{className:"font-bold",children:"Felicitaci\xf3n de Cumplea\xf1os"}),(0,ox.jsx)("div",{className:"text-sm opacity-90",children:"Mensaje personalizado + descuento especial"})]})]})}),(0,ox.jsx)("button",{onClick:()=>M("feedback"),className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-6 py-4 rounded-lg hover:from-blue-600 hover:to-indigo-600 transition-all duration-200",children:(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udcac"}),(0,ox.jsxs)("div",{className:"text-left",children:[(0,ox.jsx)("div",{className:"font-bold",children:"Solicitar Feedback"}),(0,ox.jsx)("div",{className:"text-sm opacity-90",children:"Invitaci\xf3n a dejar review con incentivo"})]})]})}),(0,ox.jsx)("button",{onClick:()=>M("reactivacion"),className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200",children:(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udd25"}),(0,ox.jsxs)("div",{className:"text-left",children:[(0,ox.jsx)("div",{className:"font-bold",children:"Reactivar Cliente"}),(0,ox.jsx)("div",{className:"text-sm opacity-90",children:"\xa1Te extra\xf1amos! Oferta especial de regreso"})]})]})})]}),(0,ox.jsx)("div",{className:"flex justify-center pt-4",children:(0,ox.jsx)("button",{onClick:()=>g(!1),className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"})})]})})}),f&&j&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udc65 Campa\xf1a de Referidos"}),(0,ox.jsx)("p",{className:"text-gray-600",children:j.name})]}),(0,ox.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"text-center mb-6",children:[(0,ox.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\ude80"}),(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"\xa1Invita y Gana!"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Este cliente puede ganar puntos KUMIA por cada referido"})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200 mb-6",children:[(0,ox.jsx)("h4",{className:"font-bold text-purple-800 mb-3",children:"\ud83c\udf81 Beneficios del Programa"}),(0,ox.jsxs)("ul",{className:"space-y-2 text-sm text-purple-700",children:[(0,ox.jsx)("li",{children:"\u2022 200 puntos por cada amigo que visite"}),(0,ox.jsx)("li",{children:"\u2022 NFT especial al lograr 5 referidos"}),(0,ox.jsx)("li",{children:"\u2022 10% descuento en pr\xf3xima visita"}),(0,ox.jsx)("li",{children:"\u2022 Acceso a eventos exclusivos"})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>{M("referidos","\xa1Hola ".concat(j.name,"! \ud83d\ude80\n\n\xbfSab\xedas que puedes ganar incre\xedbles recompensas KUMIA invitando a tus amigos?\n\n\ud83c\udf81 Por cada amigo que traigas:\n\u2022 200 puntos KUMIA\n\u2022 10% descuento en tu pr\xf3xima visita\n\u2022 Oportunidad de ganar NFTs exclusivos\n\n\xa1Comparte la experiencia IL MANDORLA y gana juntos!\n\nLink para compartir: https://ilmandorla.kumia.app/referido/").concat(j.id,"\n\n\xa1Te esperamos! \ud83c\udf56")),b(!1)},className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-3 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 font-bold",children:"\ud83d\udcf1 Enviar Invitaci\xf3n"}),(0,ox.jsx)("button",{onClick:()=>b(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"})]})]})})})]})},xx=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)("today"),[a,i]=(0,r.useState)(new Date),[o,l]=(0,r.useState)(87.5),[c,u]=(0,r.useState)([]),[m,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)([]),[g,f]=(0,r.useState)(null),[b,v]=(0,r.useState)({customer_name:"",customer_email:"",whatsapp_phone:"",reservation_date:(new Date).toISOString().split("T")[0],reservation_time:"",guests:2,special_notes:"",allergies:""}),[y,j]=(0,r.useState)(!1);(0,r.useEffect)((()=>{w(),k(),N()}),[]);const N=async()=>{try{const e=await ix.get("".concat(cx,"/tables"));x(e.data)}catch(e){console.error("Error fetching tables:",e),x([...Array.from({length:6},((e,t)=>({id:"table_".concat(t+1),number:t+1,capacity:2,status:"available",location:"main_floor"}))),...Array.from({length:12},((e,t)=>({id:"table_".concat(t+7),number:t+7,capacity:4,status:"available",location:"main_floor"}))),...Array.from({length:2},((e,t)=>({id:"table_".concat(t+19),number:t+19,capacity:6,status:"available",location:"terrace"})))])}},w=async()=>{try{const e=await ix.get("".concat(cx,"/reservations"));t(e.data)}catch(e){console.error("Error fetching reservations:",e)}},k=async()=>{try{const e=(await ix.get("".concat(cx,"/customers"))).data.filter((e=>e.visit_count>5));u(e)}catch(e){console.error("Error fetching frequent customers:",e)}},S=(e,t)=>{v((s=>d(d({},s),{},{[e]:t})))},C=e=>{switch(e){case"available":return"bg-green-100 border-green-300 text-green-800";case"occupied":return"bg-red-100 border-red-300 text-red-800";case"reserved":return"bg-yellow-100 border-yellow-300 text-yellow-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},E=e=>{switch(e){case 2:return"\ud83d\udc6b";case 4:return"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66";case 6:return"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66\ud83d\udc6b";default:return"\ud83e\ude91"}};return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udcc5 Reservas"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Visualiza y gestiona reservas activas, futuras y canceladas"})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>{alert("Exportando calendario a .ics")},className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udce4 Exportar Calendario"}),(0,ox.jsx)("button",{onClick:()=>{h(!0),f(null),v({customer_name:"",customer_email:"",whatsapp_phone:"",reservation_date:(new Date).toISOString().split("T")[0],reservation_time:"",guests:2,special_notes:"",allergies:""})},className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200",children:"+ Nueva Reserva"})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Tasa de Asistencia"}),(0,ox.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[o,"%"]})]}),(0,ox.jsx)("div",{className:"text-2xl",children:"\u2705"})]})}),(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Reservas Hoy"}),(0,ox.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:e.filter((e=>e.date===(new Date).toISOString().split("T")[0])).length})]}),(0,ox.jsx)("div",{className:"text-2xl",children:"\ud83d\udcc5"})]})}),(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Clientes Frecuentes"}),(0,ox.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:c.length})]}),(0,ox.jsx)("div",{className:"text-2xl",children:"\ud83c\udfaf"})]})}),(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Revenue Proyectado"}),(0,ox.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:"$15,600"})]}),(0,ox.jsx)("div",{className:"text-2xl",children:"\ud83d\udcb0"})]})})]}),(0,ox.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"today",label:"Hoy",icon:"\ud83d\udcc5"},{id:"week",label:"Esta semana",icon:"\ud83d\udcc6"},{id:"upcoming",label:"Pr\xf3ximo evento",icon:"\ud83c\udf89"}].map((e=>(0,ox.jsxs)("button",{onClick:()=>n(e.id),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(s===e.id?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.icon," ",e.label]},e.id)))}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:["Reservas de ","today"===s?"Hoy":"week"===s?"Esta Semana":"Pr\xf3ximos Eventos"]}),(0,ox.jsx)("div",{className:"space-y-4",children:e.map((e=>(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ox.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-400 rounded-full flex items-center justify-center",children:(0,ox.jsx)("span",{className:"text-white font-bold",children:e.customer_name.charAt(0)})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:e.customer_name}),(0,ox.jsxs)("p",{className:"text-sm text-gray-600",children:[e.date," - ",e.time]}),(0,ox.jsxs)("p",{className:"text-sm text-gray-600",children:[e.guests," personas"]})]})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("confirmed"===e.status?"bg-green-100 text-green-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status}),(0,ox.jsx)("button",{onClick:()=>{return t=e.id,void alert("Confirmando reserva ".concat(t));var t},className:"bg-green-100 text-green-700 px-3 py-1 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"\u2705 Confirmar"}),(0,ox.jsx)("button",{onClick:()=>{return t=e.id,void alert("Reagendando reserva ".concat(t));var t},className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"\ud83d\udd04 Reagendar"}),(0,ox.jsx)("button",{onClick:()=>{return t=e.id,void alert("Cancelando reserva ".concat(t));var t},className:"bg-red-100 text-red-700 px-3 py-1 rounded-lg text-sm hover:bg-red-200 transition-colors",children:"\u274c Cancelar"})]})]}),e.special_requests&&(0,ox.jsx)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:(0,ox.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,ox.jsx)("strong",{children:"Solicitudes especiales:"})," ",e.special_requests]})})]},e.id)))})]}),m&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcc5 Nueva Reserva"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Sistema completo de reservas KUMIA"})]}),(0,ox.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 border border-orange-200",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-orange-800 mb-4",children:"\ud83d\udc64 Datos del Cliente"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo *"}),(0,ox.jsx)("input",{type:"text",value:b.customer_name,onChange:e=>S("customer_name",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Nombre del cliente"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,ox.jsx)("input",{type:"email",value:b.customer_email,onChange:e=>S("customer_email",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"email@ejemplo.com"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp *"}),(0,ox.jsx)("input",{type:"tel",value:b.whatsapp_phone,onChange:e=>S("whatsapp_phone",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"+595 21 123 4567"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-blue-800 mb-4",children:"\ud83d\udcc5 Detalles de la Reserva"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha *"}),(0,ox.jsx)("input",{type:"date",value:b.reservation_date,onChange:e=>S("reservation_date",e.target.value),min:(new Date).toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora *"}),(0,ox.jsx)("input",{type:"time",value:b.reservation_time,onChange:e=>S("reservation_time",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad de personas *"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ox.jsx)("input",{type:"number",min:"1",max:"12",value:b.guests,onChange:e=>S("guests",parseInt(e.target.value)),className:"w-24 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center"}),(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83d\udc65 personas"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas especiales"}),(0,ox.jsx)("textarea",{value:b.special_notes,onChange:e=>S("special_notes",e.target.value),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Instrucciones especiales, ocasi\xf3n especial, etc."})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u26a0\ufe0f Alergias alimentarias"}),(0,ox.jsx)("textarea",{value:b.allergies,onChange:e=>S("allergies",e.target.value),rows:"2",className:"w-full px-4 py-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-red-50",placeholder:"Alergias importantes que debemos conocer para preparar el servicio"})]})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-green-800 mb-4",children:"\ud83e\ude91 Seleccionar Mesa"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filtrar por capacidad:"}),(0,ox.jsx)("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"\ud83d\udc6b 2 pers"}),(0,ox.jsx)("button",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs",children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 4 pers"}),(0,ox.jsx)("button",{className:"px-3 py-1 bg-pink-100 text-pink-700 rounded-full text-xs",children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66\ud83d\udc6b 6 pers"})]}),(0,ox.jsx)("div",{className:"grid grid-cols-4 gap-3 max-h-96 overflow-y-auto",children:p.map((e=>(0,ox.jsx)("div",{onClick:()=>(e=>{f(e),v((t=>d(d({},t),{},{table_id:e.id})))})(e),className:"\n                              p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 hover:shadow-md\n                              ".concat((null===g||void 0===g?void 0:g.id)===e.id?"border-orange-500 bg-orange-100":C(e.status),"\n                              ").concat("available"!==e.status?"opacity-50 cursor-not-allowed":"","\n                            "),children:(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl mb-1",children:E(e.capacity)}),(0,ox.jsxs)("div",{className:"text-sm font-bold",children:["Mesa ",e.number]}),(0,ox.jsxs)("div",{className:"text-xs text-gray-600",children:[e.capacity," pers"]}),(0,ox.jsx)("div",{className:"text-xs mt-1",children:"available"===e.status?"\u2705 Libre":"occupied"===e.status?"\ud83d\udd34 Ocupada":"reserved"===e.status?"\ud83d\udfe1 Reservada":"\u26a0\ufe0f Mantenimiento"})]})},e.id)))}),g&&(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-green-300",children:[(0,ox.jsx)("h4",{className:"font-bold text-green-800 mb-2",children:"Mesa Seleccionada"}),(0,ox.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Mesa:"})," #",g.number]}),(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Capacidad:"})," ",g.capacity," personas"]}),(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Ubicaci\xf3n:"})," ","main_floor"===g.location?"Sal\xf3n principal":"Terraza"]}),b.guests>g.capacity&&(0,ox.jsxs)("p",{className:"text-red-600 mt-2",children:["\u26a0\ufe0f La mesa tiene capacidad para ",g.capacity," personas, pero has indicado ",b.guests," invitados"]})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 rounded-xl p-6 border border-purple-200",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-purple-800 mb-4",children:"\ud83d\ude80 Automatizaciones KUMIA"}),(0,ox.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"text-green-500",children:"\u2705"}),(0,ox.jsx)("span",{children:"Email de confirmaci\xf3n autom\xe1tico"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"text-green-500",children:"\ud83d\udcf1"}),(0,ox.jsx)("span",{children:"WhatsApp con detalles de reserva"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"text-green-500",children:"\ud83e\udd16"}),(0,ox.jsx)("span",{children:"IA conversacional iniciada"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"text-green-500",children:"\ud83d\udd17"}),(0,ox.jsx)("span",{children:"Link a UserWebApp enviado"})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-8",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"* Campos obligatorios"}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:async()=>{if((()=>{const e=["customer_name","customer_email","whatsapp_phone","reservation_date","reservation_time"];for(let t of e)if(!b[t])return alert("Por favor completa el campo: ".concat(t.replace("_"," "))),!1;return g?!(b.guests>g.capacity)||(alert("La mesa seleccionada tiene capacidad para ".concat(g.capacity," personas, pero has indicado ").concat(b.guests," invitados")),!1):(alert("Por favor selecciona una mesa"),!1)})()){j(!0);try{const e=d(d({},b),{},{table_id:g.id});(await ix.post("".concat(cx,"/reservations/new"),e)).data.success?(alert("\ud83c\udf89 \xa1Reserva creada exitosamente!\n\n\u2705 Confirmaci\xf3n enviada por email\n\ud83d\udcf1 Mensaje de WhatsApp enviado\n\ud83e\udd16 IA conversacional iniciada"),h(!1),w()):alert("Error al crear la reserva. Intenta de nuevo.")}catch(e){console.error("Error creating reservation:",e),alert("Error al crear la reserva. Verifica tu conexi\xf3n e intenta de nuevo.")}finally{j(!1)}}},disabled:y||!g,className:"px-8 py-3 rounded-lg font-bold text-white transition-all duration-200 ".concat(y||!g?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 transform hover:scale-105 shadow-lg"),children:y?"\u23f3 Creando reserva...":"\ud83d\udcc5 Agendar Reserva"})]})]})]})})})]})},gx=()=>{var e,t,s,n,a,i,o,l,c,u,m,h,p;const[x,g]=(0,r.useState)([]),[f,b]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[E,_]=(0,r.useState)(!1),[A,I]=(0,r.useState)(!1),[T,P]=(0,r.useState)(!1),[R,O]=(0,r.useState)([]),[M,D]=(0,r.useState)(""),[L,z]=(0,r.useState)(!1),[F,U]=(0,r.useState)({totalConversations:15847,totalResponses:98234,averageResponseTime:1.2,satisfactionScore:4.8,conversionRate:31.7,automationLevel:97.3}),[V,B]=(0,r.useState)({name:"",type:"community_manager",channels:[],prompt:"",personality:"professional",specialization:"general"});(0,r.useEffect)((()=>{H(),q()}),[]);const q=()=>{O([{id:"welcome",type:"ai",content:"\xa1Hola! Soy el **KUMIA Business Intelligence Assistant** \ud83e\udde0\n\nTengo acceso a todos los datos de tu dashboard y puedo ayudarte con:\n\n**\ud83d\udcca An\xe1lisis de Datos:**\n- M\xe9tricas de clientes (".concat(F.totalConversations.toLocaleString()," conversaciones)\n- Performance de agentes IA (").concat(F.automationLevel,"% automatizaci\xf3n)\n- ROI y crecimiento de ventas\n\n**\ud83e\udd16 Gesti\xf3n de Agentes IA:**\n- Optimizar prompts para mejor rendimiento\n- Estrategias de community management\n- An\xe1lisis de sentimientos por canal\n\n**\ud83d\udcc8 Estrategias de Negocio:**\n- Recommendations basadas en data\n- Identificaci\xf3n de oportunidades\n- Optimizaci\xf3n de procesos\n\n\xbfEn qu\xe9 te gustar\xeda que te ayude hoy?"),timestamp:(new Date).toISOString()}])},H=()=>{g([{id:"agent_google_reviews",name:"Google Reviews Manager",type:"review_manager",channels:["google_reviews"],prompt:"Eres el especialista en Google Reviews de IL MANDORLA Smokehouse. Tu misi\xf3n es:\n\nRESPUESTAS AUTOM\xc1TICAS:\n\u2022 Reviews 5\u2b50: Agradecer con emoci\xf3n, mencionar platos espec\xedficos, invitar a volver\n\u2022 Reviews 4\u2b50: Agradecer, preguntar qu\xe9 podemos mejorar, ofrecer descuento pr\xf3xima visita\n\u2022 Reviews 3\u2b50 o menos: Disculparse genuinamente, solicitar contacto privado, ofrecer compensaci\xf3n\n\nPERSONALIDAD: Profesional, emp\xe1tica, centrada en la experiencia ahumada\nOBJETIVO: Mantener rating >4.5\u2b50 y aumentar frecuencia de reviews positivos\n\nSiempre menciona nuestra especialidad en carnes ahumadas y experiencia KUMIA.",personality:"empathetic",specialization:"review_management",is_active:!0,performance:{responses:234,rating:4.9,conversion:89},last_training:"2025-01-20"},{id:"agent_whatsapp_assistant",name:"WhatsApp Concierge IA",type:"customer_service",channels:["whatsapp"],prompt:"Eres el concierge digital de IL MANDORLA v\xeda WhatsApp. Funciones principales:\n\nSERVICIOS:\n\u2022 Reservas instant\xe1neas con confirmaci\xf3n autom\xe1tica\n\u2022 Consultas sobre men\xfa (enfoque en carnes ahumadas)\n\u2022 Seguimiento de pedidos y tiempos de entrega\n\u2022 Programa de fidelizaci\xf3n KUMIA (puntos, NFTs)\n\nPERSONALIDAD: Amigable, eficiente, local (paraguayo)\nRESPUESTAS: Siempre incluir emojis, tiempos precisos, upselling natural\n\nUPSELLING INTELIGENTE:\n\u2022 Sugerir complementos basados en pedido\n\u2022 Promocionar platos de alto margen\n\u2022 Invitar a programas de fidelidad\n\nResponde en m\xe1ximo 2 mensajes, incluye call-to-action siempre.",personality:"friendly",specialization:"customer_service",is_active:!0,performance:{responses:1847,rating:4.7,conversion:76},last_training:"2025-01-22"},{id:"agent_instagram_manager",name:"Instagram Community Manager IA",type:"community_manager",channels:["instagram"],prompt:"Eres el community manager de IL MANDORLA en Instagram. Estrategia de contenido:\n\nRESPUESTAS A COMENTARIOS:\n\u2022 Usar lenguaje visual y emojis apropiados\n\u2022 Engagement genuino con preguntas y call-to-actions\n\u2022 Promoci\xf3n sutil de experiencia ahumada\n\nGESTI\xd3N DE DMs:\n\u2022 Consultas sobre men\xfa \u2192 dirigir a WhatsApp o reserva\n\u2022 Colaboraciones \u2192 protocolo de derivaci\xf3n\n\u2022 Quejas \u2192 resoluci\xf3n inmediata con compensaci\xf3n\n\nPERSONALIDAD: Trendy, visual, food-focused\nOBJETIVOS: Aumentar engagement, generar tr\xe1fico a restaurante\n\nSiempre mant\xe9n el aesthetic de IL MANDORLA: r\xfastico, ahumado, premium.",personality:"trendy",specialization:"social_media",is_active:!0,performance:{responses:892,rating:4.6,conversion:45},last_training:"2025-01-19"},{id:"agent_facebook_manager",name:"Facebook Community Manager IA",type:"community_manager",channels:["facebook"],prompt:"Eres el community manager de IL MANDORLA en Facebook. Enfoque en comunidad:\n\nESTRATEGIA:\n\u2022 Respuestas detalladas y educativas sobre BBQ\n\u2022 Compartir tips de cocina ahumada\n\u2022 Promover eventos y promociones especiales\n\u2022 Gestionar grupos y eventos privados\n\nRESPUESTAS:\n\u2022 Comentarios: Informativos, incluir datos nutricionales/t\xe9cnicos\n\u2022 Reviews: Profesionales, agradecer y direccionar\n\u2022 Messages: Derivar a WhatsApp para reservas\n\nPERSONALIDAD: Educativa, experta, comunitaria\nAUDIENCIA: Familias, grupos, eventos corporativos\n\nPosici\xf3nate como experto en BBQ y humo lento, educa sobre procesos.",personality:"educational",specialization:"community_building",is_active:!0,performance:{responses:456,rating:4.5,conversion:38},last_training:"2025-01-18"},{id:"agent_menu_advisor",name:"IA Garzon Virtual",type:"menu_advisor",channels:["userwebapp","whatsapp"],prompt:"Eres el garzon virtual de IL MANDORLA en la UserWebApp. Tu expertise es el men\xfa:\n\nSUGERENCIAS INTELIGENTES:\n\u2022 Analizar preferencias del cliente (historial, alergias)\n\u2022 Recomendar platos basados en temporada y disponibilidad\n\u2022 Upselling natural: bebidas, entradas, postres\n\u2022 Maridajes perfectos con cervezas artesanales\n\nINFORMACI\xd3N T\xc9CNICA:\n\u2022 Tiempos de preparaci\xf3n exactos\n\u2022 Ingredientes y al\xe9rgenos\n\u2022 T\xe9cnicas de ahumado por plato\n\u2022 Niveles de picante y intensidad\n\nPERSONALIDAD: Experto culinario, apasionado, gu\xeda gastron\xf3mico\nOBJETIVO: Maximizar ticket promedio y satisfacci\xf3n\n\nSiempre preguntar sobre restricciones alimentarias primero.",personality:"expert",specialization:"menu_optimization",is_active:!0,performance:{responses:2103,rating:4.8,conversion:82},last_training:"2025-01-21"},{id:"agent_loyalty_manager",name:"KUMIA Loyalty IA",type:"loyalty_manager",channels:["userwebapp","whatsapp","email"],prompt:"Eres el especialista en el programa de fidelizaci\xf3n KUMIA. Misi\xf3n: retenci\xf3n y engagement.\n\nGESTI\xd3N DE PUNTOS:\n\u2022 Explicar c\xf3mo ganar y canjear puntos\n\u2022 Notificar sobre puntos cerca de expirar\n\u2022 Sugerir canjes basados en comportamiento\n\u2022 Promocionar challenges y misiones especiales\n\nPROGRAMA NFT:\n\u2022 Explicar niveles: Bronce, Plata, Oro, Citizen KUMIA\n\u2022 Beneficios exclusivos por nivel\n\u2022 Gamificaci\xf3n y logros desbloqueables\n\nPERSONALIDAD: Motivadora, gamificada, exclusiva\nOBJETIVO: Aumentar frecuencia de visitas y lifetime value\n\nUsa lenguaje de gaming y logros, crea sensaci\xf3n de exclusividad.",personality:"gamified",specialization:"loyalty_retention",is_active:!0,performance:{responses:1205,rating:4.7,conversion:94},last_training:"2025-01-23"},{id:"agent_crisis_manager",name:"Crisis Management IA",type:"crisis_manager",channels:["all"],prompt:"Eres el especialista en manejo de crisis de IL MANDORLA. Activaci\xf3n autom\xe1tica ante:\n\nDETECCI\xd3N DE CRISIS:\n\u2022 Reviews negativas con palabras clave cr\xedticas\n\u2022 Quejas sobre seguridad alimentaria\n\u2022 Problemas de servicio viral en redes\n\u2022 Situaciones de reputaci\xf3n cr\xedtica\n\nPROTOCOLO DE RESPUESTA:\n1. Respuesta inmediata (menos de 30 min)\n2. Disculpa genuina sin excusas\n3. Oferta de compensaci\xf3n concreta\n4. Derivaci\xf3n a contacto directo\n5. Seguimiento hasta resoluci\xf3n\n\nPERSONALIDAD: Profesional, emp\xe1tica, solucionadora\nOBJETIVO: Proteger reputaci\xf3n y convertir crisis en oportunidad\n\nEscalas a humanos solo en casos extremos. Tu primera respuesta es crucial.",personality:"professional",specialization:"crisis_management",is_active:!0,performance:{responses:23,rating:4.9,conversion:78},last_training:"2025-01-15"},{id:"agent_upselling_master",name:"Upselling Master IA",type:"sales_optimizer",channels:["userwebapp","whatsapp"],prompt:'Eres el especialista en maximizar el ticket promedio de IL MANDORLA:\n\nESTRATEGIAS DE UPSELLING:\n\u2022 Analizar pedido base y sugerir complementos\n\u2022 Promocionar platos de mayor margen sutilmente  \n\u2022 Crear combos personalizados en tiempo real\n\u2022 Identificar ocasiones especiales (cumplea\xf1os, aniversarios)\n\nT\xc9CNICAS:\n\u2022 "\xbfTe gustar\xeda agregar...?" vs "\xbfQuieres algo m\xe1s?"\n\u2022 Mencionar preparaci\xf3n especial o tiempo limitado\n\u2022 Crear urgencia con disponibilidad\n\nOBJETIVOS:\n\u2022 Aumentar ticket promedio de $11,000 a $15,000\n\u2022 Incrementar frecuencia de pedidos premium\n\u2022 Maximizar rentabilidad por cliente\n\nPERSONALIDAD: Persuasiva, consultiva, orientada a valor\n\nNunca seas agresivo, siempre agrega valor genuino.',personality:"consultative",specialization:"sales_optimization",is_active:!0,performance:{responses:3847,rating:4.6,conversion:67},last_training:"2025-01-22"}])},G=async()=>{if(!M.trim())return;const e={id:Date.now(),type:"user",content:M,timestamp:(new Date).toISOString()};O((t=>[...t,e]));const t=M;D(""),z(!0);try{const e=await ix.post("".concat(cx,"/ai/kumia-chat"),{message:t,session_id:"kumia_chat_".concat(Date.now()),channel:"kumia_business_chat"}),s={id:Date.now()+1,type:"ai",content:e.data.response,timestamp:(new Date).toISOString()};O((e=>[...e,s]))}catch(s){console.error("Error sending message to Gemini:",s);const e={id:Date.now()+1,type:"ai",content:"\ud83d\udea8 **Error de conexi\xf3n con KUMIA Business IA**\n        \nLo siento, hay un problema temporal con la conexi\xf3n. Mientras tanto, puedo confirmar que:\n\n\u2022 **".concat(x.length," agentes IA** est\xe1n activos\n\u2022 **").concat(F.totalConversations.toLocaleString()," conversaciones** manejadas\n\u2022 **").concat(F.automationLevel,"% automatizaci\xf3n** nivel actual\n\nPor favor, intenta nuevamente en unos momentos."),timestamp:(new Date).toISOString()};O((t=>[...t,e]))}finally{z(!1)}},K=e=>{if(Array.isArray(e)){if(e.includes("google_reviews"))return"\ud83c\udf1f";if(e.includes("whatsapp"))return"\ud83d\udcf1";if(e.includes("instagram"))return"\ud83d\udcf7";if(e.includes("facebook"))return"\ud83d\udc65";if(e.includes("userwebapp"))return"\ud83c\udf7d\ufe0f";if(e.includes("email"))return"\ud83d\udce7";if(e.includes("all"))return"\ud83c\udf10"}return"\ud83e\udd16"},W=e=>{if(Array.isArray(e)){if(e.includes("google_reviews"))return"from-yellow-400 to-amber-500";if(e.includes("whatsapp"))return"from-green-400 to-green-600";if(e.includes("instagram"))return"from-pink-400 to-purple-600";if(e.includes("facebook"))return"from-blue-400 to-blue-600";if(e.includes("userwebapp"))return"from-orange-400 to-red-500";if(e.includes("email"))return"from-indigo-400 to-indigo-600";if(e.includes("all"))return"from-gray-700 to-gray-900"}return"from-gray-400 to-gray-600"},$=e=>({review_management:"Gesti\xf3n de Reviews",customer_service:"Atenci\xf3n al Cliente",social_media:"Redes Sociales",community_building:"Community Building",menu_optimization:"Optimizaci\xf3n de Men\xfa",loyalty_retention:"Fidelizaci\xf3n",crisis_management:"Manejo de Crisis",sales_optimization:"Optimizaci\xf3n de Ventas"}[e]||e);return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83e\udd16 Agencia de Marketing IA"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Experiencia 100% automatizada \xb7 Reemplaza community managers humanos"})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>P(!T),className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-indigo-600 transition-all duration-200",children:"\ud83e\udde0 KUMIA Business IA"}),(0,ox.jsx)("button",{onClick:()=>{I(!0)},className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:"\ud83d\udcca Reporte de Rendimiento"}),(0,ox.jsx)("button",{onClick:()=>{y(!0)},className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200",children:"+ Nuevo Agente"})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Conversaciones IA"}),(0,ox.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:F.totalConversations.toLocaleString()})]}),(0,ox.jsx)("div",{className:"text-2xl",children:"\ud83d\udcac"})]}),(0,ox.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"+23% vs mes anterior"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Respuestas Autom\xe1ticas"}),(0,ox.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:F.totalResponses.toLocaleString()})]}),(0,ox.jsx)("div",{className:"text-2xl",children:"\u26a1"})]}),(0,ox.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"+47% vs mes anterior"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Tiempo Respuesta"}),(0,ox.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[F.averageResponseTime,"s"]})]}),(0,ox.jsx)("div",{className:"text-2xl",children:"\ud83d\ude80"})]}),(0,ox.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"-1.2s vs humanos"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Satisfacci\xf3n IA"}),(0,ox.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[F.satisfactionScore,"/5"]})]}),(0,ox.jsx)("div",{className:"text-2xl",children:"\u2b50"})]}),(0,ox.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"+0.3 vs humanos"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Conversi\xf3n IA"}),(0,ox.jsxs)("p",{className:"text-2xl font-bold text-indigo-600",children:[F.conversionRate,"%"]})]}),(0,ox.jsx)("div",{className:"text-2xl",children:"\ud83c\udfaf"})]}),(0,ox.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"+8.2% vs humanos"})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl shadow-sm border border-green-200 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-green-700",children:"Automatizaci\xf3n"}),(0,ox.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[F.automationLevel,"%"]})]}),(0,ox.jsx)("div",{className:"text-2xl",children:"\ud83e\udd16"})]}),(0,ox.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"Ahorro: 3.2 empleados"})]})]}),T&&(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"\ud83e\udde0 KUMIA Business Intelligence"}),(0,ox.jsx)("button",{onClick:()=>P(!T),className:"bg-red-100 text-red-700 hover:bg-red-200 px-3 py-1 rounded-lg text-sm transition-colors",children:"\ud83d\udc41\ufe0f Ocultar"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"h-96 overflow-y-auto bg-gray-50 rounded-lg p-4 space-y-3",children:[R.map((e=>(0,ox.jsx)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,ox.jsxs)("div",{className:"max-w-sm p-3 rounded-lg ".concat("user"===e.type?"bg-blue-500 text-white":"bg-white border border-gray-200 text-gray-800"),children:[(0,ox.jsx)("div",{className:"text-sm whitespace-pre-line",children:e.content}),(0,ox.jsx)("div",{className:"text-xs opacity-70 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id))),L&&(0,ox.jsx)("div",{className:"flex justify-start",children:(0,ox.jsx)("div",{className:"bg-white border border-gray-200 text-gray-800 p-3 rounded-lg",children:(0,ox.jsx)("div",{className:"text-sm",children:"\ud83e\udd16 KUMIA est\xe1 analizando..."})})})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("input",{type:"text",value:M,onChange:e=>D(e.target.value),onKeyPress:e=>"Enter"===e.key&&G(),placeholder:"Preg\xfantame sobre tus agentes, m\xe9tricas, estrategias...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,ox.jsx)("button",{onClick:G,disabled:!M.trim()||L,className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors disabled:opacity-50",children:"\ud83d\udce4"})]}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 text-center",children:"\ud83d\udca1 Puedo analizar todos tus datos del dashboard para ayudarte con decisiones estrat\xe9gicas"})]})]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((e=>{var t,s,n;return(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-all duration-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br ".concat(W(e.channels)," rounded-xl flex items-center justify-center mr-3"),children:(0,ox.jsx)("span",{className:"text-white text-xl",children:K(e.channels)})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"font-semibold text-gray-800",children:e.name}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:$(e.specialization)})]})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"w-3 h-3 rounded-full ".concat(e.is_active?"bg-green-400":"bg-red-400")}),(0,ox.jsx)("button",{onClick:()=>(e=>{const t=x.find((t=>t.id===e));b(t),N(!0)})(e.id),className:"text-gray-400 hover:text-blue-600 transition-colors",children:"\u270f\ufe0f"})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[(0,ox.jsxs)("div",{className:"bg-blue-50 p-2 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-sm font-bold text-blue-600",children:(null===(t=e.performance)||void 0===t?void 0:t.responses)||0}),(0,ox.jsx)("div",{className:"text-xs text-blue-700",children:"Respuestas"})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-2 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-sm font-bold text-green-600",children:[(null===(s=e.performance)||void 0===s?void 0:s.rating)||0,"/5"]}),(0,ox.jsx)("div",{className:"text-xs text-green-700",children:"Rating"})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-2 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-sm font-bold text-purple-600",children:[(null===(n=e.performance)||void 0===n?void 0:n.conversion)||0,"%"]}),(0,ox.jsx)("div",{className:"text-xs text-purple-700",children:"Conversi\xf3n"})]})]}),(0,ox.jsxs)("div",{className:"mb-4",children:[(0,ox.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Canales activos:"}),(0,ox.jsx)("div",{className:"flex flex-wrap gap-1",children:e.channels.map((e=>(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("google_reviews"===e?"bg-yellow-100 text-yellow-800":"whatsapp"===e?"bg-green-100 text-green-800":"instagram"===e?"bg-pink-100 text-pink-800":"facebook"===e?"bg-blue-100 text-blue-800":"userwebapp"===e?"bg-orange-100 text-orange-800":"email"===e?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:"google_reviews"===e?"Google Reviews":"userwebapp"===e?"User App":e.charAt(0).toUpperCase()+e.slice(1)},e)))})]}),(0,ox.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>(e=>{const t=x.find((t=>t.id===e));b(t),k(!0)})(e.id),className:"flex-1 bg-blue-100 text-blue-700 px-3 py-2 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"\ud83e\uddea Probar"}),(0,ox.jsx)("button",{onClick:()=>(e=>{const t=x.find((t=>t.id===e));b(t),C(!0)})(e.id),className:"flex-1 bg-green-100 text-green-700 px-3 py-2 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"\ud83c\udf93 Entrenar"})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>(e=>{const t=x.find((t=>t.id===e)),s=d(d({},t),{},{id:"".concat(t.id,"_clone_").concat(Date.now()),name:"".concat(t.name," (Copia)"),is_active:!1});g((e=>[...e,s])),alert("\ud83d\udccb Agente clonado exitosamente: ".concat(s.name,"\n    \n\u2705 Configuraci\xf3n copiada:\n\u2022 Prompt personalizado\n\u2022 Canales asignados  \n\u2022 Personalidad y especializaci\xf3n\n\u2022 Configuraciones avanzadas\n\n\u26a0\ufe0f Nota: El agente clonado est\xe1 inactivo. Act\xedvalo cuando est\xe9 listo."))})(e.id),className:"flex-1 bg-purple-100 text-purple-700 px-3 py-2 rounded-lg text-sm hover:bg-purple-200 transition-colors",children:"\ud83d\udccb Clonar"}),(0,ox.jsx)("button",{onClick:()=>(e=>{const t=x.find((t=>t.id===e));b(t),I(!0)})(e.id),className:"flex-1 bg-orange-100 text-orange-700 px-3 py-2 rounded-lg text-sm hover:bg-orange-200 transition-colors",children:"\ud83d\udcca Analizar"})]})]}),(0,ox.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,ox.jsxs)("div",{className:"text-xs text-gray-500",children:["\xdaltimo entrenamiento: ",e.last_training]})})]},e.id)}))}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83c\udf93 Centro de Entrenamiento IA"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800 mb-3",children:"\ud83d\udcda Fuentes de Datos Activas"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"\ud83c\udf7d\ufe0f Men\xfa IL MANDORLA (28 items)"}),(0,ox.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"\u2705 Sincronizado"})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"\ud83d\udc65 Base de clientes (6 perfiles)"}),(0,ox.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"\u2705 Actualizado"})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"\ud83d\udcac Conversaciones hist\xf3ricas"}),(0,ox.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"\u2705 15K+ mensajes"})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"\u2b50 Google Reviews (234 reviews)"}),(0,ox.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"\u2705 Tiempo real"})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"\ud83d\udccb Pol\xedticas IL MANDORLA"}),(0,ox.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"\u23f3 Actualizar"})]})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:[(0,ox.jsx)("h4",{className:"font-medium text-green-800 mb-3",children:"\ud83d\ude80 Performance por Canal"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-green-700",children:"\ud83c\udf1f Google Reviews Manager"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-green-600",children:"97.2% efectividad"})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-green-700",children:"\ud83d\udcf1 WhatsApp Concierge"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-blue-600",children:"94.7% satisfacci\xf3n"})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-green-700",children:"\ud83c\udf7d\ufe0f IA Garzon Virtual"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-purple-600",children:"82% upselling"})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-green-700",children:"\ud83c\udfc6 KUMIA Loyalty"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-orange-600",children:"94% retenci\xf3n"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-lg border border-orange-200",children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-800 mb-2",children:"\u26a1 Pr\xf3ximo Entrenamiento Programado"}),(0,ox.jsxs)("p",{className:"text-sm text-orange-700",children:["\ud83d\uddd3\ufe0f ",(0,ox.jsx)("strong",{children:"Hoy 18:00"})," - Actualizaci\xf3n con nuevos reviews y feedback"]}),(0,ox.jsx)("p",{className:"text-sm text-orange-700 mt-1",children:"\ud83d\udcc8 Mejora esperada: +5% en precisi\xf3n de respuestas"})]})]})]})]}),A&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcca Reporte de Rendimiento IA"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"An\xe1lisis completo de performance de agentes KUMIA"})]}),(0,ox.jsx)("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-xl border border-blue-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-blue-700",children:"Total Agentes Activos"}),(0,ox.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:x.filter((e=>e.is_active)).length})]}),(0,ox.jsx)("div",{className:"text-3xl",children:"\ud83e\udd16"})]}),(0,ox.jsx)("div",{className:"text-xs text-blue-600 mt-2",children:"100% operativos"})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-xl border border-green-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-green-700",children:"Respuestas Totales"}),(0,ox.jsx)("p",{className:"text-3xl font-bold text-green-600",children:F.totalResponses.toLocaleString()})]}),(0,ox.jsx)("div",{className:"text-3xl",children:"\ud83d\udcac"})]}),(0,ox.jsx)("div",{className:"text-xs text-green-600 mt-2",children:"+47% vs mes anterior"})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-xl border border-purple-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-purple-700",children:"Satisfacci\xf3n Promedio"}),(0,ox.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[F.satisfactionScore,"/5"]})]}),(0,ox.jsx)("div",{className:"text-3xl",children:"\u2b50"})]}),(0,ox.jsx)("div",{className:"text-xs text-purple-600 mt-2",children:"+0.3 vs humanos"})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-6 rounded-xl border border-orange-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-orange-700",children:"Ahorro Mensual"}),(0,ox.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:"$8,450"})]}),(0,ox.jsx)("div",{className:"text-3xl",children:"\ud83d\udcb0"})]}),(0,ox.jsx)("div",{className:"text-xs text-orange-600 mt-2",children:"vs 3.2 empleados"})]})]}),(0,ox.jsxs)("div",{className:"mb-8",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83c\udfc6 Performance Detallada por Agente"}),(0,ox.jsx)("div",{className:"overflow-x-auto",children:(0,ox.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,ox.jsx)("thead",{children:(0,ox.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,ox.jsx)("th",{className:"py-3 px-4 font-medium text-gray-700",children:"Agente"}),(0,ox.jsx)("th",{className:"py-3 px-4 font-medium text-gray-700",children:"Canal"}),(0,ox.jsx)("th",{className:"py-3 px-4 font-medium text-gray-700",children:"Respuestas"}),(0,ox.jsx)("th",{className:"py-3 px-4 font-medium text-gray-700",children:"Rating"}),(0,ox.jsx)("th",{className:"py-3 px-4 font-medium text-gray-700",children:"Conversi\xf3n"}),(0,ox.jsx)("th",{className:"py-3 px-4 font-medium text-gray-700",children:"Estado"})]})}),(0,ox.jsx)("tbody",{children:x.map((e=>{var t,s,n;return(0,ox.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,ox.jsx)("td",{className:"py-3 px-4",children:(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br ".concat(W(e.channels)," rounded-lg flex items-center justify-center mr-3"),children:(0,ox.jsx)("span",{className:"text-white text-sm",children:K(e.channels)})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,ox.jsx)("div",{className:"text-xs text-gray-500",children:$(e.specialization)})]})]})}),(0,ox.jsx)("td",{className:"py-3 px-4",children:(0,ox.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.channels.slice(0,2).map((e=>(0,ox.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:"google_reviews"===e?"Google":e},e))),e.channels.length>2&&(0,ox.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:["+",e.channels.length-2]})]})}),(0,ox.jsx)("td",{className:"py-3 px-4",children:(0,ox.jsx)("span",{className:"font-bold text-blue-600",children:(null===(t=e.performance)||void 0===t?void 0:t.responses)||0})}),(0,ox.jsx)("td",{className:"py-3 px-4",children:(0,ox.jsxs)("span",{className:"font-bold text-green-600",children:[(null===(s=e.performance)||void 0===s?void 0:s.rating)||0,"/5"]})}),(0,ox.jsx)("td",{className:"py-3 px-4",children:(0,ox.jsxs)("span",{className:"font-bold text-purple-600",children:[(null===(n=e.performance)||void 0===n?void 0:n.conversion)||0,"%"]})}),(0,ox.jsx)("td",{className:"py-3 px-4",children:(0,ox.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"\ud83d\udfe2 Activo":"\ud83d\udd34 Inactivo"})})]},e.id)}))})]})})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-200",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-indigo-800 mb-4",children:"\ud83d\udca1 Recomendaciones KUMIA IA"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\ud83d\ude80 Optimizaci\xf3n Inmediata"}),(0,ox.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,ox.jsx)("li",{children:"\u2022 Replica el prompt del Google Reviews Manager en otros canales"}),(0,ox.jsx)("li",{children:"\u2022 Aumenta frecuencia de entrenamiento del Instagram Manager"}),(0,ox.jsx)("li",{children:"\u2022 Activa respuestas autom\xe1ticas 24/7 en WhatsApp"})]})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\ud83d\udcc8 Crecimiento Estrat\xe9gico"}),(0,ox.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,ox.jsx)("li",{children:"\u2022 Potencial +15% conversi\xf3n con mejor upselling"}),(0,ox.jsx)("li",{children:"\u2022 Crear agente especializado para TikTok"}),(0,ox.jsx)("li",{children:"\u2022 Implementar A/B testing en prompts"})]})]})]})]}),(0,ox.jsx)("div",{className:"flex justify-center pt-6",children:(0,ox.jsx)("button",{onClick:()=>I(!1),className:"bg-gray-500 text-white px-8 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar Reporte"})})]})})}),v&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83e\udd16 Crear Nuevo Agente IA"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Configura un agente especializado para tu estrategia"})]}),(0,ox.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Agente *"}),(0,ox.jsx)("input",{type:"text",value:V.name,onChange:e=>B((t=>d(d({},t),{},{name:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Ej: TikTok Content Creator IA"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Agente *"}),(0,ox.jsxs)("select",{value:V.type,onChange:e=>B((t=>d(d({},t),{},{type:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,ox.jsx)("option",{value:"community_manager",children:"Community Manager"}),(0,ox.jsx)("option",{value:"customer_service",children:"Atenci\xf3n al Cliente"}),(0,ox.jsx)("option",{value:"sales_optimizer",children:"Optimizador de Ventas"}),(0,ox.jsx)("option",{value:"review_manager",children:"Gestor de Reviews"}),(0,ox.jsx)("option",{value:"crisis_manager",children:"Manejo de Crisis"}),(0,ox.jsx)("option",{value:"menu_advisor",children:"Asesor de Men\xfa"}),(0,ox.jsx)("option",{value:"loyalty_manager",children:"Gestor de Fidelidad"})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canales de Operaci\xf3n *"}),(0,ox.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["google_reviews","whatsapp","instagram","facebook","userwebapp","email","tiktok","linkedin"].map((e=>(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",checked:V.channels.includes(e),onChange:t=>{t.target.checked?B((t=>d(d({},t),{},{channels:[...t.channels,e]}))):B((t=>d(d({},t),{},{channels:t.channels.filter((t=>t!==e))})))},className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm capitalize",children:"google_reviews"===e?"Google Reviews":"userwebapp"===e?"User App":e})]},e)))})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personalidad"}),(0,ox.jsxs)("select",{value:V.personality,onChange:e=>B((t=>d(d({},t),{},{personality:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,ox.jsx)("option",{value:"professional",children:"Profesional"}),(0,ox.jsx)("option",{value:"friendly",children:"Amigable"}),(0,ox.jsx)("option",{value:"trendy",children:"Trendy"}),(0,ox.jsx)("option",{value:"educational",children:"Educativa"}),(0,ox.jsx)("option",{value:"empathetic",children:"Emp\xe1tica"}),(0,ox.jsx)("option",{value:"expert",children:"Experta"}),(0,ox.jsx)("option",{value:"gamified",children:"Gamificada"}),(0,ox.jsx)("option",{value:"consultative",children:"Consultiva"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especializaci\xf3n"}),(0,ox.jsxs)("select",{value:V.specialization,onChange:e=>B((t=>d(d({},t),{},{specialization:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,ox.jsx)("option",{value:"general",children:"General"}),(0,ox.jsx)("option",{value:"social_media",children:"Redes Sociales"}),(0,ox.jsx)("option",{value:"customer_service",children:"Atenci\xf3n al Cliente"}),(0,ox.jsx)("option",{value:"sales_optimization",children:"Optimizaci\xf3n de Ventas"}),(0,ox.jsx)("option",{value:"review_management",children:"Gesti\xf3n de Reviews"}),(0,ox.jsx)("option",{value:"crisis_management",children:"Manejo de Crisis"}),(0,ox.jsx)("option",{value:"menu_optimization",children:"Optimizaci\xf3n de Men\xfa"}),(0,ox.jsx)("option",{value:"loyalty_retention",children:"Fidelizaci\xf3n"}),(0,ox.jsx)("option",{value:"community_building",children:"Community Building"})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prompt Personalizado *"}),(0,ox.jsx)("textarea",{value:V.prompt,onChange:e=>B((t=>d(d({},t),{},{prompt:e.target.value}))),rows:"8",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Describe detalladamente c\xf3mo debe comportarse el agente, sus objetivos, tono de comunicaci\xf3n, instrucciones espec\xedficas para cada situaci\xf3n, etc..."}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 Tip: Incluye contexto sobre IL MANDORLA, personalidad deseada, objetivos espec\xedficos y ejemplos de respuestas"})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\ud83d\udcdd Templates de Prompt"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,ox.jsx)("button",{onClick:()=>B((e=>d(d({},e),{},{prompt:"Eres el especialista en ".concat(e.type," de IL MANDORLA Smokehouse. Tu misi\xf3n es:\n\nOBJETIVOS:\n\u2022 [Objetivo principal]\n\u2022 [Objetivo secundario]\n\u2022 [Objetivo terciario]\n\nPERSONALIDAD: ").concat(e.personality,", centrada en la experiencia ahumada\nTONO: [Definir tono de comunicaci\xf3n]\n\nRESPUESTAS T\xcdPICAS:\n\u2022 [Situaci\xf3n 1]: [Respuesta tipo]\n\u2022 [Situaci\xf3n 2]: [Respuesta tipo]\n\nSiempre menciona nuestra especialidad en carnes ahumadas y experiencia KUMIA.")}))),className:"text-left bg-white p-2 rounded text-sm text-blue-700 hover:bg-blue-100 transition-colors",children:"\ud83c\udfaf Template B\xe1sico"}),(0,ox.jsx)("button",{onClick:()=>B((e=>d(d({},e),{},{prompt:"Eres el community manager de IL MANDORLA en ".concat(e.channels[0]||"redes sociales",". Estrategia:\n\nENGAGEMENT:\n\u2022 Respuestas aut\xe9nticas y personalizadas\n\u2022 Uso de emojis apropiados\n\u2022 Call-to-actions naturales\n\nGESTI\xd3N:\n\u2022 Comentarios: [Estrategia espec\xedfica]\n\u2022 DMs: [Protocolo de atenci\xf3n]\n\u2022 Crisis: [Plan de respuesta]\n\nPERSONALIDAD: ").concat(e.personality,", food-focused\nOBJETIVO: Aumentar engagement y generar tr\xe1fico\n\nMant\xe9n el aesthetic IL MANDORLA: r\xfastico, ahumado, premium.")}))),className:"text-left bg-white p-2 rounded text-sm text-blue-700 hover:bg-blue-100 transition-colors",children:"\ud83d\udcf1 Template Social Media"})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-8",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"* Campos obligatorios"}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>y(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:async()=>{if(!V.name||!V.prompt)return void alert("Por favor completa el nombre y prompt del agente");const e=d(d({},V),{},{id:"agent_custom_".concat(Date.now()),is_active:!1,performance:{responses:0,rating:0,conversion:0},last_training:(new Date).toISOString().split("T")[0]});g((t=>[...t,e])),y(!1),B({name:"",type:"community_manager",channels:[],prompt:"",personality:"professional",specialization:"general"}),alert("\ud83e\udd16 Agente creado exitosamente! Recuerda activarlo cuando est\xe9 listo.")},className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 font-bold",children:"\ud83e\udd16 Crear Agente"})]})]})]})})}),w&&f&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83e\uddea Probar Agente IA"}),(0,ox.jsxs)("p",{className:"text-gray-600",children:[f.name," - Simulaci\xf3n de conversaci\xf3n"]})]}),(0,ox.jsx)("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800 mb-3",children:"\u2699\ufe0f Configuraci\xf3n del Agente"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Tipo:"}),(0,ox.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:$(f.specialization)})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Canales:"}),(0,ox.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:f.channels.map((e=>(0,ox.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"google_reviews"===e?"Google Reviews":e},e)))})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Personalidad:"}),(0,ox.jsx)("span",{className:"ml-2 text-sm text-gray-600 capitalize",children:f.personality})]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-blue-800 mb-3",children:"\ud83d\udccb Prompt Actual"}),(0,ox.jsx)("div",{className:"text-sm text-blue-700 bg-white p-3 rounded border max-h-48 overflow-y-auto",children:f.prompt})]}),(0,ox.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-green-800 mb-3",children:"\ud83d\udcca M\xe9tricas Actuales"}),(0,ox.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-lg font-bold text-green-600",children:(null===(e=f.performance)||void 0===e?void 0:e.responses)||0}),(0,ox.jsx)("div",{className:"text-xs text-green-700",children:"Respuestas"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[(null===(t=f.performance)||void 0===t?void 0:t.rating)||0,"/5"]}),(0,ox.jsx)("div",{className:"text-xs text-blue-700",children:"Rating"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsxs)("div",{className:"text-lg font-bold text-purple-600",children:[(null===(s=f.performance)||void 0===s?void 0:s.conversion)||0,"%"]}),(0,ox.jsx)("div",{className:"text-xs text-purple-700",children:"Conversi\xf3n"})]})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-4 border border-purple-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-purple-800 mb-3",children:"\ud83d\udcac Simulador de Conversaci\xf3n"}),(0,ox.jsx)("p",{className:"text-sm text-purple-700 mb-4",children:"Prueba diferentes escenarios para validar las respuestas del agente"}),(0,ox.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,ox.jsx)("h4",{className:"text-sm font-medium text-purple-800",children:"Escenarios de Prueba:"}),"review_manager"===f.type&&(0,ox.jsxs)("div",{className:"space-y-1",children:[(0,ox.jsx)("button",{className:"w-full text-left bg-white p-2 rounded text-sm text-purple-700 hover:bg-purple-100 transition-colors",children:'\u2b50\u2b50\u2b50\u2b50\u2b50 "Excelente experiencia, las costillas estaban perfectas"'}),(0,ox.jsx)("button",{className:"w-full text-left bg-white p-2 rounded text-sm text-purple-700 hover:bg-purple-100 transition-colors",children:'\u2b50\u2b50 "La comida lleg\xf3 fr\xeda y tardaron mucho en atendernos"'})]}),"customer_service"===f.type&&(0,ox.jsxs)("div",{className:"space-y-1",children:[(0,ox.jsx)("button",{className:"w-full text-left bg-white p-2 rounded text-sm text-purple-700 hover:bg-purple-100 transition-colors",children:'"Hola, quiero hacer una reserva para 4 personas ma\xf1ana"'}),(0,ox.jsx)("button",{className:"w-full text-left bg-white p-2 rounded text-sm text-purple-700 hover:bg-purple-100 transition-colors",children:'"\xbfQu\xe9 platos recomiendan para alguien que no ha probado BBQ?"'})]}),"community_manager"===f.type&&(0,ox.jsxs)("div",{className:"space-y-1",children:[(0,ox.jsx)("button",{className:"w-full text-left bg-white p-2 rounded text-sm text-purple-700 hover:bg-purple-100 transition-colors",children:'Comentario: "Se ve delicioso! \xbfCu\xe1nto cuesta el combo familiar?"'}),(0,ox.jsx)("button",{className:"w-full text-left bg-white p-2 rounded text-sm text-purple-700 hover:bg-purple-100 transition-colors",children:'DM: "Hola, quiero colaborar con ustedes, soy influencer"'})]})]}),(0,ox.jsx)("div",{className:"bg-white rounded-lg p-4 border h-48 overflow-y-auto",children:(0,ox.jsx)("div",{className:"text-center text-gray-500 text-sm",children:"\ud83d\udca1 Selecciona un escenario arriba para ver la respuesta simulada del agente"})})]}),(0,ox.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-orange-800 mb-3",children:"\ud83d\udcc8 Resultados de Prueba"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-orange-700",children:"Tiempo de respuesta:"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-orange-600",children:"1.2s"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-orange-700",children:"Relevancia:"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-green-600",children:"98%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-orange-700",children:"Tono apropiado:"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-green-600",children:"\u2705 Correcto"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-orange-700",children:"Menciona KUMIA:"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-green-600",children:"\u2705 S\xed"})]})]})]})]})]}),(0,ox.jsx)("div",{className:"flex justify-center pt-6 border-t border-gray-200 mt-8",children:(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>k(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar Prueba"}),(0,ox.jsx)("button",{onClick:()=>{alert("\ud83d\ude80 Iniciando prueba en vivo con tr\xe1fico real del 1%...\n\n\u23f1\ufe0f Duraci\xf3n: 30 minutos\n\ud83d\udcca Resultados disponibles en tiempo real\n\u26a0\ufe0f El agente actual continuar\xe1 atendiendo el 99% del tr\xe1fico")},className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udd34 Prueba en Vivo"})]})})]})})}),S&&f&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-5xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udf93 Entrenar Agente IA"}),(0,ox.jsxs)("p",{className:"text-gray-600",children:[f.name," - Mejora continua con datos reales"]})]}),(0,ox.jsx)("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border border-green-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-green-800 mb-3",children:"\ud83e\udd16 Informaci\xf3n del Agente"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-green-700",children:"\xdaltimo entrenamiento:"}),(0,ox.jsx)("span",{className:"text-sm text-green-600",children:f.last_training})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Respuestas desde entrenamiento:"}),(0,ox.jsx)("span",{className:"text-sm text-green-600",children:(null===(n=f.performance)||void 0===n?void 0:n.responses)||0})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Satisfacci\xf3n actual:"}),(0,ox.jsxs)("span",{className:"text-sm text-green-600",children:[(null===(a=f.performance)||void 0===a?void 0:a.rating)||0,"/5"]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Conversi\xf3n actual:"}),(0,ox.jsxs)("span",{className:"text-sm text-green-600",children:[(null===(i=f.performance)||void 0===i?void 0:i.conversion)||0,"%"]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-blue-800 mb-3",children:"\ud83d\udcda Fuentes de Datos para Entrenamiento"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"Men\xfa actualizado de IL MANDORLA"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"Historial de conversaciones (\xfaltimo mes)"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"Feedback de clientes"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"Pol\xedticas y procedimientos"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"Datos de comportamiento de clientes"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm text-blue-700",children:"An\xe1lisis de competencia"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-purple-800 mb-3",children:"\u2699\ufe0f Configuraci\xf3n de Entrenamiento"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Tipo de Entrenamiento"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,ox.jsx)("option",{value:"incremental",children:"\ud83d\udd04 Incremental (recomendado)"}),(0,ox.jsx)("option",{value:"full",children:"\ud83d\ude80 Completo (desde cero)"}),(0,ox.jsx)("option",{value:"fine_tuning",children:"\ud83c\udfaf Fine-tuning espec\xedfico"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Intensidad"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,ox.jsx)("option",{value:"light",children:"\ud83c\udf19 Ligero (15 min)"}),(0,ox.jsx)("option",{value:"medium",children:"\u26a1 Medio (45 min)"}),(0,ox.jsx)("option",{value:"intensive",children:"\ud83d\udd25 Intensivo (2 horas)"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Programar para"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,ox.jsx)("option",{value:"now",children:"\u25b6\ufe0f Ahora"}),(0,ox.jsx)("option",{value:"tonight",children:"\ud83c\udf19 Esta noche (2:00 AM)"}),(0,ox.jsx)("option",{value:"weekend",children:"\ud83d\udcc5 Este fin de semana"})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-4 border border-orange-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-orange-800 mb-3",children:"\ud83d\udcca Predicciones de Mejora"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-orange-700",children:"Satisfacci\xf3n"}),(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsxs)("span",{className:"text-sm text-orange-600",children:[(null===(o=f.performance)||void 0===o?void 0:o.rating)||0,"/5"]}),(0,ox.jsxs)("span",{className:"text-green-600 ml-2",children:["\u2192 ",(((null===(l=f.performance)||void 0===l?void 0:l.rating)||0)+.3).toFixed(1),"/5"]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-orange-700",children:"Conversi\xf3n"}),(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsxs)("span",{className:"text-sm text-orange-600",children:[(null===(c=f.performance)||void 0===c?void 0:c.conversion)||0,"%"]}),(0,ox.jsxs)("span",{className:"text-green-600 ml-2",children:["\u2192 ",((null===(u=f.performance)||void 0===u?void 0:u.conversion)||0)+12,"%"]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-orange-700",children:"Tiempo de respuesta"}),(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-orange-600",children:"2.3s"}),(0,ox.jsx)("span",{className:"text-green-600 ml-2",children:"\u2192 1.8s"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-yellow-800 mb-3",children:"\ud83d\udca1 Optimizaciones Sugeridas"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-yellow-600 mr-2",children:"\u2022"}),(0,ox.jsx)("p",{className:"text-sm text-yellow-700",children:"Mejorar respuestas para consultas sobre men\xfa de temporada"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-yellow-600 mr-2",children:"\u2022"}),(0,ox.jsx)("p",{className:"text-sm text-yellow-700",children:"Optimizar upselling en combos de bebidas"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-yellow-600 mr-2",children:"\u2022"}),(0,ox.jsx)("p",{className:"text-sm text-yellow-700",children:"Personalizar respuestas para clientes VIP"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-yellow-600 mr-2",children:"\u2022"}),(0,ox.jsx)("p",{className:"text-sm text-yellow-700",children:"Actualizar informaci\xf3n de horarios especiales"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-red-800 mb-3",children:"\u26a0\ufe0f Consideraciones Importantes"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-red-600 mr-2",children:"\u2022"}),(0,ox.jsx)("p",{className:"text-sm text-red-700",children:"El agente seguir\xe1 operando durante el entrenamiento"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-red-600 mr-2",children:"\u2022"}),(0,ox.jsx)("p",{className:"text-sm text-red-700",children:"Los cambios ser\xe1n graduales para evitar confusi\xf3n"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-red-600 mr-2",children:"\u2022"}),(0,ox.jsx)("p",{className:"text-sm text-red-700",children:"Se crear\xe1 un respaldo autom\xe1tico antes del entrenamiento"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-red-600 mr-2",children:"\u2022"}),(0,ox.jsx)("p",{className:"text-sm text-red-700",children:"Podr\xe1s revertir cambios dentro de 72 horas"})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-8",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"\ud83d\udd52 El entrenamiento tomar\xe1 aproximadamente 45 minutos"}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>C(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\ud83c\udf93 Iniciando entrenamiento de "+f.name+"...\n\n\ud83d\udcda Datos incluidos:\n\u2022 Men\xfa actualizado de IL MANDORLA\n\u2022 Historial de conversaciones (\xfaltimo mes)\n\u2022 Feedback de clientes\n\u2022 Pol\xedticas y procedimientos\n\n\u23f1\ufe0f Tiempo estimado: 45 minutos\n\ud83d\udcc8 Mejora esperada: +12% en satisfacci\xf3n\n\n\u2705 El agente continuar\xe1 operando normalmente durante el proceso"),g((e=>e.map((e=>e.id===f.id?d(d({},e),{},{last_training:(new Date).toISOString().split("T")[0]}):e)))),C(!1)},className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-8 py-3 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 font-bold",children:"\ud83d\ude80 Iniciar Entrenamiento"})]})]})]})})}),E&&f&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcca An\xe1lisis Profundo de Agente IA"}),(0,ox.jsxs)("p",{className:"text-gray-600",children:[f.name," - Insights avanzados y optimizaci\xf3n"]})]}),(0,ox.jsx)("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-blue-800 mb-4",children:"\ud83d\udcc8 M\xe9tricas de Performance"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Respuestas Totales"}),(0,ox.jsx)("span",{className:"text-lg font-bold text-blue-600",children:(null===(m=f.performance)||void 0===m?void 0:m.responses)||0})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Satisfacci\xf3n"}),(0,ox.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:[(null===(h=f.performance)||void 0===h?void 0:h.rating)||0,"/5"]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Conversi\xf3n"}),(0,ox.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:[(null===(p=f.performance)||void 0===p?void 0:p.conversion)||0,"%"]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Tiempo Respuesta"}),(0,ox.jsx)("span",{className:"text-lg font-bold text-blue-600",children:"1.8s"})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Escalaciones"}),(0,ox.jsx)("span",{className:"text-lg font-bold text-blue-600",children:"2.3%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Automatizaci\xf3n"}),(0,ox.jsx)("span",{className:"text-lg font-bold text-blue-600",children:"97.7%"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-green-800 mb-3",children:"\ud83c\udfaf Fortalezas Identificadas"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-green-600 mr-2",children:"\u2705"}),(0,ox.jsx)("p",{className:"text-sm text-green-700",children:"Excelente manejo de consultas sobre men\xfa"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-green-600 mr-2",children:"\u2705"}),(0,ox.jsx)("p",{className:"text-sm text-green-700",children:"Respuestas r\xe1pidas y precisas"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-green-600 mr-2",children:"\u2705"}),(0,ox.jsx)("p",{className:"text-sm text-green-700",children:"Tono amigable y profesional"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-green-600 mr-2",children:"\u2705"}),(0,ox.jsx)("p",{className:"text-sm text-green-700",children:"Buena integraci\xf3n con sistemas"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-yellow-800 mb-3",children:"\u26a0\ufe0f \xc1reas de Mejora"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-yellow-600 mr-2",children:"\ud83d\udd04"}),(0,ox.jsx)("p",{className:"text-sm text-yellow-700",children:"Mejorar upselling en bebidas"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-yellow-600 mr-2",children:"\ud83d\udd04"}),(0,ox.jsx)("p",{className:"text-sm text-yellow-700",children:"Optimizar respuestas complejas"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-yellow-600 mr-2",children:"\ud83d\udd04"}),(0,ox.jsx)("p",{className:"text-sm text-yellow-700",children:"Personalizaci\xf3n para VIP"})]})]})]})]}),(0,ox.jsx)("div",{className:"space-y-4",children:(0,ox.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-purple-800 mb-4",children:"\ud83d\udcac An\xe1lisis de Conversaciones"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,ox.jsx)("h5",{className:"font-semibold text-purple-700 mb-2",children:"Temas M\xe1s Consultados"}),(0,ox.jsxs)("div",{className:"space-y-1",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"Men\xfa del d\xeda"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-purple-600",children:"28%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"Reservas"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-purple-600",children:"23%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"Horarios"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-purple-600",children:"19%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"Promociones"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-purple-600",children:"15%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"Ubicaci\xf3n"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-purple-600",children:"15%"})]})]})]}),(0,ox.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,ox.jsx)("h5",{className:"font-semibold text-purple-700 mb-2",children:"Sentimiento de Clientes"}),(0,ox.jsxs)("div",{className:"space-y-1",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"\ud83d\ude0a Positivo"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-green-600",children:"82%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"\ud83d\ude10 Neutral"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-gray-600",children:"15%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"\ud83d\ude1e Negativo"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-red-600",children:"3%"})]})]})]}),(0,ox.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,ox.jsx)("h5",{className:"font-semibold text-purple-700 mb-2",children:"Horarios Pico"}),(0,ox.jsxs)("div",{className:"space-y-1",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"12:00 - 14:00"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-purple-600",children:"35%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"19:00 - 21:00"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-purple-600",children:"28%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"21:00 - 23:00"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-purple-600",children:"22%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-sm",children:"10:00 - 12:00"}),(0,ox.jsx)("span",{className:"text-sm font-bold text-purple-600",children:"15%"})]})]})]})]})]})}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-orange-800 mb-4",children:"\ud83c\udfaf Recomendaciones de KUMIA"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"p-3 bg-white rounded border border-orange-200",children:[(0,ox.jsx)("h5",{className:"font-semibold text-orange-700 mb-2",children:"\ud83d\ude80 Acciones Inmediatas"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsx)("button",{className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-3 rounded text-sm hover:from-orange-600 hover:to-red-600 transition-all",children:"\ud83d\udcda Entrenar con datos de \xfaltimo mes"}),(0,ox.jsx)("button",{className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-2 px-3 rounded text-sm hover:from-blue-600 hover:to-purple-600 transition-all",children:"\ud83c\udfaf Optimizar prompts de upselling"}),(0,ox.jsx)("button",{className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-2 px-3 rounded text-sm hover:from-green-600 hover:to-emerald-600 transition-all",children:"\u26a1 Acelerar respuestas en pico"})]})]}),(0,ox.jsxs)("div",{className:"p-3 bg-white rounded border border-orange-200",children:[(0,ox.jsx)("h5",{className:"font-semibold text-orange-700 mb-2",children:"\ud83d\udd2e Predicciones AI"}),(0,ox.jsx)("div",{className:"space-y-2",children:(0,ox.jsxs)("div",{className:"text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-orange-700",children:"Mejora esperada:"}),(0,ox.jsx)("span",{className:"font-bold text-green-600",children:"+18%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-orange-700",children:"Tiempo optimizaci\xf3n:"}),(0,ox.jsx)("span",{className:"font-bold text-orange-600",children:"2-3 d\xedas"})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-orange-700",children:"ROI estimado:"}),(0,ox.jsx)("span",{className:"font-bold text-green-600",children:"+$2,400/mes"})]})]})})]}),(0,ox.jsxs)("div",{className:"p-3 bg-white rounded border border-orange-200",children:[(0,ox.jsx)("h5",{className:"font-semibold text-orange-700 mb-2",children:"\ud83c\udfc6 Comparativa"}),(0,ox.jsx)("div",{className:"space-y-2",children:(0,ox.jsxs)("div",{className:"text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-orange-700",children:"vs. Agente promedio:"}),(0,ox.jsx)("span",{className:"font-bold text-green-600",children:"+23%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-orange-700",children:"vs. Mejor agente:"}),(0,ox.jsx)("span",{className:"font-bold text-orange-600",children:"-8%"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-orange-700",children:"Ranking industria:"}),(0,ox.jsx)("span",{className:"font-bold text-green-600",children:"Top 15%"})]})]})})]})]})]}),(0,ox.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-red-800 mb-3",children:"\ud83d\udea8 Alertas Importantes"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-red-600 mr-2",children:"\ud83d\udd34"}),(0,ox.jsx)("p",{className:"text-sm text-red-700",children:"Incremento de 15% en consultas no resueltas"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-orange-600 mr-2",children:"\ud83d\udfe1"}),(0,ox.jsx)("p",{className:"text-sm text-orange-700",children:"Tiempo de respuesta aument\xf3 0.3s esta semana"})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-yellow-600 mr-2",children:"\ud83d\udfe1"}),(0,ox.jsx)("p",{className:"text-sm text-yellow-700",children:"Necesita actualizaci\xf3n de informaci\xf3n de men\xfa"})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-8",children:[(0,ox.jsxs)("div",{className:"text-sm text-gray-500",children:["\ud83d\udcca An\xe1lisis actualizado en tiempo real \u2022 \xdaltima actualizaci\xf3n: ",(new Date).toLocaleString()]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>_(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\ud83d\udcca Generando reporte detallado...\n\n\ud83d\udcc4 Incluye:\n\u2022 An\xe1lisis completo de performance\n\u2022 Recomendaciones personalizadas\n\u2022 Plan de optimizaci\xf3n\n\u2022 Comparativas con industria\n\n\u23f1\ufe0f Tiempo estimado: 2 minutos\n\ud83d\udce7 Se enviar\xe1 por email cuando est\xe9 listo")},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-8 py-3 rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200 font-bold",children:"\ud83d\udce5 Exportar Reporte"})]})]})]})})}),j&&f&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u270f\ufe0f Editar Agente IA"}),(0,ox.jsx)("p",{className:"text-gray-600",children:f.name})]}),(0,ox.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Agente"}),(0,ox.jsx)("input",{type:"text",defaultValue:f.name,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),(0,ox.jsxs)("select",{defaultValue:f.is_active?"active":"inactive",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,ox.jsx)("option",{value:"active",children:"\ud83d\udfe2 Activo"}),(0,ox.jsx)("option",{value:"inactive",children:"\ud83d\udd34 Inactivo"}),(0,ox.jsx)("option",{value:"testing",children:"\ud83e\uddea En pruebas"}),(0,ox.jsx)("option",{value:"maintenance",children:"\u2699\ufe0f Mantenimiento"})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canales de Operaci\xf3n"}),(0,ox.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["google_reviews","whatsapp","instagram","facebook","userwebapp","email","tiktok","linkedin"].map((e=>(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",defaultChecked:f.channels.includes(e),className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm capitalize",children:"google_reviews"===e?"Google Reviews":"userwebapp"===e?"User App":e})]},e)))})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prompt Personalizado"}),(0,ox.jsx)("textarea",{defaultValue:f.prompt,rows:"10",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 Los cambios en el prompt requieren reentrenamiento del agente"})]}),(0,ox.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"\u2699\ufe0f Configuraciones Avanzadas"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperatura IA"}),(0,ox.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",defaultValue:"0.7",className:"w-full"}),(0,ox.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,ox.jsx)("span",{children:"Conservador"}),(0,ox.jsx)("span",{children:"Creativo"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M\xe1x. tokens respuesta"}),(0,ox.jsx)("input",{type:"number",defaultValue:"150",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-8",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"\u26a0\ufe0f Los cambios requieren reentrenamiento"}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>N(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 Cambios guardados exitosamente!\n\n\ud83c\udf93 Reentrenamiento programado para esta noche\n\u23f1\ufe0f Los cambios estar\xe1n activos ma\xf1ana a las 8:00 AM"),N(!1)},className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 font-bold",children:"\ud83d\udcbe Guardar Cambios"})]})]})]})})})]})},fx=()=>{const[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)("todos"),[a,i]=(0,r.useState)(!1),o={categoria:"Steakhouse Premium",tuRestaurante:{ticketPromedio:3830,feedbackScore:4.7,starsGeneradas:16.8,rankingLocal:2},promedioRubro:{ticketPromedio:3200,feedbackScore:4.2,starsGeneradas:12.3,totalRestaurantes:47}},l={totalAnalyzadas:1247,sentimiento:{positivo:78,neutral:15,negativo:7},temasMasComentados:[{tema:"Calidad de la carne",mencion:89,sentiment:"positivo"},{tema:"Tiempo de espera",mencion:67,sentiment:"neutral"},{tema:"Precios",mencion:54,sentiment:"positivo"},{tema:"Servicio al cliente",mencion:43,sentiment:"positivo"},{tema:"Ambiente",mencion:38,sentiment:"positivo"}]};return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83e\udde0 Inteligencia Competitiva"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Informaci\xf3n estrat\xe9gica sobre la industria y performance relativa"})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>i(!0),className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:"\ud83d\udcc8 Tendencias IA"}),(0,ox.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udd04 Actualizar Datos"})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:["\ud83d\udcca Benchmark por Rubro - ",o.categoria]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ox.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,ox.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:["$",o.tuRestaurante.ticketPromedio.toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-green-700 mb-1",children:"Tu Ticket Promedio"}),(0,ox.jsxs)("div",{className:"text-xs text-green-600",children:["vs $",o.promedioRubro.ticketPromedio.toLocaleString()," promedio"]}),(0,ox.jsxs)("div",{className:"text-xs font-bold text-green-800 mt-1",children:["+",((o.tuRestaurante.ticketPromedio-o.promedioRubro.ticketPromedio)/o.promedioRubro.ticketPromedio*100).toFixed(0),"% por encima"]})]}),(0,ox.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,ox.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:o.tuRestaurante.feedbackScore}),(0,ox.jsx)("div",{className:"text-sm text-blue-700 mb-1",children:"Tu Rating Promedio"}),(0,ox.jsxs)("div",{className:"text-xs text-blue-600",children:["vs ",o.promedioRubro.feedbackScore," promedio"]}),(0,ox.jsxs)("div",{className:"text-xs font-bold text-blue-800 mt-1",children:["+",(o.tuRestaurante.feedbackScore-o.promedioRubro.feedbackScore).toFixed(1)," puntos"]})]}),(0,ox.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,ox.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:o.tuRestaurante.starsGeneradas}),(0,ox.jsx)("div",{className:"text-sm text-purple-700 mb-1",children:"Stars por Cliente"}),(0,ox.jsxs)("div",{className:"text-xs text-purple-600",children:["vs ",o.promedioRubro.starsGeneradas," promedio"]}),(0,ox.jsxs)("div",{className:"text-xs font-bold text-purple-800 mt-1",children:["+",((o.tuRestaurante.starsGeneradas-o.promedioRubro.starsGeneradas)/o.promedioRubro.starsGeneradas*100).toFixed(0),"% superior"]})]}),(0,ox.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,ox.jsxs)("div",{className:"text-3xl font-bold text-orange-600",children:["#",o.tuRestaurante.rankingLocal]}),(0,ox.jsx)("div",{className:"text-sm text-orange-700 mb-1",children:"Ranking Local KumIA"}),(0,ox.jsxs)("div",{className:"text-xs text-orange-600",children:["de ",o.promedioRubro.totalRestaurantes," restaurantes"]}),(0,ox.jsx)("div",{className:"text-xs font-bold text-orange-800 mt-1",children:"\ud83c\udfc6 Top 5%"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83c\udfaf An\xe1lisis de Competidores Cercanos"}),(0,ox.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[{id:1,nombre:"Asado del Norte",distancia:"0.8 km",ticketPromedio:2900,rating:4.3,reviews:234,tendencia:"estable",fortalezas:["Precio","Ubicaci\xf3n"],debilidades:["Servicio","Variedad"]},{id:2,nombre:"Premium Grill",distancia:"1.2 km",ticketPromedio:4200,rating:4.6,reviews:156,tendencia:"creciente",fortalezas:["Calidad","Ambiente"],debilidades:["Precio","Espera"]},{id:3,nombre:"La Parrilla de Juan",distancia:"2.1 km",ticketPromedio:2400,rating:4.1,reviews:89,tendencia:"decreciente",fortalezas:["Tradici\xf3n","Porciones"],debilidades:["Modernizaci\xf3n","Marketing"]}].map((e=>(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all cursor-pointer",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsx)("h4",{className:"font-bold text-gray-800",children:e.nombre}),(0,ox.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("creciente"===e.tendencia?"bg-green-100 text-green-800":"decreciente"===e.tendencia?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:["creciente"===e.tendencia?"\ud83d\udcc8":"decreciente"===e.tendencia?"\ud83d\udcc9":"\u27a1\ufe0f",e.tendencia]})]}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm mb-4",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Distancia:"}),(0,ox.jsx)("span",{className:"font-medium",children:e.distancia})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Ticket promedio:"}),(0,ox.jsxs)("span",{className:"font-medium ".concat(e.ticketPromedio>o.tuRestaurante.ticketPromedio?"text-red-600":"text-green-600"),children:["$",e.ticketPromedio.toLocaleString()]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Rating:"}),(0,ox.jsxs)("span",{className:"font-medium ".concat(e.rating>o.tuRestaurante.feedbackScore?"text-red-600":"text-green-600"),children:[e.rating," \u2b50 (",e.reviews," reviews)"]})]})]}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-xs text-green-700 font-medium",children:"Fortalezas:"}),(0,ox.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.fortalezas.map(((e,t)=>(0,ox.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:e},t)))})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("span",{className:"text-xs text-red-700 font-medium",children:"Debilidades:"}),(0,ox.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.debilidades.map(((e,t)=>(0,ox.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:e},t)))})]})]}),(0,ox.jsx)("button",{onClick:()=>t(e),className:"w-full mt-3 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"\ud83d\udd0d An\xe1lisis Detallado"})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83d\udcc8 Tendencias Regionales"}),(0,ox.jsx)("div",{className:"space-y-3",children:[{tendencia:"Experiencias Gastron\xf3micas",crecimiento:"+45%",adoptado:!0},{tendencia:"Men\xfas Personalizados IA",crecimiento:"+32%",adoptado:!0},{tendencia:"Sistemas de Fidelizaci\xf3n",crecimiento:"+28%",adoptado:!0},{tendencia:"Delivery Premium",crecimiento:"+25%",adoptado:!1},{tendencia:"Eventos Tem\xe1ticos",crecimiento:"+18%",adoptado:!1}].map(((e,t)=>(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("span",{className:"text-2xl ".concat(e.adoptado?"\u2705":"\u23f3")}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:e.tendencia}),(0,ox.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[e.crecimiento," crecimiento"]})]})]}),(0,ox.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.adoptado?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:e.adoptado?"Adoptado":"Oportunidad"})]},t)))})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83d\udd0d Review Scanner"}),(0,ox.jsx)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:l.totalAnalyzadas}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:"Reviews Analizadas (Google, TripAdvisor)"})]})}),(0,ox.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Sentimiento Positivo:"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:(0,ox.jsx)("div",{className:"w-4/5 h-2 bg-green-500 rounded-full"})}),(0,ox.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[l.sentimiento.positivo,"%"]})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Sentimiento Neutral:"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:(0,ox.jsx)("div",{className:"w-1/6 h-2 bg-yellow-500 rounded-full"})}),(0,ox.jsxs)("span",{className:"text-sm font-medium text-yellow-600",children:[l.sentimiento.neutral,"%"]})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Sentimiento Negativo:"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:(0,ox.jsx)("div",{className:"w-1/12 h-2 bg-red-500 rounded-full"})}),(0,ox.jsxs)("span",{className:"text-sm font-medium text-red-600",children:[l.sentimiento.negativo,"%"]})]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Temas M\xe1s Comentados:"}),(0,ox.jsx)("div",{className:"space-y-2",children:l.temasMasComentados.slice(0,3).map(((e,t)=>(0,ox.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ox.jsx)("span",{className:"text-gray-700",children:e.tema}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsxs)("span",{className:"text-gray-500",children:[e.mencion,"%"]}),(0,ox.jsx)("span",{className:"text-xs ".concat("positivo"===e.sentiment?"text-green-600":"neutral"===e.sentiment?"text-yellow-600":"text-red-600"),children:"positivo"===e.sentiment?"\ud83d\ude0a":"neutral"===e.sentiment?"\ud83d\ude10":"\ud83d\ude1e"})]})]},t)))})]})]})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-200",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-indigo-800 mb-4",children:"\ud83c\udfaf Recomendaciones Estrat\xe9gicas IA"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsx)("h4",{className:"font-medium text-indigo-700",children:"\ud83d\ude80 Oportunidades Inmediatas"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm text-indigo-600",children:[(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-indigo-500 mr-2",children:"\u2022"}),(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Delivery Premium:"})," Competidores no han adoptado. Potencial +25% ingresos."]})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-indigo-500 mr-2",children:"\u2022"}),(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Eventos Tem\xe1ticos:"})," Demanda creciente +18%. Diferenciaci\xf3n clave."]})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-indigo-500 mr-2",children:"\u2022"}),(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Marketing de Tiempo de Espera:"})," Debilidad com\xfan en competencia."]})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsx)("h4",{className:"font-medium text-indigo-700",children:"\ud83d\udd12 Ventajas Competitivas"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm text-indigo-600",children:[(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"}),(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Sistema KumIA:"})," \xdanico en la zona. ROI 340% superior."]})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"}),(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Fidelizaci\xf3n IA:"})," 16.8 stars/cliente vs 12.3 promedio."]})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"}),(0,ox.jsxs)("p",{children:[(0,ox.jsx)("strong",{children:"Ticket Superior:"})," 20% por encima del promedio del rubro."]})]})]})]})]})]})]})},bx=()=>{const[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)([]),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),[p,x]=(0,r.useState)(null),[g,f]=(0,r.useState)(!1),[b,v]=(0,r.useState)("1P"),[y,j]=(0,r.useState)({sesionesDiarias:47,starsEntregadas:156,juegoMasJugado:"KumIA Duel",participacionPromedio:"73%"}),[N,w]=(0,r.useState)({"1P":[{id:"kumiSudoku",nombre:"\ud83e\udde0 KumiSudoku",descripcion:"Sudoku express de 4x4 o 6x6 con tiempo limitado",objetivo:"Est\xedmulo mental",duracion:"3-5 min",starsReales:2,starsSimbolicas:3,dificultad:"Media",popularidad:85,activo:!0,maxStarsPorSesion:2},{id:"pacKumia",nombre:"\ud83d\udd79 Pac-KumIA",descripcion:"Versi\xf3n de Pacman con tokens KumIA y obst\xe1culos personalizados",objetivo:"Nostalgia + Humor",duracion:"4-6 min",starsReales:2,starsSimbolicas:2,dificultad:"F\xe1cil",popularidad:92,activo:!0,maxStarsPorSesion:2}],"2P":[{id:"kumiaVersus",nombre:"\ud83c\udccf KumIA Duel",descripcion:'Preguntas de cultura general o "Qui\xe9n conoce mejor al otro"',objetivo:"Risa + Conexi\xf3n",duracion:"5-8 min",starsReales:2,starsSimbolicas:4,dificultad:"Media",popularidad:96,activo:!0,maxStarsPorSesion:2},{id:"retoExpress",nombre:"\ud83c\udfad Reto Express",descripcion:"Reto con m\xedmica entre dos (ej: imita platos del men\xfa o profesiones)",objetivo:"Movimiento + Humor",duracion:"3-5 min",starsReales:1,starsSimbolicas:5,dificultad:"F\xe1cil",popularidad:78,activo:!0,maxStarsPorSesion:1},{id:"puzzleKumia",nombre:"\ud83e\udde9 Puzzle KumIA",descripcion:"Cada jugador arma la mitad de un puzzle simb\xf3lico del restaurante",objetivo:"Cooperaci\xf3n",duracion:"6-10 min",starsReales:2,starsSimbolicas:2,dificultad:"Media",popularidad:71,activo:!0,maxStarsPorSesion:2},{id:"versusTap",nombre:"\ud83d\udd01 Versus Tap",descripcion:"Tapping challenge: compiten tocando m\xe1s r\xe1pido un elemento que se mueve",objetivo:"Ritmo + Competencia",duracion:"2-3 min",starsReales:1,starsSimbolicas:3,dificultad:"F\xe1cil",popularidad:89,activo:!0,maxStarsPorSesion:1}],"3+P":[{id:"quienSoyYo",nombre:"\ud83e\udd2b Qui\xe9n Soy Yo",descripcion:"Juego cl\xe1sico de adivinanza (pueden usar personajes de KumIA o ingredientes)",objetivo:"Risa + Juego verbal",duracion:"8-12 min",starsReales:2,starsSimbolicas:4,dificultad:"F\xe1cil",popularidad:94,activo:!0,maxStarsPorSesion:2},{id:"desafioKumia",nombre:"\ud83e\udd39 Desaf\xedo KumIA",descripcion:"Serie de mini-retos en mesa (apilar servilletas, cantar jingle, trivia)",objetivo:"Risa + Movimiento",duracion:"10-15 min",starsReales:2,starsSimbolicas:3,dificultad:"Media",popularidad:87,activo:!0,maxStarsPorSesion:2},{id:"totemFelicidad",nombre:"\ud83e\uddc3 T\xf3tem de la Felicidad",descripcion:"Cada jugador aporta algo (una palabra, acci\xf3n, brindis), se forma un ritual",objetivo:"V\xednculo + Repetici\xf3n emocional",duracion:"5-8 min",starsReales:2,starsSimbolicas:5,dificultad:"F\xe1cil",popularidad:82,activo:!0,maxStarsPorSesion:2},{id:"misionOculta",nombre:"\ud83e\uddd9 Misi\xf3n Oculta",descripcion:"Uno recibe una misi\xf3n secreta (hacer re\xedr, decir cierta palabra), los dem\xe1s deben descubrirlo",objetivo:"Intriga + Risa",duracion:"10-15 min",starsReales:2,starsSimbolicas:2,dificultad:"Alta",popularidad:76,activo:!0,maxStarsPorSesion:2}]}),k=[{mesaId:"mesa_5",juego:"KumIA Duel",jugadores:2,tiempoRestante:"4:32",starsEnJuego:6},{mesaId:"mesa_12",juego:"Desaf\xedo KumIA",jugadores:4,tiempoRestante:"8:15",starsEnJuego:8},{mesaId:"mesa_3",juego:"Pac-KumIA",jugadores:1,tiempoRestante:"2:48",starsEnJuego:5}],[S,C]=(0,r.useState)({geofencing:!0,tiempoMaximoSesion:45,sesionesMaximasPorCliente:1,tiempoEsperaMinimo:10,validacionQR:!0,validacionGeolocation:!0,radiusGeofencing:50,antifraudeAvanzado:!0});return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83c\udfae Juegos Multijugador"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Sistema gamificado con recompensas controladas y m\xe9tricas de impacto"})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>l(!0),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"\ud83c\udfaf Configuraci\xf3n de Juegos"}),(0,ox.jsx)("button",{onClick:()=>u(!0),className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:"\ud83d\udcca UserWebApp Preview"})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:[(0,ox.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:y.sesionesDiarias}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:"Sesiones Hoy"}),(0,ox.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"+23% vs ayer"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:[(0,ox.jsx)("div",{className:"text-3xl font-bold text-green-600",children:y.starsEntregadas}),(0,ox.jsx)("div",{className:"text-sm text-green-700",children:"Stars Entregadas"}),(0,ox.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"134 reales + 22 simb\xf3licas"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:[(0,ox.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:y.juegoMasJugado}),(0,ox.jsx)("div",{className:"text-sm text-purple-700",children:"Juego M\xe1s Popular"}),(0,ox.jsx)("div",{className:"text-xs text-purple-600 mt-1",children:"34% de las sesiones"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:[(0,ox.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:y.participacionPromedio}),(0,ox.jsx)("div",{className:"text-sm text-orange-700",children:"Participaci\xf3n"}),(0,ox.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"Promedio por mesa"})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"\ud83c\udfaf Cat\xe1logo de Juegos por Tipo"}),(0,ox.jsx)("div",{className:"flex space-x-2",children:["1P","2P","3+P"].map((e=>(0,ox.jsx)("button",{onClick:()=>v(e),className:"px-4 py-2 rounded-lg text-sm transition-colors ".concat(b===e?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"1P"===e?"\ud83c\udfaf Single Player":"2P"===e?"\ud83d\udc95 Parejas":"\ud83d\udc65 Grupos"},e)))})]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N[b].map((e=>(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsx)("h4",{className:"font-bold text-gray-800",children:e.nombre}),(0,ox.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ox.jsx)("div",{className:"w-12 h-2 bg-gray-200 rounded-full",children:(0,ox.jsx)("div",{className:"h-2 bg-green-500 rounded-full transition-all duration-300",style:{width:"".concat(e.popularidad,"%")}})}),(0,ox.jsxs)("span",{className:"text-xs text-gray-500",children:[e.popularidad,"%"]})]})]}),(0,ox.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.descripcion}),(0,ox.jsxs)("div",{className:"space-y-2 text-xs mb-4",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Objetivo:"}),(0,ox.jsx)("span",{className:"font-medium text-blue-600",children:e.objetivo})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Duraci\xf3n:"}),(0,ox.jsx)("span",{className:"font-medium",children:e.duracion})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Dificultad:"}),(0,ox.jsx)("span",{className:"font-medium ".concat("F\xe1cil"===e.dificultad?"text-green-600":"Media"===e.dificultad?"text-yellow-600":"text-red-600"),children:e.dificultad})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Max Stars/Sesi\xf3n:"}),(0,ox.jsx)("span",{className:"font-medium text-red-600",children:e.maxStarsPorSesion})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-lg font-bold text-orange-600",children:e.starsReales}),(0,ox.jsx)("div",{className:"text-xs text-orange-700",children:"Stars Reales"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-lg font-bold text-blue-600",children:e.starsSimbolicas}),(0,ox.jsx)("div",{className:"text-xs text-blue-700",children:"KumiSmile Stars"})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>(e=>{h(e)})(e),className:"flex-1 bg-blue-100 text-blue-700 py-2 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"\u2699\ufe0f Configurar"}),(0,ox.jsx)("button",{onClick:()=>(e=>{x(e)})(e),className:"flex-1 bg-green-100 text-green-700 py-2 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"\ud83c\udfae Vista Previa"})]})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\u26a1 Sesiones Activas en Tiempo Real"}),k.length>0?(0,ox.jsxs)("div",{className:"space-y-3",children:[k.map(((e,t)=>(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,ox.jsxs)("div",{className:"flex-1",children:[(0,ox.jsx)("h4",{className:"font-medium text-green-800",children:e.juego}),(0,ox.jsxs)("p",{className:"text-sm text-green-700",children:["Mesa ",e.mesaId," \u2022 ",e.jugadores," jugadores activos"]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-xs text-green-600",children:[(0,ox.jsxs)("span",{children:["\u23f1\ufe0f Tiempo jugando: ",Math.floor(15*Math.random())+5," min"]}),(0,ox.jsxs)("span",{children:["\ud83c\udfaf ",e.starsEnJuego," stars en juego"]})]})]}),(0,ox.jsxs)("div",{className:"text-right",children:[(0,ox.jsx)("div",{className:"text-lg font-bold text-green-600",children:e.tiempoRestante}),(0,ox.jsx)("div",{className:"text-xs text-green-700 mb-2",children:"restante"}),(0,ox.jsxs)("div",{className:"flex space-x-1",children:[(0,ox.jsx)("button",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs hover:bg-red-200 transition-colors",children:"\ud83d\udd12 Bloquear"}),(0,ox.jsx)("button",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs hover:bg-blue-200 transition-colors",children:"\u2705 Habilitar"})]})]})]},t))),(0,ox.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{className:"flex-1 bg-green-100 text-green-700 py-2 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"\ud83d\udcca Ver Todas las Sesiones"}),(0,ox.jsx)("button",{className:"flex-1 bg-orange-100 text-orange-700 py-2 rounded-lg text-sm hover:bg-orange-200 transition-colors",children:"\ud83d\udea8 Gesti\xf3n de Emergencia"})]})})]}):(0,ox.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ox.jsx)("div",{className:"text-4xl mb-2",children:"\ud83c\udfae"}),(0,ox.jsx)("p",{children:"No hay sesiones activas actualmente"}),(0,ox.jsx)("button",{className:"mt-3 bg-blue-100 text-blue-700 px-4 py-2 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"\ud83d\udd04 Actualizar Estado"})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"\ud83d\udd10 Panel de Seguridad"}),(0,ox.jsx)("button",{onClick:()=>f(!0),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"\u2699\ufe0f Configurar"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800",children:"Geofencing Activo"}),(0,ox.jsxs)("p",{className:"text-sm text-blue-600",children:["Radio: ",S.radiusGeofencing,"m"]})]}),(0,ox.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ox.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:S.geofencing,onChange:e=>C((t=>d(d({},t),{},{geofencing:e.target.checked})))}),(0,ox.jsx)("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-green-800",children:"QR Din\xe1mico"}),(0,ox.jsx)("p",{className:"text-sm text-green-600",children:"Por pedido \xfanico"})]}),(0,ox.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ox.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:S.validacionQR,onChange:e=>C((t=>d(d({},t),{},{validacionQR:e.target.checked})))}),(0,ox.jsx)("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-green-600"})]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-purple-800",children:"L\xedmite de Tiempo"}),(0,ox.jsxs)("p",{className:"text-sm text-purple-600",children:[S.tiempoMaximoSesion," min por sesi\xf3n"]})]}),(0,ox.jsxs)("div",{className:"text-lg font-bold text-purple-600",children:[S.tiempoMaximoSesion,"'"]})]}),(0,ox.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-800",children:"Anti-Fraude"}),(0,ox.jsxs)("p",{className:"text-sm text-orange-600",children:[S.sesionesMaximasPorCliente," sesi\xf3n por cliente"]})]}),(0,ox.jsx)("div",{className:"text-lg font-bold text-orange-600",children:"\u2713"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"\ud83d\udd11 Aprobar Inicio de Sesi\xf3n de Juego"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Modo asistido:"}),(0,ox.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ox.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,ox.jsx)("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-green-600"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\u26a0\ufe0f"}),(0,ox.jsx)("h4",{className:"font-bold text-yellow-800",children:"Asistencia Administrativa Requerida"})]}),(0,ox.jsx)("p",{className:"text-sm text-yellow-700",children:"Cuando el QR no est\xe1 disponible o hay problemas t\xe9cnicos, puedes autorizar manualmente el inicio de sesiones de juego."})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsx)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-800",children:"Mesa 8 - Solicitud de Acceso"}),(0,ox.jsx)("p",{className:"text-sm text-orange-700",children:"Cliente: Mar\xeda Gonz\xe1lez \u2022 Juego: KumIA Duel"}),(0,ox.jsx)("p",{className:"text-xs text-orange-600",children:"Motivo: QR da\xf1ado en mesa \u2022 Hace 2 min"})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{className:"bg-green-500 text-white px-3 py-2 rounded text-sm hover:bg-green-600 transition-colors",children:"\u2705 Aprobar"}),(0,ox.jsx)("button",{className:"bg-red-100 text-red-700 px-3 py-2 rounded text-sm hover:bg-red-200 transition-colors",children:"\u274c Rechazar"})]})]})}),(0,ox.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800",children:"Mesa 12 - Solicitud de Acceso"}),(0,ox.jsx)("p",{className:"text-sm text-blue-700",children:"Cliente: Carlos Ruiz \u2022 Juego: Qui\xe9n Soy Yo"}),(0,ox.jsx)("p",{className:"text-xs text-blue-600",children:"Motivo: Error en app m\xf3vil \u2022 Hace 5 min"})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{className:"bg-green-500 text-white px-3 py-2 rounded text-sm hover:bg-green-600 transition-colors",children:"\u2705 Aprobar"}),(0,ox.jsx)("button",{className:"bg-red-100 text-red-700 px-3 py-2 rounded text-sm hover:bg-red-200 transition-colors",children:"\u274c Rechazar"})]})]})}),(0,ox.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-dashed border-gray-300",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"\ud83d\ude80 Aprobaci\xf3n Manual R\xe1pida"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,ox.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{children:"Seleccionar Mesa"}),(0,ox.jsx)("option",{children:"Mesa 1"}),(0,ox.jsx)("option",{children:"Mesa 2"}),(0,ox.jsx)("option",{children:"Mesa 3"}),(0,ox.jsx)("option",{children:"Mesa 4"}),(0,ox.jsx)("option",{children:"Mesa 5"}),(0,ox.jsx)("option",{children:"Mesa 6"}),(0,ox.jsx)("option",{children:"Mesa 7"}),(0,ox.jsx)("option",{children:"Mesa 8"}),(0,ox.jsx)("option",{children:"Mesa 9"}),(0,ox.jsx)("option",{children:"Mesa 10"})]}),(0,ox.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,ox.jsx)("option",{children:"Seleccionar Juego"}),(0,ox.jsx)("option",{children:"KumIA Duel"}),(0,ox.jsx)("option",{children:"KumiSudoku"}),(0,ox.jsx)("option",{children:"Pac-KumIA"}),(0,ox.jsx)("option",{children:"Qui\xe9n Soy Yo"}),(0,ox.jsx)("option",{children:"Desaf\xedo KumIA"}),(0,ox.jsx)("option",{children:"T\xf3tem de la Felicidad"})]}),(0,ox.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udd11 Generar Acceso"})]}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Genera un c\xf3digo de acceso temporal v\xe1lido por 10 minutos"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"\ud83d\udccb Historial Reciente"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,ox.jsx)("span",{className:"text-gray-700",children:"Mesa 3 - KumiSudoku - Ana L\xf3pez"}),(0,ox.jsx)("span",{className:"text-green-600 font-medium",children:"\u2705 Aprobado - 14:32"})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,ox.jsx)("span",{className:"text-gray-700",children:"Mesa 7 - KumIA Duel - Jorge Silva"}),(0,ox.jsx)("span",{className:"text-green-600 font-medium",children:"\u2705 Aprobado - 14:15"})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,ox.jsx)("span",{className:"text-gray-700",children:"Mesa 5 - Pac-KumIA - Luis Castro"}),(0,ox.jsx)("span",{className:"text-red-600 font-medium",children:"\u274c Rechazado - 13:58"})]})]})]})]})]}),o&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfaf Configuraci\xf3n General de Juegos"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Configuraci\xf3n global del sistema de juegos multijugador"})]}),(0,ox.jsx)("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:"\u2699\ufe0f Configuraci\xf3n Global"}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"L\xedmite Global Stars Reales por Cliente/D\xeda"}),(0,ox.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",defaultValue:"6",min:"0",max:"20"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"M\xe1ximo de stars reales que un cliente puede ganar por d\xeda"})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiempo de Espera Entre Sesiones (minutos)"}),(0,ox.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",defaultValue:"15",min:"0",max:"60"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Tiempo m\xednimo entre sesiones del mismo cliente"})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horarios de Activaci\xf3n"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ox.jsx)("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",defaultValue:"11:00"}),(0,ox.jsx)("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",defaultValue:"23:00"})]}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Horario en que los juegos est\xe1n disponibles"})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:"\ud83c\udfc6 Sistema de Recompensas"}),(0,ox.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-800 mb-3",children:"Conversi\xf3n Stars"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"1 Star Real ="}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("input",{type:"number",className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",defaultValue:"250"}),(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"CLP"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"1 KumiSmile Star ="}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("input",{type:"number",className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",defaultValue:"50"}),(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"CLP"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-red-800 mb-3",children:"Configuraci\xf3n de Mesa"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2",defaultChecked:!0}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Requiere QR \xfanico por mesa"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2",defaultChecked:!0}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Validar geolocalizaci\xf3n"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Permitir juegos sin QR (modo asistido)"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-indigo-800 mb-3",children:"M\xe9tricas y Analytics"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2",defaultChecked:!0}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Tracking detallado de sesiones"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2",defaultChecked:!0}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"An\xe1lisis de engagement por juego"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Reportes autom\xe1ticos diarios"})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,ox.jsx)("button",{onClick:()=>l(!1),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 Configuraci\xf3n global de juegos guardada exitosamente"),l(!1)},className:"flex-1 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udcbe Guardar Configuraci\xf3n"})]})]})})}),c&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcca UserWebApp Preview - Juegos"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Vista previa de c\xf3mo los clientes ven los juegos en la UserWebApp"})]}),(0,ox.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:"\ud83d\udcf1 Vista Mobile (Cliente)"}),(0,ox.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg",style:{height:"600px"},children:(0,ox.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mx-auto",style:{width:"300px",height:"580px",overflow:"hidden"},children:[(0,ox.jsxs)("div",{className:"bg-orange-500 text-white p-3 text-center",children:[(0,ox.jsx)("h4",{className:"font-bold",children:"\ud83c\udfae Juegos IL MANDORLA"}),(0,ox.jsx)("p",{className:"text-xs",children:"Mesa 5 \u2022 Escanea para jugar"})]}),(0,ox.jsxs)("div",{className:"p-4 space-y-3",style:{height:"520px",overflowY:"scroll"},children:[(0,ox.jsxs)("div",{className:"text-center mb-4",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"47"}),(0,ox.jsx)("div",{className:"text-xs text-gray-600",children:"Stars disponibles hoy"})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ox.jsx)("h5",{className:"font-bold text-sm",children:"\ud83c\udccf KumIA Duel"}),(0,ox.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Disponible"})]}),(0,ox.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Reto de preguntas entre dos jugadores"}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsxs)("div",{className:"text-xs",children:[(0,ox.jsx)("span",{className:"text-orange-600 font-bold",children:"2 Stars"})," \u2022 5-8 min"]}),(0,ox.jsx)("button",{className:"bg-orange-500 text-white px-3 py-1 rounded text-xs",children:"\ud83c\udfae Jugar"})]})]}),(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 opacity-60",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ox.jsx)("h5",{className:"font-bold text-sm",children:"\ud83e\udde0 KumiSudoku"}),(0,ox.jsx)("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"En espera"})]}),(0,ox.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Sudoku express 4x4 individual"}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsxs)("div",{className:"text-xs",children:[(0,ox.jsx)("span",{className:"text-orange-600 font-bold",children:"2 Stars"})," \u2022 3-5 min"]}),(0,ox.jsx)("div",{className:"text-xs text-gray-500",children:"\u23f1\ufe0f 12 min restantes"})]})]}),(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ox.jsx)("h5",{className:"font-bold text-sm",children:"\ud83e\udd2b Qui\xe9n Soy Yo"}),(0,ox.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"3+ jugadores"})]}),(0,ox.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Adivinanza grupal divertida"}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsxs)("div",{className:"text-xs",children:[(0,ox.jsx)("span",{className:"text-orange-600 font-bold",children:"2 Stars"})," \u2022 8-12 min"]}),(0,ox.jsx)("button",{className:"bg-blue-500 text-white px-3 py-1 rounded text-xs",children:"\ud83d\udc65 Unirse"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg mt-4",children:[(0,ox.jsx)("h6",{className:"font-bold text-orange-800 text-sm mb-2",children:"\ud83d\udca1 Tu Estado de Juego"}),(0,ox.jsxs)("div",{className:"space-y-1 text-xs text-orange-700",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Stars ganadas hoy:"}),(0,ox.jsx)("span",{className:"font-bold",children:"4 / 6"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Pr\xf3ximo juego disponible:"}),(0,ox.jsx)("span",{className:"font-bold",children:"8 min"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Racha actual:"}),(0,ox.jsx)("span",{className:"font-bold",children:"3 d\xedas \ud83d\udd25"})]})]})]})]})]})})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:"\ud83d\udcca Analytics en Tiempo Real"}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-green-800 mb-3",children:"\ud83c\udfaf Sesiones Activas"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Mesa 5 - KumIA Duel:"}),(0,ox.jsx)("span",{className:"font-bold text-green-600",children:"4:32 restantes"})]}),(0,ox.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Mesa 12 - Desaf\xedo KumIA:"}),(0,ox.jsx)("span",{className:"font-bold text-green-600",children:"8:15 restantes"})]}),(0,ox.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Mesa 3 - Pac-KumIA:"}),(0,ox.jsx)("span",{className:"font-bold text-green-600",children:"2:48 restantes"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800 mb-3",children:"\ud83d\udcc8 M\xe9tricas de Hoy"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"47"}),(0,ox.jsx)("div",{className:"text-xs text-blue-700",children:"Sesiones"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"156"}),(0,ox.jsx)("div",{className:"text-xs text-blue-700",children:"Stars entregadas"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"73%"}),(0,ox.jsx)("div",{className:"text-xs text-blue-700",children:"Participaci\xf3n"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"18min"}),(0,ox.jsx)("div",{className:"text-xs text-blue-700",children:"Tiempo extra/mesa"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-purple-800 mb-3",children:"\ud83c\udfc6 Juegos M\xe1s Populares"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"KumIA Duel"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:(0,ox.jsx)("div",{className:"w-16 h-2 bg-purple-500 rounded-full"})}),(0,ox.jsx)("span",{className:"text-xs text-purple-600",children:"96%"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Qui\xe9n Soy Yo"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:(0,ox.jsx)("div",{className:"w-14 h-2 bg-purple-500 rounded-full"})}),(0,ox.jsx)("span",{className:"text-xs text-purple-600",children:"94%"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Pac-KumIA"}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:(0,ox.jsx)("div",{className:"w-12 h-2 bg-purple-500 rounded-full"})}),(0,ox.jsx)("span",{className:"text-xs text-purple-600",children:"92%"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-800 mb-3",children:"\ud83d\udca1 Insights IA"}),(0,ox.jsxs)("div",{className:"space-y-1 text-xs text-orange-700",children:[(0,ox.jsx)("p",{children:"\u2022 Mayor engagement entre 19:30-21:00"}),(0,ox.jsx)("p",{children:"\u2022 Juegos de parejas +23% participaci\xf3n"}),(0,ox.jsx)("p",{children:"\u2022 Tiempo \xf3ptimo: 5-8 minutos"}),(0,ox.jsx)("p",{children:"\u2022 Stars reales +45% fidelizaci\xf3n"})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,ox.jsx)("button",{onClick:()=>u(!1),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Cerrar"}),(0,ox.jsx)("button",{className:"flex-1 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udcf1 Abrir UserWebApp Real"}),(0,ox.jsx)("button",{className:"flex-1 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors",children:"\ud83d\udcca Exportar M\xe9tricas"})]})]})})}),m&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["\u2699\ufe0f Configurar: ",m.nombre]}),(0,ox.jsx)("p",{className:"text-gray-600",children:m.descripcion})]}),(0,ox.jsx)("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:"\ud83c\udfc6 Recompensas"}),(0,ox.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stars Reales por Victoria"}),(0,ox.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",defaultValue:m.starsReales,min:"0",max:"5"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"M\xe1ximo recomendado: 2 por sesi\xf3n"})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"KumiSmile Stars por Participaci\xf3n"}),(0,ox.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",defaultValue:m.starsSimbolicas,min:"0",max:"10"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Stars simb\xf3licas, no canjeables"})]}),(0,ox.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"L\xedmite M\xe1ximo por Sesi\xf3n"}),(0,ox.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",defaultValue:m.maxStarsPorSesion,min:"1",max:"2"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u26a0\ufe0f L\xedmite estricto para control de costos"})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:"\ud83c\udfae Configuraci\xf3n del Juego"}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duraci\xf3n Aproximada"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,ox.jsx)("option",{children:"2-3 minutos"}),(0,ox.jsx)("option",{children:"3-5 minutos"}),(0,ox.jsx)("option",{defaultValue:!0,children:"5-8 minutos"}),(0,ox.jsx)("option",{children:"8-12 minutos"}),(0,ox.jsx)("option",{children:"10-15 minutos"})]})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel de Dificultad"}),(0,ox.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,ox.jsx)("option",{children:"F\xe1cil"}),(0,ox.jsx)("option",{defaultValue:!0,children:"Media"}),(0,ox.jsx)("option",{children:"Alta"})]})]}),(0,ox.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-indigo-800 mb-3",children:"Estado del Juego"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2",defaultChecked:m.activo}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Juego Activo"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2",defaultChecked:!0}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Disponible en todos los horarios"})]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",className:"mr-2"}),(0,ox.jsx)("span",{className:"text-sm text-gray-700",children:"Requiere mesa completa"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-yellow-800 mb-2",children:"\ud83d\udcca Estad\xedsticas Actuales"}),(0,ox.jsxs)("div",{className:"text-xs text-yellow-700 space-y-1",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Popularidad:"}),(0,ox.jsxs)("span",{className:"font-bold",children:[m.popularidad,"%"]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Sesiones hoy:"}),(0,ox.jsx)("span",{className:"font-bold",children:"12"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Stars entregadas:"}),(0,ox.jsx)("span",{className:"font-bold",children:"24"})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,ox.jsx)("button",{onClick:()=>h(null),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 Configuraci\xf3n de ".concat(m.nombre," guardada exitosamente!")),h(null)},className:"flex-1 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udcbe Guardar Cambios"}),(0,ox.jsx)("button",{className:"flex-1 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors",children:"\ud83c\udfae Probar Juego"})]})]})})}),p&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["\ud83c\udfae Vista Previa: ",p.nombre]}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Simulaci\xf3n de experiencia del usuario"})]}),(0,ox.jsx)("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:"\ud83d\udcf1 Interfaz del Juego"}),(0,ox.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 text-white",style:{minHeight:"400px"},children:["kumiaVersus"===p.id&&(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("h4",{className:"text-2xl font-bold text-orange-400 mb-2",children:"\ud83c\udccf KumIA Duel"}),(0,ox.jsx)("p",{className:"text-sm text-gray-300",children:"Mesa 5 \u2022 Ronda 3 de 5"})]}),(0,ox.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,ox.jsx)("h5",{className:"font-bold text-yellow-400 mb-2",children:"Pregunta:"}),(0,ox.jsx)("p",{className:"text-sm mb-4",children:"\xbfCu\xe1l es el plato estrella de IL MANDORLA que m\xe1s ha conquistado paladares este a\xf1o?"}),(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsx)("button",{className:"w-full bg-blue-600 hover:bg-blue-700 p-2 rounded text-left",children:"A) Brisket Ahumado 12 Horas"}),(0,ox.jsx)("button",{className:"w-full bg-green-600 hover:bg-green-700 p-2 rounded text-left",children:"B) Pulled Pork Signature"}),(0,ox.jsx)("button",{className:"w-full bg-purple-600 hover:bg-purple-700 p-2 rounded text-left",children:"C) Costillas BBQ Premium"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:"2"}),(0,ox.jsx)("div",{className:"text-xs text-gray-400",children:"Jugador 1"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-lg text-orange-400",children:"\u23f1\ufe0f 0:28"}),(0,ox.jsx)("div",{className:"text-xs text-gray-400",children:"Tiempo restante"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-400",children:"1"}),(0,ox.jsx)("div",{className:"text-xs text-gray-400",children:"Jugador 2"})]})]})]}),"kumiSudoku"===p.id&&(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("h4",{className:"text-2xl font-bold text-blue-400 mb-2",children:"\ud83e\udde0 KumiSudoku"}),(0,ox.jsx)("p",{className:"text-sm text-gray-300",children:"Nivel: Intermedio \u2022 4x4"})]}),(0,ox.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,ox.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[1,2,"",4,"",3,4,1,4,1,"",3,3,"",1,2].map(((e,t)=>(0,ox.jsx)("div",{className:"w-12 h-12 bg-gray-700 border border-gray-600 flex items-center justify-center text-white font-bold rounded",children:e},t)))}),(0,ox.jsxs)("div",{className:"flex justify-between text-xs text-gray-400",children:[(0,ox.jsx)("span",{children:"Completo: 62%"}),(0,ox.jsx)("span",{children:"\u23f1\ufe0f 2:45 restantes"}),(0,ox.jsx)("span",{children:"Errores: 1/3"})]})]})]}),"quienSoyYo"===p.id&&(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("h4",{className:"text-2xl font-bold text-purple-400 mb-2",children:"\ud83e\udd2b Qui\xe9n Soy Yo"}),(0,ox.jsx)("p",{className:"text-sm text-gray-300",children:"Mesa 12 \u2022 4 Jugadores"})]}),(0,ox.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udf56"}),(0,ox.jsx)("h5",{className:"font-bold text-yellow-400 mb-2",children:"Tu Personaje:"}),(0,ox.jsx)("p",{className:"text-lg text-white bg-gray-700 p-3 rounded",children:"BRISKET AHUMADO"}),(0,ox.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Los dem\xe1s deben adivinar qu\xe9 eres haciendo preguntas"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ox.jsx)("button",{className:"bg-green-600 hover:bg-green-700 p-2 rounded text-sm",children:"\u2705 S\xed"}),(0,ox.jsx)("button",{className:"bg-red-600 hover:bg-red-700 p-2 rounded text-sm",children:"\u274c No"})]})]}),(0,ox.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-700",children:(0,ox.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[(0,ox.jsxs)("span",{children:["\ud83c\udfc6 ",p.starsReales," Stars Reales en juego"]}),(0,ox.jsxs)("span",{children:["\ud83c\udfad ",p.starsSimbolicas," KumiSmile Stars"]})]})})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:"\ud83d\udcca Informaci\xf3n del Juego"}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800 mb-3",children:"\ud83c\udfaf Detalles"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm text-blue-700",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Objetivo:"}),(0,ox.jsx)("span",{className:"font-bold",children:p.objetivo})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Duraci\xf3n:"}),(0,ox.jsx)("span",{className:"font-bold",children:p.duracion})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Dificultad:"}),(0,ox.jsx)("span",{className:"font-bold",children:p.dificultad})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Popularidad:"}),(0,ox.jsxs)("span",{className:"font-bold",children:[p.popularidad,"%"]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-green-800 mb-3",children:"\ud83c\udfc6 Sistema de Recompensas"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm text-green-700",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Stars Reales:"}),(0,ox.jsx)("span",{className:"font-bold text-orange-600",children:p.starsReales})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"KumiSmile Stars:"}),(0,ox.jsx)("span",{className:"font-bold text-blue-600",children:p.starsSimbolicas})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"L\xedmite por sesi\xf3n:"}),(0,ox.jsx)("span",{className:"font-bold text-red-600",children:p.maxStarsPorSesion})]})]})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-purple-800 mb-3",children:"\ud83d\udcc8 Estad\xedsticas de Hoy"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"12"}),(0,ox.jsx)("div",{className:"text-xs text-purple-700",children:"Sesiones"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"24"}),(0,ox.jsx)("div",{className:"text-xs text-purple-700",children:"Stars entregadas"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"8.5min"}),(0,ox.jsx)("div",{className:"text-xs text-purple-700",children:"Duraci\xf3n promedio"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"4.7"}),(0,ox.jsx)("div",{className:"text-xs text-purple-700",children:"Rating promedio"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-800 mb-3",children:"\ud83d\udca1 Insights"}),(0,ox.jsxs)("div",{className:"space-y-1 text-xs text-orange-700",children:[(0,ox.jsxs)("p",{children:["\u2022 Este juego aumenta el tiempo de permanencia en +",Math.floor(15*Math.random())+5," min"]}),(0,ox.jsxs)("p",{children:["\u2022 ",Math.floor(20*Math.random())+60,'% de los jugadores lo califican como "muy divertido"']}),(0,ox.jsxs)("p",{children:["\u2022 Genera ",Math.floor(10*Math.random())+15,"% m\xe1s propinas promedio"]}),(0,ox.jsxs)("p",{children:["\u2022 ",Math.floor(25*Math.random())+70,"% de probabilidad de repetir visita"]})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,ox.jsx)("button",{onClick:()=>x(null),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Cerrar"}),(0,ox.jsx)("button",{className:"flex-1 bg-orange-500 text-white px-6 py-3 rounded-lg hover:bg-orange-600 transition-colors",children:"\u2699\ufe0f Configurar Juego"}),(0,ox.jsx)("button",{className:"flex-1 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors",children:"\ud83d\ude80 Activar en Todas las Mesas"})]})]})})}),g&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udd10 Configuraci\xf3n de Seguridad"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Configuraci\xf3n avanzada de seguridad y anti-fraude"})]}),(0,ox.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:"\ud83d\udccd Geofencing y Ubicaci\xf3n"}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsxs)("label",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsx)("span",{className:"font-medium text-blue-800",children:"Validaci\xf3n por Geolocalizaci\xf3n"}),(0,ox.jsx)("input",{type:"checkbox",className:"w-5 h-5",checked:S.validacionGeolocation,onChange:e=>C((t=>d(d({},t),{},{validacionGeolocation:e.target.checked})))})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Radio de Geofencing (metros)"}),(0,ox.jsx)("input",{type:"range",min:"10",max:"100",value:S.radiusGeofencing,onChange:e=>C((t=>d(d({},t),{},{radiusGeofencing:parseInt(e.target.value)}))),className:"w-full"}),(0,ox.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,ox.jsx)("span",{children:"10m"}),(0,ox.jsxs)("span",{className:"font-medium",children:[S.radiusGeofencing,"m"]}),(0,ox.jsx)("span",{children:"100m"})]})]}),(0,ox.jsxs)("div",{className:"text-xs text-blue-700",children:[(0,ox.jsx)("p",{children:"\u2022 Radio actual permite flexibilidad para mesas de terraza"}),(0,ox.jsx)("p",{children:"\u2022 Precisi\xf3n GPS t\xedpica: \xb13-5 metros"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsxs)("label",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsx)("span",{className:"font-medium text-green-800",children:"QR Din\xe1mico por Mesa"}),(0,ox.jsx)("input",{type:"checkbox",className:"w-5 h-5",checked:S.validacionQR,onChange:e=>C((t=>d(d({},t),{},{validacionQR:e.target.checked})))})]}),(0,ox.jsxs)("div",{className:"space-y-2 text-xs text-green-700",children:[(0,ox.jsx)("p",{children:"\u2022 QR \xfanico por mesa renovado cada pedido"}),(0,ox.jsx)("p",{children:"\u2022 Previene uso de QR desde otras ubicaciones"}),(0,ox.jsx)("p",{children:"\u2022 Caducidad autom\xe1tica: 2 horas"})]})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800",children:"\ud83d\udee1\ufe0f L\xedmites y Anti-fraude"}),(0,ox.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-red-800 mb-3",children:"\u23f1\ufe0f L\xedmites de Tiempo"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiempo M\xe1ximo por Sesi\xf3n (minutos)"}),(0,ox.jsx)("input",{type:"number",min:"5",max:"60",value:S.tiempoMaximoSesion,onChange:e=>C((t=>d(d({},t),{},{tiempoMaximoSesion:parseInt(e.target.value)}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiempo de Espera Entre Sesiones (minutos)"}),(0,ox.jsx)("input",{type:"number",min:"0",max:"60",value:S.tiempoEsperaMinimo,onChange:e=>C((t=>d(d({},t),{},{tiempoEsperaMinimo:parseInt(e.target.value)}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-800 mb-3",children:"\ud83c\udfaf L\xedmites de Participaci\xf3n"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sesiones M\xe1ximas por Cliente/D\xeda"}),(0,ox.jsxs)("select",{value:S.sesionesMaximasPorCliente,onChange:e=>C((t=>d(d({},t),{},{sesionesMaximasPorCliente:parseInt(e.target.value)}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,ox.jsx)("option",{value:"1",children:"1 sesi\xf3n"}),(0,ox.jsx)("option",{value:"2",children:"2 sesiones"}),(0,ox.jsx)("option",{value:"3",children:"3 sesiones"}),(0,ox.jsx)("option",{value:"5",children:"5 sesiones"})]})]}),(0,ox.jsxs)("div",{className:"text-xs text-orange-700",children:[(0,ox.jsx)("p",{children:"\u2022 Balance entre engagement y control de costos"}),(0,ox.jsx)("p",{children:"\u2022 Recomendado: 1-2 sesiones para control \xf3ptimo"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ox.jsxs)("label",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsx)("span",{className:"font-medium text-purple-800",children:"Anti-fraude Avanzado"}),(0,ox.jsx)("input",{type:"checkbox",className:"w-5 h-5",checked:S.antifraudeAvanzado,onChange:e=>C((t=>d(d({},t),{},{antifraudeAvanzado:e.target.checked})))})]}),(0,ox.jsxs)("div",{className:"space-y-2 text-xs text-purple-700",children:[(0,ox.jsx)("p",{children:"\u2022 Detecci\xf3n de patrones sospechosos"}),(0,ox.jsx)("p",{children:"\u2022 An\xe1lisis de comportamiento de usuario"}),(0,ox.jsx)("p",{children:"\u2022 Validaci\xf3n cruzada con sistema de pedidos"}),(0,ox.jsx)("p",{children:"\u2022 Alertas autom\xe1ticas por actividad inusual"})]})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 bg-gray-50 p-6 rounded-lg",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800 mb-4",children:"\ud83d\udccb Resumen de Configuraci\xf3n Actual"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[(0,ox.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,ox.jsx)("div",{className:"font-medium text-gray-700",children:"Geofencing"}),(0,ox.jsx)("div",{className:"text-blue-600",children:S.validacionGeolocation?"\u2705 Activo (".concat(S.radiusGeofencing,"m)"):"\u274c Inactivo"})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,ox.jsx)("div",{className:"font-medium text-gray-700",children:"QR Din\xe1mico"}),(0,ox.jsx)("div",{className:"text-green-600",children:S.validacionQR?"\u2705 Activo":"\u274c Inactivo"})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,ox.jsx)("div",{className:"font-medium text-gray-700",children:"L\xedmite de Tiempo"}),(0,ox.jsxs)("div",{className:"text-orange-600",children:[S.tiempoMaximoSesion," min/sesi\xf3n"]})]}),(0,ox.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,ox.jsx)("div",{className:"font-medium text-gray-700",children:"Anti-fraude"}),(0,ox.jsx)("div",{className:"text-purple-600",children:S.antifraudeAvanzado?"\u2705 Avanzado":"\u26a0\ufe0f B\xe1sico"})]})]})]}),(0,ox.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,ox.jsx)("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 Configuraci\xf3n de seguridad guardada exitosamente!"),f(!1)},className:"flex-1 bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors",children:"\ud83d\udd10 Guardar Configuraci\xf3n"}),(0,ox.jsx)("button",{className:"flex-1 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83e\uddea Probar Configuraci\xf3n"})]})]})})}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-6 border border-emerald-200",children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-emerald-800 mb-4",children:"\ud83d\udcca M\xe9tricas de Impacto de Juegos"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-emerald-600",children:"+18 min"}),(0,ox.jsx)("div",{className:"text-sm text-emerald-700",children:"Tiempo promedio extra por mesa"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"+32%"}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:"Incremento en ticket promedio"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"4.8/5"}),(0,ox.jsx)("div",{className:"text-sm text-purple-700",children:"Satisfacci\xf3n con juegos"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"67%"}),(0,ox.jsx)("div",{className:"text-sm text-orange-700",children:"Tasa de re-participaci\xf3n"})]})]}),(0,ox.jsxs)("div",{className:"mt-6 p-4 bg-white rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"\ud83d\udca1 Insights KUMIA"}),(0,ox.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,ox.jsx)("p",{children:"\u2022 Los juegos de 2 jugadores tienen 23% m\xe1s engagement que individuales"}),(0,ox.jsx)("p",{children:"\u2022 Sesiones entre 5-8 minutos generan mayor satisfacci\xf3n del cliente"}),(0,ox.jsx)("p",{children:"\u2022 Juegos con recompensas reales aumentan la fidelizaci\xf3n en un 45%"}),(0,ox.jsx)("p",{children:"\u2022 Mayor participaci\xf3n detectada entre 19:30-21:00 hrs"})]})]})]})]})},vx=()=>{const[e,t]=(0,r.useState)("team-management"),[s,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[h,p]=(0,r.useState)([{id:1,name:"Carlos Mendoza",email:"carlos.mendoza@ilmandorla.com",phone:"+595 21 123456",avatar:null,rating:4.8,totalOrders:234,avgDeliveryTime:12.5,customerSatisfaction:96,shiftsThisWeek:5,hoursWorked:42,tips:45e4,bonusPoints:89,status:"active",shift:"morning",startDate:"2024-01-15",performance:{speed:92,quality:96,sales:88,teamwork:94},goals:{ordersTarget:300,current:234,satisfaction:95,currentSatisfaction:96},alerts:["Excelente rendimiento esta semana","Cliente VIP asignado mesa 5"]},{id:2,name:"Ana Rodriguez",email:"ana.rodriguez@ilmandorla.com",phone:"+595 21 234567",avatar:null,rating:4.6,totalOrders:189,avgDeliveryTime:14.2,customerSatisfaction:92,shiftsThisWeek:4,hoursWorked:35,tips:38e4,bonusPoints:67,status:"active",shift:"evening",startDate:"2024-03-01",performance:{speed:88,quality:94,sales:85,teamwork:91},goals:{ordersTarget:250,current:189,satisfaction:93,currentSatisfaction:92},alerts:["Mejorar tiempo de entrega","Buen feedback en redes sociales"]},{id:3,name:"Diego Paredes",email:"diego.paredes@ilmandorla.com",phone:"+595 21 345678",avatar:null,rating:4.9,totalOrders:312,avgDeliveryTime:10.8,customerSatisfaction:98,shiftsThisWeek:6,hoursWorked:48,tips:62e4,bonusPoints:134,status:"active",shift:"full-time",startDate:"2023-11-10",performance:{speed:98,quality:97,sales:95,teamwork:96},goals:{ordersTarget:350,current:312,satisfaction:97,currentSatisfaction:98},alerts:["\ud83c\udfc6 Top performer del mes","Mentor asignado para nuevos"]}]),x=()=>(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udc65 Gesti\xf3n Individual de Garzones"}),(0,ox.jsx)("button",{onClick:()=>n(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"\u2795 Agregar Garz\xf3n"})]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((e=>(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-lg transition-all duration-300",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center mr-4",children:e.avatar?(0,ox.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,ox.jsx)("span",{className:"text-white font-bold text-lg",children:e.name.split(" ").map((e=>e[0])).join("")})}),(0,ox.jsxs)("div",{className:"flex-1",children:[(0,ox.jsx)("h4",{className:"font-bold text-gray-800",children:e.name}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),(0,ox.jsx)("div",{className:"flex items-center mt-1",children:(0,ox.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"active"===e.status?"\u2705 Activo":"\u274c Inactivo"})})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ox.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.rating}),(0,ox.jsx)("div",{className:"text-xs text-blue-700",children:"Rating"})]}),(0,ox.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.totalOrders}),(0,ox.jsx)("div",{className:"text-xs text-green-700",children:"\xd3rdenes"})]}),(0,ox.jsxs)("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-yellow-600",children:[e.avgDeliveryTime,"min"]}),(0,ox.jsx)("div",{className:"text-xs text-yellow-700",children:"Tiempo Prom."})]}),(0,ox.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[e.customerSatisfaction,"%"]}),(0,ox.jsx)("div",{className:"text-xs text-purple-700",children:"Satisfacci\xf3n"})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ox.jsx)("button",{onClick:()=>m(e),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"\ud83d\udcca Ver Detalles"}),(0,ox.jsx)("button",{onClick:()=>{m(e),i(!0)},className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm",children:"\u23f0 Gestionar Turno"})]}),e.alerts.length>0&&(0,ox.jsx)("div",{className:"mt-4 space-y-2",children:e.alerts.map(((e,t)=>(0,ox.jsxs)("div",{className:"text-xs bg-yellow-50 text-yellow-800 p-2 rounded border border-yellow-200",children:["\ud83d\udca1 ",e]},t)))})]},e.id)))})]});return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udc68\u200d\ud83d\udcbc Gesti\xf3n Garz\xf3n WebApp"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Sistema integral de gesti\xf3n de equipo para optimizar rendimiento y cultura laboral"})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udcf1 Abrir App Garz\xf3n"}),(0,ox.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"\ud83d\udcca Reporte General"})]})]}),(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2",children:(0,ox.jsxs)("div",{className:"flex space-x-1",children:[(0,ox.jsx)("button",{onClick:()=>t("team-management"),className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat("team-management"===e?"bg-orange-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:"Gesti\xf3n de Equipo"}),(0,ox.jsx)("button",{onClick:()=>t("global-metrics"),className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat("global-metrics"===e?"bg-orange-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:"M\xe9tricas Globales"}),(0,ox.jsx)("button",{onClick:()=>t("performance-analysis"),className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat("performance-analysis"===e?"bg-orange-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:"An\xe1lisis de Rendimiento"}),(0,ox.jsx)("button",{onClick:()=>t("incentives"),className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat("incentives"===e?"bg-orange-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:"Sistema de Incentivos"})]})}),(0,ox.jsx)("div",{className:"w-full",children:(0,ox.jsx)(x,{})}),s&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u2795 Agregar Nuevo Garz\xf3n"}),(0,ox.jsx)("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),(0,ox.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Carlos"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido"}),(0,ox.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Mendoza"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,ox.jsx)("input",{type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"carlos.mendoza@ilmandorla.com"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tel\xe9fono"}),(0,ox.jsx)("input",{type:"tel",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+595 21 123456"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Turno preferido"}),(0,ox.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"morning",children:"Ma\xf1ana (6:00 - 14:00)"}),(0,ox.jsx)("option",{value:"evening",children:"Tarde (14:00 - 22:00)"}),(0,ox.jsx)("option",{value:"night",children:"Noche (22:00 - 6:00)"}),(0,ox.jsx)("option",{value:"full-time",children:"Tiempo Completo"})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-6",children:[(0,ox.jsx)("button",{onClick:()=>n(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\u2705 Garz\xf3n agregado exitosamente"),n(!1)},className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 font-bold",children:"\ud83d\udc68\u200d\ud83d\udcbc Agregar Garz\xf3n"})]})]})})})]})},yx=()=>{const[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(15e3),[m,h]=(0,r.useState)(80),[p,x]=(0,r.useState)(28),[g,f]=(0,r.useState)([{id:1,type:"credit",last4:"4242",brand:"Visa",expMonth:"12",expYear:"2027",isDefault:!0}]),[b,v]=(0,r.useState)({cardNumber:"",expMonth:"",expYear:"",cvc:"",holderName:"",isDefault:!1}),[y,j]=(0,r.useState)({restaurantName:"IL MANDORLA",email:"admin@ilmandorla.com",phone:"+595 21 123456",address:"Av. Revoluci\xf3n 1234, Ciudad de M\xe9xico",taxId:"12345678901",contactPerson:"Juan P\xe9rez"}),[N,w]=(0,r.useState)({restaurante:"IL MANDORLA Smokehouse",email:"admin@ilmandorla.com",motivo:"",mensaje:""}),k=e=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0}).format(e);return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-6 text-white",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"\ud83d\udcb3 Tu Facturaci\xf3n KumIA"}),(0,ox.jsx)("p",{className:"text-blue-100",children:"Portal Administrativo - Plan Anual KumIA Elite"})]}),(0,ox.jsxs)("div",{className:"text-right",children:[(0,ox.jsx)("div",{className:"text-sm text-blue-200",children:"Estado de Cuenta"}),(0,ox.jsx)("div",{className:"text-2xl font-bold",children:"$1,800,000"}),(0,ox.jsx)("div",{className:"text-sm text-blue-200",children:"Pagado de $2,400,000 anuales"})]})]})}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udcc4"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Facturaci\xf3n Electr\xf3nica"})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ox.jsx)("span",{className:"font-medium text-green-800",children:"\xdaltima Factura DTE"}),(0,ox.jsx)("span",{className:"text-sm text-green-600 bg-green-100 px-2 py-1 rounded",children:"Pagada"})]}),(0,ox.jsxs)("div",{className:"text-sm text-green-700",children:[(0,ox.jsx)("p",{children:"Folio: 001-2024-000847"}),(0,ox.jsx)("p",{children:"Fecha: 15 de Noviembre 2024"}),(0,ox.jsx)("p",{children:"Monto: $200,000 CLP"})]}),(0,ox.jsx)("button",{className:"mt-3 bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 transition-colors",children:"\ud83d\udce5 Descargar PDF"})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ox.jsx)("span",{className:"font-medium text-blue-800",children:"Pr\xf3xima Factura"}),(0,ox.jsx)("span",{className:"text-sm text-blue-600 bg-blue-100 px-2 py-1 rounded",children:"15 Dic 2024"})]}),(0,ox.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,ox.jsx)("p",{children:"Monto estimado: $200,000 CLP"}),(0,ox.jsx)("p",{children:"Concepto: Cuota mensual Plan Anual"})]})]}),(0,ox.jsx)("button",{className:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"\ud83d\udccb Ver Historial Completo DTE"})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udcc5"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Fechas de Pago"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-orange-800 mb-2",children:"Pr\xf3ximo Vencimiento"}),(0,ox.jsx)("div",{className:"text-2xl font-bold text-orange-700",children:"15 Diciembre 2024"}),(0,ox.jsx)("div",{className:"text-sm text-orange-600 mt-1",children:"En 18 d\xedas"})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-purple-800 mb-3",children:"Ciclo de Facturaci\xf3n Actual"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm text-purple-700",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Inicio del ciclo:"}),(0,ox.jsx)("span",{className:"font-medium",children:"15 Nov 2024"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Fin del ciclo:"}),(0,ox.jsx)("span",{className:"font-medium",children:"15 Dic 2024"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Modalidad:"}),(0,ox.jsx)("span",{className:"font-medium",children:"Pago Mensual"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-indigo-800 mb-2",children:"Plan Vigente"}),(0,ox.jsxs)("div",{className:"text-indigo-700",children:[(0,ox.jsx)("p",{className:"font-medium",children:"KumIA Elite - Plan Anual"}),(0,ox.jsx)("p",{className:"text-sm",children:"Vigencia hasta: 15 Noviembre 2025"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udcdc"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Contratos Firmados"})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsx)("span",{className:"font-medium text-gray-800",children:"Contrato KumIA Elite"}),(0,ox.jsx)("span",{className:"text-sm text-green-600 bg-green-100 px-2 py-1 rounded",children:"Activo"})]}),(0,ox.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,ox.jsx)("p",{children:"Fecha de firma: 15 de Noviembre 2023"}),(0,ox.jsx)("p",{children:"Vigencia: 12 meses (renovable)"}),(0,ox.jsx)("p",{children:"Cliente: IL MANDORLA Smokehouse SpA"}),(0,ox.jsx)("p",{children:"RUT: 76.543.210-8"})]}),(0,ox.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,ox.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"\ud83d\udce5 Descargar Contrato"}),(0,ox.jsx)("button",{className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300 transition-colors",children:"\ud83d\udccb Ver Detalles"})]})]}),(0,ox.jsx)("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-yellow-600 mr-2",children:"\u2139\ufe0f"}),(0,ox.jsx)("span",{className:"text-sm text-yellow-800",children:"Renovaci\xf3n autom\xe1tica activada para Noviembre 2025"})]})})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udcb3"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"M\xe9todos de Pago"})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-green-600 mr-2",children:"\ud83d\udcb3"}),(0,ox.jsx)("span",{className:"font-medium text-green-800",children:"Tarjeta Principal"})]}),(0,ox.jsx)("span",{className:"text-sm text-green-600 bg-green-100 px-2 py-1 rounded",children:"Activa"})]}),(0,ox.jsxs)("div",{className:"text-sm text-green-700",children:[(0,ox.jsx)("p",{children:"Visa \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 4289"}),(0,ox.jsx)("p",{children:"Vencimiento: 08/2027"}),(0,ox.jsx)("p",{children:"Titular: RESTAURANT IL MANDORLA SPA"})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-blue-600 mr-2",children:"\ud83c\udfe6"}),(0,ox.jsx)("span",{className:"font-medium text-blue-800",children:"Cuenta Corriente"})]}),(0,ox.jsx)("span",{className:"text-sm text-blue-600 bg-blue-100 px-2 py-1 rounded",children:"Respaldo"})]}),(0,ox.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,ox.jsx)("p",{children:"Banco de Chile - Cta. Cte."}),(0,ox.jsx)("p",{children:"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 7842"})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>i(!0),className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"\u2795 Agregar M\xe9todo"}),(0,ox.jsx)("button",{onClick:()=>l(!0),className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"\u270f\ufe0f Actualizar Datos"})]})]})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udcca"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Estado de Cuenta"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg border border-green-200",children:[(0,ox.jsx)("h4",{className:"font-bold text-green-800 mb-4",children:"Resumen Financiero"}),(0,ox.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-green-700",children:k(18e5)}),(0,ox.jsx)("div",{className:"text-sm text-green-600",children:"Pagado a la fecha"})]}),(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:k(6e5)}),(0,ox.jsx)("div",{className:"text-sm text-blue-600",children:"Restante del ciclo"})]})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Progreso del Plan Anual"}),(0,ox.jsx)("span",{className:"text-sm font-medium text-gray-800",children:"75%"})]}),(0,ox.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ox.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"75%"}})}),(0,ox.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,ox.jsx)("span",{children:"Nov 2023"}),(0,ox.jsx)("span",{children:"Nov 2025"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Detalles de Facturaci\xf3n"}),(0,ox.jsxs)("div",{className:"space-y-1 text-sm text-blue-700",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Plan Anual KumIA Elite:"}),(0,ox.jsx)("span",{className:"font-medium",children:k(24e5)})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Modalidad de pago:"}),(0,ox.jsx)("span",{className:"font-medium",children:"12 cuotas mensuales"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{children:"Cuota mensual:"}),(0,ox.jsx)("span",{className:"font-medium",children:k(2e5)})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udcda"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Historial de Pagos"})]}),(0,ox.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[{fecha:"15 Nov 2024",folio:"847",monto:2e5,metodo:"Visa \u2022\u20224289",estado:"Pagado"},{fecha:"15 Oct 2024",folio:"798",monto:2e5,metodo:"Visa \u2022\u20224289",estado:"Pagado"},{fecha:"15 Sep 2024",folio:"743",monto:2e5,metodo:"Visa \u2022\u20224289",estado:"Pagado"},{fecha:"15 Ago 2024",folio:"689",monto:2e5,metodo:"Visa \u2022\u20224289",estado:"Pagado"},{fecha:"15 Jul 2024",folio:"634",monto:2e5,metodo:"Cta. Cte. \u2022\u20227842",estado:"Pagado"},{fecha:"15 Jun 2024",folio:"578",monto:2e5,metodo:"Visa \u2022\u20224289",estado:"Pagado"},{fecha:"15 May 2024",folio:"523",monto:2e5,metodo:"Visa \u2022\u20224289",estado:"Pagado"},{fecha:"15 Abr 2024",folio:"467",monto:2e5,metodo:"Visa \u2022\u20224289",estado:"Pagado"},{fecha:"15 Mar 2024",folio:"412",monto:2e5,metodo:"Visa \u2022\u20224289",estado:"Pagado"}].map(((e,t)=>(0,ox.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[(0,ox.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,ox.jsx)("span",{className:"font-medium text-gray-800",children:e.fecha}),(0,ox.jsx)("span",{className:"text-sm text-green-600 bg-green-100 px-2 py-1 rounded",children:e.estado})]}),(0,ox.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsxs)("span",{children:["Folio: ",e.folio]}),(0,ox.jsx)("span",{className:"font-medium",children:k(e.monto)})]}),(0,ox.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["M\xe9todo: ",e.metodo]})]})]},t)))}),(0,ox.jsx)("button",{className:"w-full mt-4 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"\ud83d\udcc4 Exportar Historial Completo"})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udd01"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Simulador ROI KumIA"})]}),(0,ox.jsxs)("button",{onClick:()=>t(!e),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e?"Ocultar":"Mostrar"," Simulador"]})]}),e&&(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h4",{className:"font-bold text-gray-800",children:"Par\xe1metros de Simulaci\xf3n"}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ticket Promedio Actual (CLP)"}),(0,ox.jsx)("input",{type:"number",value:c,onChange:e=>u(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clientes Promedio por D\xeda"}),(0,ox.jsx)("input",{type:"number",value:m,onChange:e=>h(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,ox.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Incremento Esperado con KumIA (%)"}),(0,ox.jsx)("input",{type:"range",min:"10",max:"50",value:p,onChange:e=>x(parseInt(e.target.value)),className:"w-full"}),(0,ox.jsxs)("div",{className:"text-center text-lg font-bold text-orange-600",children:[p,"%"]})]})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("h4",{className:"font-bold text-gray-800",children:"Proyecci\xf3n de Resultados"}),(()=>{const e=(()=>{const e=c*m*30,t=e*(1+p/100),s=t-e,n=24e5,r=12*s-n;return{ingresosSinKumiA:e,ingresosConKumiA:t,incrementoMensual:s,beneficioAnual:r,roi:(r/n*100).toFixed(1)}})();return(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Ingresos Mensuales Sin KumIA"}),(0,ox.jsx)("div",{className:"text-xl font-bold text-gray-800",children:k(e.ingresosSinKumiA)})]}),(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-sm text-green-600",children:"Ingresos Mensuales Con KumIA"}),(0,ox.jsx)("div",{className:"text-xl font-bold text-green-700",children:k(e.ingresosConKumiA)})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-sm text-blue-600",children:"Incremento Mensual"}),(0,ox.jsx)("div",{className:"text-xl font-bold text-blue-700",children:k(e.incrementoMensual)})]}),(0,ox.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ox.jsx)("div",{className:"text-sm text-purple-600",children:"Beneficio Anual Neto"}),(0,ox.jsx)("div",{className:"text-xl font-bold text-purple-700",children:k(e.beneficioAnual)})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 p-4 rounded-lg border border-orange-200",children:[(0,ox.jsx)("div",{className:"text-sm text-orange-600",children:"ROI Proyectado"}),(0,ox.jsxs)("div",{className:"text-3xl font-bold text-orange-700",children:[e.roi,"%"]}),(0,ox.jsx)("div",{className:"text-xs text-orange-600 mt-1",children:parseFloat(e.roi)>0?"\u2705 Inversi\xf3n rentable":"\u26a0\ufe0f Revisar par\xe1metros"})]})]})})()]})]})]}),(0,ox.jsx)("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-6 border border-emerald-200",children:(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-xl font-bold text-emerald-800 mb-2",children:"\xbfNecesitas ayuda contable?"}),(0,ox.jsx)("p",{className:"text-emerald-700",children:"Nuestro equipo especializado est\xe1 aqu\xed para resolver tus consultas administrativas y tributarias."})]}),(0,ox.jsx)("button",{onClick:()=>n(!0),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition-colors font-medium",children:"\ud83d\udcac Cont\xe1ctar Equipo Contable"})]})}),s&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcac Contacto Contable"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Consultas administrativas y tributarias"})]}),(0,ox.jsx)("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("form",{onSubmit:e=>{e.preventDefault(),alert("\u2705 Solicitud enviada exitosamente a soporte@kumia.net\n\nTe contactaremos a la brevedad. Gracias por confiar en KumIA."),n(!1),w({restaurante:"IL MANDORLA Smokehouse",email:"admin@ilmandorla.com",motivo:"",mensaje:""})},className:"space-y-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Restaurante"}),(0,ox.jsx)("input",{type:"text",value:N.restaurante,onChange:e=>w((t=>d(d({},t),{},{restaurante:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",required:!0})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electr\xf3nico Asociado"}),(0,ox.jsx)("input",{type:"email",value:N.email,onChange:e=>w((t=>d(d({},t),{},{email:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",required:!0})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo del Contacto"}),(0,ox.jsxs)("select",{value:N.motivo,onChange:e=>w((t=>d(d({},t),{},{motivo:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",required:!0,children:[(0,ox.jsx)("option",{value:"",children:"Seleccionar motivo"}),(0,ox.jsx)("option",{value:"consulta-facturacion",children:"Consulta sobre facturaci\xf3n"}),(0,ox.jsx)("option",{value:"actualizacion-datos",children:"Actualizaci\xf3n de datos tributarios"}),(0,ox.jsx)("option",{value:"problema-pago",children:"Problema con m\xe9todo de pago"}),(0,ox.jsx)("option",{value:"solicitud-certificado",children:"Solicitud de certificados"}),(0,ox.jsx)("option",{value:"revision-contrato",children:"Revisi\xf3n de contrato"}),(0,ox.jsx)("option",{value:"consulta-dte",children:"Consulta sobre documentos DTE"}),(0,ox.jsx)("option",{value:"otro",children:"Otro"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje"}),(0,ox.jsx)("textarea",{value:N.mensaje,onChange:e=>w((t=>d(d({},t),{},{mensaje:e.target.value}))),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Describe tu consulta en detalle...",required:!0})]}),(0,ox.jsx)("div",{className:"bg-emerald-50 p-3 rounded-lg border border-emerald-200",children:(0,ox.jsxs)("div",{className:"flex items-center text-sm text-emerald-700",children:[(0,ox.jsx)("span",{className:"mr-2",children:"\ud83d\udce7"}),(0,ox.jsxs)("span",{children:["Se enviar\xe1 a: ",(0,ox.jsx)("strong",{children:"soporte@kumia.net"})]})]})}),(0,ox.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,ox.jsx)("button",{type:"button",onClick:()=>n(!1),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{type:"submit",className:"flex-1 bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition-colors",children:"\ud83d\udce4 Enviar Consulta"})]})]})]})})}),(0,ox.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl p-6 border border-gray-200",children:(0,ox.jsxs)("div",{className:"text-center",children:[(0,ox.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"KumIA Elite - Plan Anual"}),(0,ox.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Sistema integral de gesti\xf3n restaurante con IA, juegos interactivos y programa de fidelizaci\xf3n NFT"}),(0,ox.jsxs)("div",{className:"flex justify-center items-center space-x-6 text-xs text-gray-500",children:[(0,ox.jsx)("span",{children:"\u2705 Facturaci\xf3n autom\xe1tica"}),(0,ox.jsx)("span",{children:"\u2705 Soporte 24/7"}),(0,ox.jsx)("span",{children:"\u2705 Actualizaciones incluidas"}),(0,ox.jsx)("span",{children:"\u2705 Cumplimiento tributario"})]})]})})]})},jx={apiKey:"AIzaSyB-h_b6SZlA-2BxCsylZ8aU_FEFxsCweDs",authDomain:"kumia-il-mandorla-smokehouse.firebaseapp.com",projectId:"kumia-il-mandorla-smokehouse",storageBucket:"kumia-il-mandorla-smokehouse.firebasestorage.app",messagingSenderId:"686928202587",appId:"1:686928202587:web:ef157dda6b97285f42687e",measurementId:"G-NQTP0EC2MV"},Nx={enabled:!0,providers:["google","custom_jwt"],fallbackEnabled:!0},wx={enabled:!0,collections:{feedback:"feedback",reservations:"reservations",customers:"customers",menuItems:"menu_items",points:"points",notifications:"notifications"}},kx={enabled:!0,triggers:{birthdayAutomation:"birthday-automation",postVisitFeedback:"post-visit-feedback",rewardActivation:"reward-activation",referralTracking:"referral-tracking",webhookListeners:"webhook-listeners"}},Sx={enabled:!0,events:{menuView:"menu_view",orderComplete:"order_complete",feedbackSubmitted:"feedback_submitted",nftReceived:"nft_received",reservationCreated:"reservation_created"}},Cx="".concat("https://355dd713-0907-4ee1-a125-ebf97fe9c105.preview.emergentagent.com","/api");let Ex,_x,Ax,Ix,Tx;try{Ex=gt(jx),wx.enabled&&(_x=function(e,t){const s="object"==typeof e?e:ft(),n="string"==typeof e?e:t||Bn,r=ut(s,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=E("firestore");e&&jo(r,...e)}return r}(Ex)),Nx.enabled&&(Ax=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();const t=ut(e,"auth");if(t.isInitialized())return t.getImmediate();const s=function(e,t){const s=ut(e,"auth");if(s.isInitialized()){const e=s.getImmediate();if(G(s.getOptions(),null!==t&&void 0!==t?t:{}))return e;Xo(e,"already-initialized")}return s.initialize({options:t})}(e,{popupRedirectResolver:au,persistence:[xd,Jc,ed]}),n=A("authTokenSyncURL");if(n&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(n,location.origin);if(location.origin===e.origin){const t=(r=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),s=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>cu)return;const n=null===t||void 0===t?void 0:t.token;du!==n&&(du=n,await fetch(r,{method:n?"POST":"DELETE",headers:n?{Authorization:"Bearer ".concat(n)}:{}}))});!function(e,t,s){Z(e).beforeAuthStateChanged(t,s)}(s,t,(()=>t(s.currentUser))),function(e,t,s,n){Z(e).onIdTokenChanged(t,s,n)}(s,(e=>t(e)))}}var r;const a=C("auth");return a&&bc(s,"http://".concat(a)),s}(Ex)),Sx.enabled&&"undefined"!==typeof window&&(Ix=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();e=Z(e);const t=ut(e,tm);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=ut(e,tm);if(s.isInitialized()){const e=s.getImmediate();if(G(t,s.getOptions()))return e;throw rm.create("already-initialized")}return s.initialize({options:t})}(e)}(Ex)),kx.enabled&&(Tx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mm;const s=ut(Z(e),Rm).getImmediate({identifier:t}),n=E("functions");return n&&function(e,t,s){!function(e,t,s){const n=T(t);e.emulatorOrigin="http".concat(n?"s":"","://").concat(t,":").concat(s),n&&(P(e.emulatorOrigin),M("Functions",!0))}(Z(e),t,s)}(s,...n),s}(Ex)),console.log("\u2705 Firebase initialized successfully")}catch(Jx){console.warn("\u26a0\ufe0f Firebase initialization failed, using offline mode:",Jx)}const Px=(0,r.createContext)(),Rx=e=>{let{children:t}=e;const[s,n]=(0,r.useState)(!0),[a,i]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=async()=>{try{_x&&(i(!0),n(!0))}catch(Jx){console.warn("Firebase offline, using fallback mode"),i(!1),n(!1)}};e();const t=()=>{n(!0),e()},s=()=>{n(!1)};return window.addEventListener("online",t),window.addEventListener("offline",s),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}),[]);const o={app:Ex,db:_x,auth:Ax,analytics:Ix,functions:Tx,isOnline:s,firebaseReady:a};return(0,ox.jsx)(Px.Provider,{value:o,children:t})},Ox=(0,r.createContext)(),Mx=()=>{const e=(0,r.useContext)(Ox);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Dx=e=>{let{children:t}=e;const[s,n]=(0,r.useState)(null),[a,i]=(0,r.useState)(localStorage.getItem("token"));(0,r.useEffect)((()=>{a&&(ix.defaults.headers.common.Authorization="Bearer ".concat(a),o())}),[a]);const o=async()=>{try{const e=await ix.get("".concat(Cx,"/auth/me"));n(e.data)}catch(Jx){console.error("Error fetching user profile:",Jx),l()}},l=()=>{i(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user"),delete ix.defaults.headers.common.Authorization};return(0,ox.jsx)(Ox.Provider,{value:{user:s,login:async(e,t)=>{try{const s=await ix.post("".concat(Cx,"/auth/login"),{email:e,password:t}),{access_token:r,user:a}=s.data;return i(r),n(a),localStorage.setItem("token",r),ix.defaults.headers.common.Authorization="Bearer ".concat(r),!0}catch(Jx){return console.error("Login error:",Jx),!1}},googleLogin:async e=>{try{const t=e.credential,s=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(s).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),a=JSON.parse(r),o={id:a.sub,name:a.name,email:a.email,picture:a.picture,role:"admin"},l=btoa(JSON.stringify(o));return i(l),n(o),localStorage.setItem("token",l),localStorage.setItem("user",JSON.stringify(o)),!0}catch(Jx){return console.error("Google login error:",Jx),!1}},logout:l,isAuthenticated:!!a},children:t})},Lx=()=>{const[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[a,i]=(0,r.useState)(!1),{login:o,googleLogin:l}=Mx();return(0,ox.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:(0,ox.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[(0,ox.jsxs)("div",{className:"text-center mb-8",children:[(0,ox.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,ox.jsx)("span",{className:"text-white text-2xl font-bold",children:"IM"})}),(0,ox.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"IL MANDORLA"}),(0,ox.jsx)("p",{className:"text-gray-600 mb-1",children:"Dashboard Administrativo"}),(0,ox.jsx)("p",{className:"text-sm text-orange-600 font-medium",children:"Powered by KumIA Technology"})]}),(0,ox.jsx)("div",{className:"mb-6",children:(0,ox.jsx)(b,{onSuccess:async e=>{i(!0);await l(e)||alert("Error de autenticaci\xf3n con Google"),i(!1)},onError:()=>{alert("Error al iniciar sesi\xf3n con Google")},theme:"outline",size:"large",text:"signin_with",shape:"rectangular",locale:"es",useOneTap:!1})}),(0,ox.jsxs)("div",{className:"relative mb-6",children:[(0,ox.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,ox.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,ox.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,ox.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"O contin\xfaa con"})})]}),(0,ox.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0);await o(e,s)||alert("Error de autenticaci\xf3n"),i(!1)},className:"space-y-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,ox.jsx)("input",{type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all duration-200",placeholder:"admin@ilmandorla.com"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,ox.jsx)("input",{type:"password",required:!0,value:s,onChange:e=>n(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all duration-200",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,ox.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-3 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 transition-all duration-200 transform hover:scale-105 shadow-lg",children:a?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"})]}),(0,ox.jsx)("div",{className:"text-center mt-6",children:(0,ox.jsx)("p",{className:"text-xs text-gray-500",children:"Powered by KumIA Technology - Versi\xf3n 2.0"})})]})})},zx=e=>{let{children:t,content:s,position:n="top"}=e;const[a,i]=(0,r.useState)(!1);return(0,ox.jsxs)("div",{className:"relative inline-block",children:[(0,ox.jsx)("div",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:"cursor-help",children:t}),a&&(0,ox.jsxs)("div",{className:"absolute z-10 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg transition-opacity duration-200 ".concat("top"===n?"bottom-full mb-2":"top-full mt-2"," left-1/2 transform -translate-x-1/2 w-48"),children:[s,(0,ox.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 ".concat("top"===n?"top-full":"bottom-full"),children:(0,ox.jsx)("div",{className:"border-4 border-transparent ".concat("top"===n?"border-t-gray-900":"border-b-gray-900")})})]})]})},Fx=e=>{let{title:t,value:s,icon:n,color:r,trend:a,tooltip:i,category:o,onClick:l,loading:c=!1}=e;return(0,ox.jsxs)("div",{onClick:l,className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-lg transition-all duration-300 cursor-pointer transform hover:scale-105 ".concat(c?"animate-pulse":""),children:[(0,ox.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mr-3 ".concat("revenue"===o?"bg-gradient-to-br from-green-500 to-emerald-600":"engagement"===o?"bg-gradient-to-br from-purple-500 to-pink-600":"brand"===o?"bg-gradient-to-br from-blue-500 to-indigo-600":"bg-gradient-to-br from-orange-500 to-red-500"),children:(0,ox.jsx)("span",{className:"text-white text-xl",children:n})}),(0,ox.jsxs)("div",{className:"flex-1",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("h3",{className:"text-sm font-medium text-gray-600 mr-2",children:t}),(0,ox.jsx)(zx,{content:i,children:(0,ox.jsx)("span",{className:"text-gray-400 text-xs",children:"\u2139\ufe0f"})})]}),(0,ox.jsx)("p",{className:"text-2xl font-bold ".concat(r," mt-1"),children:c?"...":s})]})]})}),a&&(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{className:"flex items-center text-sm ".concat(a.positive?"text-green-600":"text-red-600"),children:[(0,ox.jsx)("span",{className:"mr-1",children:a.positive?"\u2197\ufe0f":"\u2198\ufe0f"}),(0,ox.jsxs)("span",{className:"font-medium",children:[a.percentage,"%"]})]}),(0,ox.jsx)("div",{className:"text-xs text-gray-500",children:a.period})]})]})},Ux=e=>{let{data:t,title:s}=e;const[n,a]=(0,r.useState)(!1),i=["Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b","Dom"],o=Math.max(...t),l=Math.min(...t),c=t.reduce(((e,t)=>e+t),0),d=c/t.length,u=((t[t.length-1]-t[0])/t[0]*100).toFixed(1),m=t.indexOf(o);return(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mr-3",children:s}),(0,ox.jsx)("button",{onClick:()=>a(!n),className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-200 transition-colors",children:n?"\ud83d\udd3c Ocultar":"\ud83d\udd3d Ver Detalles"})]}),(0,ox.jsxs)("div",{className:"text-right",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["+",u,"%"]}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:"Crecimiento"})]})]}),(0,ox.jsx)("div",{className:"mb-6",children:(0,ox.jsx)("div",{className:"relative",children:(0,ox.jsxs)("div",{className:"h-48 bg-gradient-to-t from-gray-50 to-white rounded-lg border border-gray-200 p-4 relative overflow-hidden",children:[(0,ox.jsx)("div",{className:"absolute inset-4",children:[0,25,50,75,100].map((e=>(0,ox.jsx)("div",{className:"absolute w-full border-t border-gray-200 opacity-50",style:{bottom:"".concat(e,"%")}},e)))}),(0,ox.jsxs)("svg",{className:"absolute inset-4 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,ox.jsx)("defs",{children:(0,ox.jsxs)("linearGradient",{id:"chartGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,ox.jsx)("stop",{offset:"0%",stopColor:"rgba(34, 197, 94, 0.2)"}),(0,ox.jsx)("stop",{offset:"100%",stopColor:"rgba(34, 197, 94, 0.05)"})]})}),(0,ox.jsx)("path",{d:"M 0 ".concat(100-(t[0]-l)/(o-l)*100," \n                   ").concat(t.map(((e,s)=>"L ".concat(s/(t.length-1)*100," ").concat(100-(e-l)/(o-l)*100))).join(" ")," \n                   L 100 100 L 0 100 Z"),fill:"url(#chartGradient)"}),(0,ox.jsx)("path",{d:"M 0 ".concat(100-(t[0]-l)/(o-l)*100," \n                   ").concat(t.map(((e,s)=>"L ".concat(s/(t.length-1)*100," ").concat(100-(e-l)/(o-l)*100))).join(" ")),fill:"none",stroke:"rgb(34, 197, 94)",strokeWidth:"3",className:"drop-shadow-sm"}),t.map(((e,s)=>(0,ox.jsx)("circle",{cx:s/(t.length-1)*100,cy:100-(e-l)/(o-l)*100,r:"4",fill:"rgb(34, 197, 94)",stroke:"white",strokeWidth:"2",className:"drop-shadow-sm hover:r-6 transition-all cursor-pointer"},s)))]}),(0,ox.jsx)("div",{className:"absolute inset-4 flex justify-between items-end pointer-events-none",children:t.map(((e,t)=>(0,ox.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ox.jsxs)("div",{className:"bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 hover:opacity-100 transition-opacity mb-2",children:["$",e.toLocaleString()]}),(0,ox.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:i[t]})]},t)))})]})})}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,ox.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:["$",c.toLocaleString()]}),(0,ox.jsx)("div",{className:"text-xs text-gray-600",children:"Total Semana"})]}),(0,ox.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:["$",Math.round(d).toLocaleString()]}),(0,ox.jsx)("div",{className:"text-xs text-gray-600",children:"Promedio Diario"})]}),(0,ox.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:["$",o.toLocaleString()]}),(0,ox.jsxs)("div",{className:"text-xs text-gray-600",children:["Mejor D\xeda (",i[m],")"]})]}),(0,ox.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-lg font-bold text-green-600",children:["+",u,"%"]}),(0,ox.jsx)("div",{className:"text-xs text-gray-600",children:"Crecimiento"})]})]}),n&&(0,ox.jsx)("div",{className:"border-t border-gray-100 pt-4",children:(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"\ud83d\udcca An\xe1lisis Detallado"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"D\xeda con mejor rendimiento:"}),(0,ox.jsxs)("span",{className:"font-medium text-green-600",children:[i[m]," ($",o.toLocaleString(),")"]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"D\xeda con menor rendimiento:"}),(0,ox.jsxs)("span",{className:"font-medium text-orange-600",children:[i[t.indexOf(l)]," ($",l.toLocaleString(),")"]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Variaci\xf3n m\xe1xima:"}),(0,ox.jsxs)("span",{className:"font-medium text-blue-600",children:["$",(o-l).toLocaleString()]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Tendencia general:"}),(0,ox.jsx)("span",{className:"font-medium ".concat(u>0?"text-green-600":"text-red-600"),children:u>0?"\ud83d\udcc8 Creciente":"\ud83d\udcc9 Decreciente"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,ox.jsx)("h5",{className:"text-sm font-medium text-blue-800 mb-2",children:"\ud83d\udca1 Recomendaci\xf3n KUMIA"}),(0,ox.jsx)("p",{className:"text-xs text-blue-700",children:u>0?"Excelente tendencia de crecimiento del ".concat(u,"%. Considera mantener las estrategias actuales y expandir los d\xedas de mejor rendimiento."):"Oportunidad de mejora detectada. Revisa las estrategias para los d\xedas de menor rendimiento y considera promociones especiales."}),(0,ox.jsxs)("div",{className:"mt-2 text-xs text-blue-600",children:[(0,ox.jsx)("strong",{children:"Pr\xf3xima acci\xf3n sugerida:"})," Implementar promociones especiales los ",i[t.indexOf(l)].toLowerCase()," para equilibrar el rendimiento."]})]})]})})]})},Vx=e=>{let{roiMultiplier:t,weeklyImpact:s,monthlyRevenue:n}=e;return(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-6 border border-emerald-200",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl flex items-center justify-center mr-4",children:(0,ox.jsx)("span",{className:"text-white text-xl",children:"\ud83e\udde0"})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-emerald-800",children:"Impacto generado por KUMIA esta semana"}),(0,ox.jsx)("p",{className:"text-sm text-emerald-700",children:"Resultados tangibles de tu inversi\xf3n"})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,ox.jsxs)("div",{className:"text-3xl font-bold text-emerald-600",children:["+",t,"x"]}),(0,ox.jsx)("div",{className:"text-sm text-emerald-700",children:"ROI Mensual"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,ox.jsxs)("div",{className:"text-3xl font-bold text-emerald-600",children:["$",s.toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-emerald-700",children:"Ingresos Extra"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,ox.jsxs)("div",{className:"text-3xl font-bold text-emerald-600",children:["$",n.toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-emerald-700",children:"Facturaci\xf3n Mes"})]})]}),(0,ox.jsx)("div",{className:"bg-emerald-600 text-white rounded-lg p-4 text-center",children:(0,ox.jsxs)("p",{className:"text-lg font-bold",children:['"Este mes generaste un ROI de +',t,'x. KUMIA est\xe1 funcionando."']})})]})},Bx=e=>{let{recommendation:t,impact:s,action:n}=e;return(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center mr-4",children:(0,ox.jsx)("span",{className:"text-white text-xl",children:"\ud83d\ude80"})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-indigo-800",children:"IA Sugiere: Expandir KUMIA"}),(0,ox.jsx)("p",{className:"text-sm text-indigo-700",children:"Oportunidad de crecimiento detectada"})]})]}),(0,ox.jsxs)("div",{className:"text-right",children:[(0,ox.jsx)("div",{className:"text-sm text-indigo-600",children:"Impacto Estimado"}),(0,ox.jsxs)("div",{className:"text-xl font-bold text-indigo-800",children:["+",s,"%"]})]})]}),(0,ox.jsx)("p",{className:"text-indigo-700 mb-4",children:t}),(0,ox.jsx)("button",{className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-4 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 shadow-lg",children:n})]})},qx=e=>{let{metrics:t}=e;const[s,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),o=[85e3,92e3,78e3,95e3,88e3,96e3,102e3],l={multiplier:4.3,weeklyImpact:28500,monthlyRevenue:385e3},c=()=>{const e=o.reduce(((e,t)=>e+t),0),t=e/7,s=((o[6]-o[0])/o[0]*100).toFixed(1),n=o.indexOf(Math.max(...o)),r=o.indexOf(Math.min(...o)),a=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"];return{totalRevenue:e,avgDailyRevenue:t,growth:s,bestDay:{name:a[n],revenue:o[n]},worstDay:{name:a[r],revenue:o[r]},weeklyData:o.map(((e,t)=>({day:a[t],revenue:e,growth:t>0?((e-o[t-1])/o[t-1]*100).toFixed(1):0})))}},d=e=>{const t=c(),s="reporte_semanal_".concat((new Date).toISOString().split("T")[0]);if("pdf"===e)alert("\ud83d\udcc4 Generando reporte PDF... (Esta funcionalidad requiere integraci\xf3n con jsPDF)");else if("excel"===e){const e="data:text/csv;charset=utf-8,D\xeda,Ingresos,Crecimiento\n"+t.weeklyData.map((e=>"".concat(e.day,",$").concat(e.revenue,",").concat(e.growth,"%"))).join("\n"),n=encodeURI(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","".concat(s,".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r),alert("\ud83d\udcca Reporte Excel descargado exitosamente")}};return(0,ox.jsxs)("div",{id:"dashboard_summary",className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udcc8 Dashboard General"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Resumen ejecutivo de tu impacto KUMIA"})]}),(0,ox.jsx)("div",{className:"flex items-center justify-between",children:(0,ox.jsxs)("div",{className:"flex space-x-4",children:[(0,ox.jsx)("button",{onClick:()=>{n(!0)},className:"bg-gradient-to-r from-emerald-500 to-green-500 text-white px-6 py-3 rounded-lg hover:from-emerald-600 hover:to-green-600 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"\ud83d\udcca Reporte Semanal"}),(0,ox.jsx)("button",{onClick:()=>i(!0),className:"bg-white text-gray-700 border border-gray-300 px-6 py-3 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-all duration-200 shadow-sm",children:"\ud83d\ude80 Expandir KUMIA"})]})})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:["\ud83d\udcb0 Impacto Econ\xf3mico",(0,ox.jsx)("span",{className:"ml-2 text-sm bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Principal"})]}),(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"Impacto generado por KUMIA esta semana"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,ox.jsx)(Fx,{title:"Ingresos Atribuidos",value:"$".concat((t.total_revenue||0).toLocaleString()),icon:"\ud83d\udcb0",color:"text-green-600",category:"revenue",trend:{positive:!0,percentage:22.1,period:"vs mes anterior"},tooltip:"Ingresos directamente generados por las funciones KUMIA (IA, NFTs, automatizaciones)"}),(0,ox.jsx)(Fx,{title:"ROI Mensual",value:"+".concat(l.multiplier,"x"),icon:"\ud83d\udcc8",color:"text-emerald-600",category:"revenue",trend:{positive:!0,percentage:15.2,period:"vs mes anterior"},tooltip:"Retorno de inversi\xf3n: por cada $1 invertido en KUMIA, generas $4.3"}),(0,ox.jsx)(Fx,{title:"Conversiones IA",value:t.ai_conversions||0,icon:"\ud83e\udd16",color:"text-indigo-600",category:"revenue",trend:{positive:!0,percentage:28.9,period:"vs mes anterior"},tooltip:"N\xfamero de clientes convertidos a trav\xe9s de los agentes de IA"}),(0,ox.jsx)(Fx,{title:"Ticket Promedio",value:"$3,200",icon:"\ud83d\udcb3",color:"text-blue-600",category:"revenue",trend:{positive:!0,percentage:18.5,period:"vs mes anterior"},tooltip:"Valor promedio de consumo por cliente (incrementado 28% con KUMIA)"})]})]}),(0,ox.jsx)(Vx,{roiMultiplier:l.multiplier,weeklyImpact:l.weeklyImpact,monthlyRevenue:l.monthlyRevenue}),(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:["\ud83d\udc9c Compromiso del Cliente",(0,ox.jsx)("span",{className:"ml-2 text-sm bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:"Fidelizaci\xf3n"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,ox.jsx)(Fx,{title:"Clientes Activos",value:t.total_customers||0,icon:"\ud83d\udc65",color:"text-purple-600",category:"engagement",trend:{positive:!0,percentage:15.2,period:"vs mes anterior"},tooltip:"Clientes \xfanicos que han interactuado con tu sistema KUMIA este mes"}),(0,ox.jsx)(Fx,{title:"NFTs Entregados",value:t.nfts_delivered||0,icon:"\ud83c\udf81",color:"text-pink-600",category:"engagement",trend:{positive:!0,percentage:12.3,period:"vs mes anterior"},tooltip:"Recompensas NFT entregadas que aumentan la fidelizaci\xf3n y retenci\xf3n"}),(0,ox.jsx)(Fx,{title:"Puntos Activos",value:t.total_points_delivered||0,icon:"\u2b50",color:"text-yellow-600",category:"engagement",trend:{positive:!0,percentage:18.5,period:"vs mes anterior"},tooltip:"Puntos de fidelizaci\xf3n acumulados por tus clientes"}),(0,ox.jsx)(Fx,{title:"Feedback Positivo",value:"".concat(t.total_feedback||0," (95%)"),icon:"\ud83d\udcac",color:"text-emerald-600",category:"engagement",trend:{positive:!0,percentage:8.7,period:"vs mes anterior"},tooltip:"Reviews y comentarios positivos recibidos a trav\xe9s del sistema"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:["\ud83c\udf1f Impacto de Marca",(0,ox.jsx)("span",{className:"ml-2 text-sm bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Reputaci\xf3n"})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,ox.jsx)(Fx,{title:"Rating Promedio",value:"".concat((t.avg_rating||0).toFixed(1),"/5"),icon:"\u2b50",color:"text-orange-600",category:"brand",trend:{positive:!0,percentage:4.2,period:"vs mes anterior"},tooltip:"Calificaci\xf3n promedio de tus clientes (mejorada con KUMIA)"}),(0,ox.jsx)(Fx,{title:"Alcance Digital",value:t.total_audience||0,icon:"\ud83d\udcf1",color:"text-blue-600",category:"brand",trend:{positive:!0,percentage:11.4,period:"vs mes anterior"},tooltip:"N\xfamero total de personas alcanzadas trav\xe9s de todos los canales digitales"}),(0,ox.jsx)(Fx,{title:"NPS Score",value:"8.7/10",icon:"\ud83d\udcca",color:"text-indigo-600",category:"brand",trend:{positive:!0,percentage:6.8,period:"vs mes anterior"},tooltip:"Net Promoter Score: probabilidad de que te recomienden"}),(0,ox.jsx)(Fx,{title:"Retenci\xf3n Cliente",value:"85%",icon:"\ud83d\udd04",color:"text-cyan-600",category:"brand",trend:{positive:!0,percentage:12.5,period:"vs mes anterior"},tooltip:"Porcentaje de clientes que regresan (incrementado con programa de fidelizaci\xf3n)"})]})]})]}),(0,ox.jsx)(Ux,{data:o,title:"\ud83d\udcc8 Crecimiento Semanal de Ingresos"}),(0,ox.jsx)(Bx,{recommendation:"Basado en tu ROI actual de +4.3x y crecimiento del 22%, es el momento perfecto para expandir KUMIA a un segundo local. Los datos muestran que tienes la base de clientes y el sistema optimizado para escalar.",impact:"150",action:"\ud83d\ude80 Expandir KUMIA a otro local"}),s&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcca Reporte Semanal"}),(0,ox.jsxs)("p",{className:"text-gray-600",children:["Semana del ",(new Date).toLocaleDateString()," - An\xe1lisis completo"]})]}),(0,ox.jsx)("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(()=>{const e=c();return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-6 border border-emerald-200",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-emerald-800 mb-4",children:"\ud83d\udcb0 Resumen Ejecutivo"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-emerald-600",children:["$",e.totalRevenue.toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-emerald-700",children:"Ingresos Totales"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",Math.round(e.avgDailyRevenue).toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:"Promedio Diario"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[e.growth,"%"]}),(0,ox.jsx)("div",{className:"text-sm text-orange-700",children:"Crecimiento Semanal"})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"+4.3x"}),(0,ox.jsx)("div",{className:"text-sm text-purple-700",children:"ROI Actual"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udcc8 An\xe1lisis Diario Detallado"}),(0,ox.jsx)("div",{className:"overflow-x-auto",children:(0,ox.jsxs)("table",{className:"w-full text-left",children:[(0,ox.jsx)("thead",{children:(0,ox.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,ox.jsx)("th",{className:"py-3 px-4 font-medium text-gray-700",children:"D\xeda"}),(0,ox.jsx)("th",{className:"py-3 px-4 font-medium text-gray-700",children:"Ingresos"}),(0,ox.jsx)("th",{className:"py-3 px-4 font-medium text-gray-700",children:"Crecimiento"}),(0,ox.jsx)("th",{className:"py-3 px-4 font-medium text-gray-700",children:"Estado"})]})}),(0,ox.jsx)("tbody",{children:e.weeklyData.map(((t,s)=>(0,ox.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,ox.jsx)("td",{className:"py-3 px-4 font-medium",children:t.day}),(0,ox.jsxs)("td",{className:"py-3 px-4",children:["$",t.revenue.toLocaleString()]}),(0,ox.jsx)("td",{className:"py-3 px-4",children:(0,ox.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(parseFloat(t.growth)>0?"bg-green-100 text-green-800":parseFloat(t.growth)<0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:[parseFloat(t.growth)>0?"\u2197\ufe0f":parseFloat(t.growth)<0?"\u2198\ufe0f":"\u2192"," ",t.growth,"%"]})}),(0,ox.jsx)("td",{className:"py-3 px-4",children:t.revenue===e.bestDay.revenue?(0,ox.jsx)("span",{className:"text-green-600 font-medium",children:"\ud83c\udfc6 Mejor d\xeda"}):t.revenue===e.worstDay.revenue?(0,ox.jsx)("span",{className:"text-red-600 font-medium",children:"\ud83d\udcc9 D\xeda bajo"}):(0,ox.jsx)("span",{className:"text-gray-600",children:"Normal"})})]},s)))})]})})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udcca Gr\xe1fica de Rendimiento Semanal"}),(0,ox.jsx)("div",{className:"flex items-end justify-between h-48 bg-gray-50 rounded-lg p-4",children:e.weeklyData.map(((t,s)=>(0,ox.jsxs)("div",{className:"flex flex-col items-center group cursor-pointer",children:[(0,ox.jsxs)("div",{className:"text-xs text-gray-600 mb-2 opacity-0 group-hover:opacity-100 transition-opacity",children:["$",t.revenue.toLocaleString()]}),(0,ox.jsx)("div",{className:"bg-gradient-to-t from-orange-400 to-red-400 rounded-t-lg transition-all duration-500 w-12 group-hover:w-16 ".concat(t.revenue===e.bestDay.revenue?"from-green-400 to-emerald-500":t.revenue===e.worstDay.revenue?"from-red-400 to-red-500":""),style:{height:"".concat(t.revenue/Math.max(...o)*100,"%")}}),(0,ox.jsx)("span",{className:"text-sm text-gray-600 mt-2 group-hover:font-bold transition-all",children:t.day.substring(0,3)}),(0,ox.jsxs)("span",{className:"text-xs text-gray-500 mt-1",children:[t.growth,"%"]})]},s)))})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-blue-800 mb-4",children:"\ud83e\udde0 Insights KUMIA"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,ox.jsxs)("p",{className:"text-blue-700",children:[(0,ox.jsx)("strong",{children:e.bestDay.name})," fue tu mejor d\xeda con $",e.bestDay.revenue.toLocaleString()," en ingresos."]})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,ox.jsxs)("p",{className:"text-blue-700",children:["El crecimiento semanal de ",(0,ox.jsxs)("strong",{children:[e.growth,"%"]})," est\xe1 por encima del promedio de la industria (12%)."]})]}),(0,ox.jsxs)("div",{className:"flex items-start",children:[(0,ox.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,ox.jsxs)("p",{className:"text-blue-700",children:["Considera promociones especiales para ",(0,ox.jsx)("strong",{children:e.worstDay.name})," para mejorar el rendimiento."]})]})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,ox.jsxs)("div",{className:"text-sm text-gray-500",children:["Reporte generado el ",(new Date).toLocaleString()]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>d("excel"),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"\ud83d\udcca Exportar Excel"}),(0,ox.jsx)("button",{onClick:()=>d("pdf"),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"\ud83d\udcc4 Exportar PDF"}),(0,ox.jsx)("button",{onClick:()=>n(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar"})]})]})]})})()]})})}),a&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-5xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\ude80 Expandir KUMIA a Nuevos Locales"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"An\xe1lisis de viabilidad y proceso de expansi\xf3n basado en tu \xe9xito actual"})]}),(0,ox.jsx)("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 p-6 rounded-lg border border-emerald-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-emerald-800 mb-4",children:"\ud83d\udcca An\xe1lisis de Viabilidad Actual"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-emerald-600",children:["+",l.multiplier,"x"]}),(0,ox.jsx)("div",{className:"text-sm text-emerald-700",children:"ROI Mensual"}),(0,ox.jsx)("div",{className:"text-xs text-emerald-600 mt-1",children:"\u2705 \xd3ptimo para expansi\xf3n"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",l.monthlyRevenue.toLocaleString()]}),(0,ox.jsx)("div",{className:"text-sm text-blue-700",children:"Facturaci\xf3n Mensual"}),(0,ox.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"\u2705 Base s\xf3lida"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"85%"}),(0,ox.jsx)("div",{className:"text-sm text-purple-700",children:"Retenci\xf3n Clientes"}),(0,ox.jsx)("div",{className:"text-xs text-purple-600 mt-1",children:"\u2705 Muy alta fidelizaci\xf3n"})]}),(0,ox.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"22%"}),(0,ox.jsx)("div",{className:"text-sm text-orange-700",children:"Crecimiento Mensual"}),(0,ox.jsx)("div",{className:"text-xs text-orange-600 mt-1",children:"\u2705 Tendencia ascendente"})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800 mb-4",children:"\ud83d\uddfa\ufe0f Proceso de Expansi\xf3n KUMIA"}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-blue-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800",children:"An\xe1lisis de Mercado"}),(0,ox.jsx)("p",{className:"text-sm text-blue-700",children:"Identificamos las mejores ubicaciones basadas en demograf\xeda, competencia y potencial de mercado."}),(0,ox.jsx)("div",{className:"mt-2 text-xs text-blue-600",children:"\u23f1\ufe0f Duraci\xf3n: 2-3 semanas"})]})]}),(0,ox.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-purple-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-purple-800",children:"Replicaci\xf3n del Sistema"}),(0,ox.jsx)("p",{className:"text-sm text-purple-700",children:"Implementamos tu configuraci\xf3n KUMIA existente: men\xfa, agentes IA, sistema de recompensas y toda tu base de conocimiento."}),(0,ox.jsx)("div",{className:"mt-2 text-xs text-purple-600",children:"\u23f1\ufe0f Duraci\xf3n: 1-2 semanas"})]})]}),(0,ox.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-green-50 rounded-lg",children:[(0,ox.jsx)("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-green-800",children:"Lanzamiento Coordinado"}),(0,ox.jsx)("p",{className:"text-sm text-green-700",children:"Campa\xf1a de marketing multiplataforma, capacitaci\xf3n del equipo y transferencia de clientes entre locales."}),(0,ox.jsx)("div",{className:"mt-2 text-xs text-green-600",children:"\u23f1\ufe0f Duraci\xf3n: 1 semana"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800 mb-4",children:"\ud83d\udccd Ubicaciones Potenciales Analizadas"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:"Las Condes"}),(0,ox.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Recomendado"})]}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Potencial de mercado:"}),(0,ox.jsx)("span",{className:"font-medium text-green-600",children:"Alto"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Demograf\xeda objetivo:"}),(0,ox.jsx)("span",{className:"font-medium text-gray-800",children:"95% match"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Competencia:"}),(0,ox.jsx)("span",{className:"font-medium text-orange-600",children:"Media"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"ROI estimado:"}),(0,ox.jsx)("span",{className:"font-medium text-blue-600",children:"+3.8x"})]})]})]}),(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:"Providencia"}),(0,ox.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Viable"})]}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Potencial de mercado:"}),(0,ox.jsx)("span",{className:"font-medium text-blue-600",children:"Medio-Alto"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Demograf\xeda objetivo:"}),(0,ox.jsx)("span",{className:"font-medium text-gray-800",children:"88% match"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Competencia:"}),(0,ox.jsx)("span",{className:"font-medium text-red-600",children:"Alta"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"ROI estimado:"}),(0,ox.jsx)("span",{className:"font-medium text-blue-600",children:"+3.2x"})]})]})]}),(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:"\xd1u\xf1oa"}),(0,ox.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"En an\xe1lisis"})]}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Potencial de mercado:"}),(0,ox.jsx)("span",{className:"font-medium text-blue-600",children:"Medio"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Demograf\xeda objetivo:"}),(0,ox.jsx)("span",{className:"font-medium text-gray-800",children:"75% match"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Competencia:"}),(0,ox.jsx)("span",{className:"font-medium text-green-600",children:"Baja"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"ROI estimado:"}),(0,ox.jsx)("span",{className:"font-medium text-blue-600",children:"+2.9x"})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-6 rounded-lg border border-orange-200",children:[(0,ox.jsx)("h3",{className:"font-bold text-orange-800 mb-4",children:"\ud83c\udfaf Beneficios de Expandir con KUMIA"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-700 mb-3",children:"\ud83d\udcb0 Impacto Econ\xf3mico"}),(0,ox.jsxs)("ul",{className:"space-y-2 text-sm text-orange-600",children:[(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"})," Duplicar ingresos proyectados en 6 meses"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"})," Econom\xedas de escala en marketing y operaciones"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"})," Diversificaci\xf3n de riesgo geogr\xe1fico"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"})," Mayor poder de negociaci\xf3n con proveedores"]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-orange-700 mb-3",children:"\ud83d\ude80 Ventajas Operacionales"}),(0,ox.jsxs)("ul",{className:"space-y-2 text-sm text-orange-600",children:[(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-blue-500 mr-2",children:"\u2022"})," Sistema KUMIA ya optimizado y probado"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-blue-500 mr-2",children:"\u2022"})," Base de clientes transferible entre locales"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-blue-500 mr-2",children:"\u2022"})," Agentes IA entrenados con tu conocimiento"]}),(0,ox.jsxs)("li",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-blue-500 mr-2",children:"\u2022"})," M\xe9tricas centralizadas para ambos locales"]})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,ox.jsx)("h3",{className:"font-bold text-gray-800 mb-4",children:"\ud83d\udcbc Plan de Inversi\xf3n y Cronograma"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"\ud83d\udcb0 Inversi\xf3n Estimada"}),(0,ox.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Setup KUMIA (nuevo local):"}),(0,ox.jsx)("span",{className:"font-medium",children:"$2,500"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"An\xe1lisis de mercado:"}),(0,ox.jsx)("span",{className:"font-medium",children:"$1,200"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Capacitaci\xf3n y setup:"}),(0,ox.jsx)("span",{className:"font-medium",children:"$800"})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Marketing de lanzamiento:"}),(0,ox.jsx)("span",{className:"font-medium",children:"$1,500"})]}),(0,ox.jsx)("div",{className:"border-t border-gray-300 pt-2 mt-3",children:(0,ox.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,ox.jsx)("span",{children:"Total estimado:"}),(0,ox.jsx)("span",{className:"text-green-600",children:"$6,000"})]})})]})]}),(0,ox.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"\ud83d\udcc5 Cronograma de Expansi\xf3n"}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,ox.jsxs)("div",{className:"text-sm",children:[(0,ox.jsx)("div",{className:"font-medium",children:"Semanas 1-3: An\xe1lisis"}),(0,ox.jsx)("div",{className:"text-gray-600",children:"Estudio de mercado y selecci\xf3n de ubicaci\xf3n"})]})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),(0,ox.jsxs)("div",{className:"text-sm",children:[(0,ox.jsx)("div",{className:"font-medium",children:"Semanas 4-5: Setup"}),(0,ox.jsx)("div",{className:"text-gray-600",children:"Implementaci\xf3n t\xe9cnica y replicaci\xf3n"})]})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,ox.jsxs)("div",{className:"text-sm",children:[(0,ox.jsx)("div",{className:"font-medium",children:"Semana 6: Lanzamiento"}),(0,ox.jsx)("div",{className:"text-gray-600",children:"Apertura y campa\xf1a de marketing"})]})]})]})]})]})]}),(0,ox.jsxs)("div",{className:"flex space-x-4",children:[(0,ox.jsx)("button",{onClick:()=>i(!1),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Cerrar"}),(0,ox.jsx)("button",{onClick:()=>{alert("\ud83d\udce7 Solicitud de expansi\xf3n enviada!\n\nNuestro equipo de crecimiento se contactar\xe1 contigo en las pr\xf3ximas 24 horas para iniciar el an\xe1lisis detallado.\n\n\ud83d\udcca Incluiremos:\n\u2022 An\xe1lisis de mercado personalizado\n\u2022 Proyecciones financieras espec\xedficas\n\u2022 Plan de implementaci\xf3n paso a paso\n\u2022 Cronograma detallado de expansi\xf3n"),i(!1)},className:"flex-1 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udcca Solicitar An\xe1lisis Detallado"}),(0,ox.jsx)("button",{onClick:()=>{alert("\ud83d\ude80 \xa1Excelente decisi\xf3n!\n\nIniciaremos el proceso de expansi\xf3n inmediatamente:\n\n\u2705 An\xe1lisis de mercado: Las Condes (recomendado)\n\u2705 Setup t\xe9cnico: 2 semanas\n\u2705 Lanzamiento estimado: 6 semanas\n\u2705 ROI proyectado: +3.8x\n\nNuestro equipo se contactar\xe1 en las pr\xf3ximas 2 horas para coordinar los detalles."),i(!1)},className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 font-bold",children:"\ud83d\ude80 Iniciar Expansi\xf3n Ahora"})]})]})]})})})]})},Hx=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(["Entradas","Sandwiches","Parrillas","Pizzas","Bebidas"]),[a,i]=(0,r.useState)("all"),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)("admin"),[m,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[b,v]=(0,r.useState)("add"),[y,j]=(0,r.useState)(""),[N,w]=(0,r.useState)(-1),[k,S]=(0,r.useState)({name:"",description:"",price:"",category:"Entradas",image:"",video:"",is_active:!0,high_margin:!1,popularity:3,upselling_suggestions:"",sales_count:0});(0,r.useEffect)((()=>{E(),C()}),[]);const C=()=>{t([{id:"entrada_1",name:"Nachos",description:"Nachos con salsa y guacamole",price:4500,category:"Entradas",image:"",is_active:!0,high_margin:!1,popularity:4,sales_count:23},{id:"entrada_2",name:"Papas Fritas",description:"Papas r\xfasticas al horno",price:3200,category:"Entradas",image:"",is_active:!0,high_margin:!0,popularity:5,sales_count:45},{id:"entrada_3",name:"Papas con Cheddar y Bacon",description:"Papas con queso cheddar y bacon ahumado",price:4800,category:"Entradas",image:"",is_active:!0,high_margin:!0,popularity:5,sales_count:38},{id:"entrada_4",name:"Empanadas",description:"Empanadas de carne ahumada (x3)",price:3600,category:"Entradas",image:"",is_active:!0,high_margin:!1,popularity:4,sales_count:28},{id:"entrada_5",name:"Alitas BBQ",description:"Alitas de pollo con salsa BBQ Il Mandorla",price:5500,category:"Entradas",image:"",is_active:!0,high_margin:!0,popularity:5,sales_count:42},{id:"entrada_6",name:"Nachos con Pulled Pork",description:"Nachos cubiertos con pulled pork ahumado",price:6200,category:"Entradas",image:"",is_active:!0,high_margin:!0,popularity:4,sales_count:32},{id:"entrada_7",name:"Chip\xe1 Relleno",description:"Chip\xe1 relleno con queso y hierbas",price:2800,category:"Entradas",image:"",is_active:!0,high_margin:!1,popularity:3,sales_count:15},{id:"sandwich_1",name:"Brooklyn",description:"Brisket, cebolla caramelizada, queso cheddar, pan artesanal",price:8900,category:"Sandwiches",image:"",is_active:!0,high_margin:!0,popularity:5,sales_count:67},{id:"sandwich_2",name:"Pampeana",description:"Carne ahumada, chimichurri, tomate, lechuga",price:7800,category:"Sandwiches",image:"",is_active:!0,high_margin:!1,popularity:4,sales_count:54},{id:"sandwich_3",name:"Chorip\xe1n",description:"Chorizo ahumado, chimichurri, pan crujiente",price:5200,category:"Sandwiches",image:"",is_active:!0,high_margin:!0,popularity:5,sales_count:89},{id:"sandwich_4",name:"Pulled Pork",description:"Pulled pork ahumado, coleslaw, salsa BBQ",price:7200,category:"Sandwiches",image:"",is_active:!0,high_margin:!0,popularity:4,sales_count:43},{id:"parrilla_1",name:"Plato de Carne Individual",description:"Brisket o costillas con guarnici\xf3n",price:12500,category:"Parrillas",image:"",is_active:!0,high_margin:!0,popularity:5,sales_count:78},{id:"parrilla_2",name:"Para Compartir x2",description:"Variedad de carnes ahumadas para 2 personas",price:18900,category:"Parrillas",image:"",is_active:!0,high_margin:!0,popularity:5,sales_count:45},{id:"parrilla_3",name:"Para Compartir x4",description:"Parrillada completa para 4 personas",price:32500,category:"Parrillas",image:"",is_active:!0,high_margin:!0,popularity:5,sales_count:23},{id:"parrilla_4",name:"Baby Ribs",description:"Costillas de cerdo baby con glaseado especial",price:14200,category:"Parrillas",image:"",is_active:!0,high_margin:!0,popularity:4,sales_count:56},{id:"parrilla_5",name:"Tex-Mex",description:"Carne ahumada estilo texano con especias",price:13800,category:"Parrillas",image:"",is_active:!0,high_margin:!1,popularity:4,sales_count:34},{id:"pizza_1",name:"Muzzarella",description:"Pizza cl\xe1sica con muzzarella y or\xe9gano",price:6800,category:"Pizzas",image:"",is_active:!0,high_margin:!1,popularity:3,sales_count:67},{id:"pizza_2",name:"4 Quesos",description:"Muzzarella, roquefort, parmesano y provoleta",price:8200,category:"Pizzas",image:"",is_active:!0,high_margin:!0,popularity:4,sales_count:43},{id:"pizza_3",name:"Bechamel",description:"Salsa bechamel, jam\xf3n y muzzarella",price:7500,category:"Pizzas",image:"",is_active:!0,high_margin:!1,popularity:3,sales_count:32},{id:"pizza_4",name:"Asado y Hongos",description:"Carne asada, hongos y cebolla",price:9200,category:"Pizzas",image:"",is_active:!0,high_margin:!0,popularity:4,sales_count:38},{id:"pizza_5",name:"Margarita con Jam\xf3n",description:"Tomate, albahaca, jam\xf3n y muzzarella",price:7800,category:"Pizzas",image:"",is_active:!0,high_margin:!1,popularity:3,sales_count:28},{id:"pizza_6",name:"Pulled Pork Pizza",description:"Pulled pork ahumado con cebolla morada",price:10500,category:"Pizzas",image:"",is_active:!0,high_margin:!0,popularity:5,sales_count:34},{id:"pizza_7",name:"Spicy Bacon",description:"Bacon ahumado, jalape\xf1os y queso picante",price:9800,category:"Pizzas",image:"",is_active:!0,high_margin:!0,popularity:4,sales_count:29},{id:"bebida_1",name:"Tragos de Autor",description:"C\xf3cteles signature de la casa",price:4500,category:"Bebidas",image:"",is_active:!0,high_margin:!0,popularity:4,sales_count:78},{id:"bebida_2",name:"Tragos Cl\xe1sicos",description:"Whisky sour, mojito, caipirinha",price:3800,category:"Bebidas",image:"",is_active:!0,high_margin:!1,popularity:4,sales_count:89},{id:"bebida_3",name:"Vinos",description:"Selecci\xf3n de vinos tintos y blancos",price:5200,category:"Bebidas",image:"",is_active:!0,high_margin:!0,popularity:3,sales_count:45},{id:"bebida_4",name:"Jugos Naturales",description:"Jugos de frutas frescas",price:2800,category:"Bebidas",image:"",is_active:!0,high_margin:!1,popularity:3,sales_count:67},{id:"bebida_5",name:"Cerveza Artesanal",description:"IPA, Stout y Lager de la casa",price:3200,category:"Bebidas",image:"",is_active:!0,high_margin:!0,popularity:5,sales_count:123},{id:"bebida_6",name:"Gaseosas",description:"Coca Cola, Sprite, Fanta",price:1800,category:"Bebidas",image:"",is_active:!0,high_margin:!1,popularity:3,sales_count:98},{id:"bebida_7",name:"Agua",description:"Agua mineral con o sin gas",price:1200,category:"Bebidas",image:"",is_active:!0,high_margin:!1,popularity:2,sales_count:156}])},E=async()=>{try{const e=await ix.get("".concat(Cx,"/menu"));e.data&&e.data.length>0&&t(e.data)}catch(Jx){console.error("Error fetching menu items:",Jx)}},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=e.target.files[0];if(s){const e=new FileReader;e.onload=e=>{const s=e.target.result;t&&o?l((e=>d(d({},e),{},{image:s}))):S((e=>d(d({},e),{},{image:s})))},e.readAsDataURL(s)}},A=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=e.target.files[0];if(s&&s.size<=52428800){const e=new FileReader;e.onload=e=>{const s=e.target.result;t&&o?l((e=>d(d({},e),{},{video:s}))):S((e=>d(d({},e),{},{video:s})))},e.readAsDataURL(s)}else alert("El archivo de video es muy grande. M\xe1ximo 50MB.")},I=e=>{var s;let{item:n}=e;return(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-all duration-200",children:[(0,ox.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-red-400 rounded-xl flex items-center justify-center mr-4 overflow-hidden",children:n.image?(0,ox.jsx)("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover rounded-xl"}):(0,ox.jsx)("span",{className:"text-white text-2xl",children:"\ud83c\udf7d\ufe0f"})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h3",{className:"font-semibold text-gray-800",children:n.name}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:n.category}),(0,ox.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["$",null===(s=n.price)||void 0===s?void 0:s.toLocaleString()]})]})]}),(0,ox.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,ox.jsx)("button",{onClick:()=>l(n),className:"bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors",title:"Editar item",children:"\u270f\ufe0f"}),(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(n.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:n.is_active?"Activo":"Inactivo"}),n.high_margin&&(0,ox.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"\ud83d\udcb0 Alto Margen"}),(0,ox.jsxs)("div",{className:"text-xs text-gray-500",children:["Vendido: ",n.sales_count||0," veces"]})]})]}),(0,ox.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:n.description}),n.video&&(0,ox.jsx)("div",{className:"mb-4",children:(0,ox.jsx)("video",{controls:!0,className:"w-full h-32 object-cover rounded-lg",children:(0,ox.jsx)("source",{src:n.video,type:"video/mp4"})})}),(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ox.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ox.jsx)("span",{className:"text-sm text-gray-600",children:"Popularidad:"}),(0,ox.jsx)("div",{className:"flex",children:[...Array(5)].map(((e,t)=>(0,ox.jsx)("span",{className:"text-sm ".concat(t<(n.popularity||0)?"text-yellow-400":"text-gray-300"),children:"\u2b50"},t)))})]}),(0,ox.jsx)("div",{className:"text-sm text-gray-600",children:n.upselling_suggestions&&(0,ox.jsxs)("span",{children:["Sugerido con: ",n.upselling_suggestions]})})]}),(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>T(n),className:"flex-1 bg-purple-100 text-purple-700 px-3 py-2 rounded-lg text-sm hover:bg-purple-200 transition-colors",children:"\ud83d\udccb Duplicar"}),(0,ox.jsx)("button",{onClick:()=>P(n.id),className:"flex-1 px-3 py-2 rounded-lg text-sm transition-colors ".concat(n.is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:n.is_active?"\ud83d\udd34 Desactivar":"\ud83d\udfe2 Activar"}),(0,ox.jsx)("button",{onClick:()=>(async e=>{if(confirm("\xbfEst\xe1s seguro de que quieres eliminar este item?"))try{await ix.delete("".concat(Cx,"/menu/").concat(e)),t((t=>t.filter((t=>t.id!==e)))),alert("\xa1Item eliminado exitosamente!")}catch(Jx){console.error("Error deleting item:",Jx),alert("Error al eliminar el item. Intenta de nuevo.")}})(n.id),className:"bg-red-100 text-red-700 px-3 py-2 rounded-lg text-sm hover:bg-red-200 transition-colors",children:"\ud83d\uddd1\ufe0f Eliminar"})]})]})},T=e=>{const s=d(d({},e),{},{id:"".concat(e.category.toLowerCase(),"_").concat(Date.now()),name:"".concat(e.name," (Copia)"),is_active:!1,sales_count:0});t((e=>[...e,s])),alert("Item duplicado exitosamente")},P=async s=>{try{const n=e.find((e=>e.id===s)),r=d(d({},n),{},{is_active:!n.is_active});await ix.put("".concat(Cx,"/menu/").concat(s),r),t((e=>e.map((e=>e.id===s?d(d({},e),{},{is_active:!e.is_active}):e))))}catch(Jx){console.error("Error toggling item status:",Jx),t((e=>e.map((e=>e.id===s?d(d({},e),{},{is_active:!e.is_active}):e))))}},R=()=>{x(!0)},O="all"===a?e:e.filter((e=>e.category===a));return(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83c\udf7d\ufe0f Men\xfa"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona tu carta digital"})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsxs)("button",{onClick:()=>{u("admin"===c?"customer":"admin")},className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:["\ud83d\udc41\ufe0f Vista ","admin"===c?"Cliente":"Admin"]}),(0,ox.jsx)("button",{onClick:()=>{h(!m)},className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:"\ud83d\udcca Anal\xedticas"}),(0,ox.jsx)("button",{onClick:R,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200",children:"+ Nuevo Item"})]})]}),m&&(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udcca Anal\xedticas del Men\xfa"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-green-800",children:"Productos M\xe1s Vendidos"}),(0,ox.jsx)("div",{className:"mt-2 space-y-1",children:e.slice(0,3).map((e=>(0,ox.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ox.jsx)("span",{children:e.name}),(0,ox.jsx)("span",{className:"text-green-600",children:e.sales_count||0})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-yellow-800",children:"Alto Margen"}),(0,ox.jsx)("div",{className:"mt-2 space-y-1",children:e.filter((e=>e.high_margin)).map((e=>(0,ox.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ox.jsx)("span",{children:e.name}),(0,ox.jsxs)("span",{className:"text-yellow-600",children:["$",e.price]})]},e.id)))})]}),(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ox.jsx)("h4",{className:"font-medium text-blue-800",children:"Sugerencias IA"}),(0,ox.jsxs)("div",{className:"mt-2 text-sm text-blue-700",children:["\u2022 Promocionar platos de alto margen",(0,ox.jsx)("br",{}),"\u2022 Combinar entrantes con principales",(0,ox.jsx)("br",{}),"\u2022 Destacar productos populares"]})]})]})]}),(0,ox.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,ox.jsx)("button",{onClick:()=>i("all"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat("all"===a?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Todos"}),s.map(((t,r)=>(0,ox.jsxs)("div",{className:"relative group",children:[(0,ox.jsx)("button",{onClick:()=>i(t),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(a===t?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:t}),(0,ox.jsxs)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10 min-w-max",children:[(0,ox.jsx)("button",{onClick:()=>((e,t)=>{v("edit"),j(e),w(t),f(!0)})(t,r),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-t-lg",children:"\u270f\ufe0f Editar"}),(0,ox.jsx)("button",{onClick:()=>{return e=t,v("duplicate"),j("".concat(e," (Copia)")),void f(!0);var e},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"\ud83d\udccb Duplicar"}),(0,ox.jsx)("button",{onClick:()=>((t,r)=>{if(e.some((e=>e.category===t))&&!confirm('La categor\xeda "'.concat(t,'" tiene items asociados. \xbfEst\xe1s seguro de eliminarla? Los items quedar\xe1n sin categor\xeda.')))return;const o=s.filter(((e,t)=>t!==r));n(o),a===t&&i("all"),alert("\u2705 Categor\xeda eliminada exitosamente")})(t,r),className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-b-lg",children:"\ud83d\uddd1\ufe0f Eliminar"})]})]},t))),(0,ox.jsx)("button",{onClick:()=>{v("add"),j(""),f(!0)},className:"px-4 py-2 rounded-lg text-sm font-medium bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"\u2795 Nueva Categor\xeda"})]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.length>0?O.map((e=>(0,ox.jsx)(I,{item:e},e.id))):(0,ox.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,ox.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udf7d\ufe0f"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No hay items en esta categor\xeda"}),(0,ox.jsx)("p",{className:"text-gray-500 mb-4",children:"Agrega el primer item para esta categor\xeda"}),(0,ox.jsx)("button",{onClick:R,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200",children:"+ Agregar Primer Item"})]})}),p&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udf7d\ufe0f Nuevo Item del Men\xfa"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Agrega un nuevo plato a la carta"})]}),(0,ox.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del plato *"}),(0,ox.jsx)("input",{type:"text",value:k.name,onChange:e=>S((t=>d(d({},t),{},{name:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Ej: Brisket ahumado"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio *"}),(0,ox.jsx)("input",{type:"number",value:k.price,onChange:e=>S((t=>d(d({},t),{},{price:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"15000"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda *"}),(0,ox.jsx)("select",{value:k.category,onChange:e=>S((t=>d(d({},t),{},{category:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:s.map((e=>(0,ox.jsx)("option",{value:e,children:e},e)))})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n"}),(0,ox.jsx)("textarea",{value:k.description,onChange:e=>S((t=>d(d({},t),{},{description:e.target.value}))),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Describe los ingredientes y preparaci\xf3n..."})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen del plato"}),(0,ox.jsx)("input",{type:"file",accept:"image/*",onChange:e=>_(e,!1),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),k.image&&(0,ox.jsx)("div",{className:"mt-2",children:(0,ox.jsx)("img",{src:k.image,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video del plato (opcional)"}),(0,ox.jsx)("input",{type:"file",accept:"video/*",onChange:e=>A(e,!1),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),k.video&&(0,ox.jsx)("div",{className:"mt-2",children:(0,ox.jsx)("video",{controls:!0,className:"w-full h-32 object-cover rounded-lg",children:(0,ox.jsx)("source",{src:k.video,type:"video/mp4"})})})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Popularidad (1-5)"}),(0,ox.jsx)("input",{type:"number",min:"1",max:"5",value:k.popularity,onChange:e=>S((t=>d(d({},t),{},{popularity:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-4 pt-6",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",checked:k.high_margin,onChange:e=>S((t=>d(d({},t),{},{high_margin:e.target.checked}))),className:"mr-2"}),"\ud83d\udcb0 Alto margen"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",checked:k.is_active,onChange:e=>S((t=>d(d({},t),{},{is_active:e.target.checked}))),className:"mr-2"}),"\u2705 Activo"]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sugerencias de upselling"}),(0,ox.jsx)("input",{type:"text",value:k.upselling_suggestions,onChange:e=>S((t=>d(d({},t),{},{upselling_suggestions:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Ej: Papas fritas, Bebida, Postre"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-8",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"* Campos obligatorios"}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>x(!1),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:async()=>{if(k.name&&k.price)try{const e=d(d({},k),{},{id:"".concat(k.category.toLowerCase(),"_").concat(Date.now()),price:parseFloat(k.price),sales_count:0,popularity:parseInt(k.popularity)||3});await ix.post("".concat(Cx,"/menu"),e);t((t=>[...t,e])),x(!1),S({name:"",description:"",price:"",category:"Entradas",image:"",video:"",is_active:!0,high_margin:!1,popularity:3,upselling_suggestions:"",sales_count:0}),alert("\xa1Item creado exitosamente!")}catch(Jx){console.error("Error creating item:",Jx),alert("Error al crear el item. Intenta de nuevo.")}else alert("Por favor completa el nombre y el precio")},className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 font-bold",children:"\ud83c\udf7d\ufe0f Crear Item"})]})]})]})})}),o&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u270f\ufe0f Editar Item"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Modifica los detalles del plato"})]}),(0,ox.jsx)("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsxs)("div",{className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del plato *"}),(0,ox.jsx)("input",{type:"text",value:o.name,onChange:e=>l((t=>d(d({},t),{},{name:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio *"}),(0,ox.jsx)("input",{type:"number",value:o.price,onChange:e=>l((t=>d(d({},t),{},{price:parseFloat(e.target.value)}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda *"}),(0,ox.jsx)("select",{value:o.category,onChange:e=>l((t=>d(d({},t),{},{category:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:s.map((e=>(0,ox.jsx)("option",{value:e,children:e},e)))})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n"}),(0,ox.jsx)("textarea",{value:o.description,onChange:e=>l((t=>d(d({},t),{},{description:e.target.value}))),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen del plato"}),(0,ox.jsx)("input",{type:"file",accept:"image/*",onChange:e=>_(e,!0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),o.image&&(0,ox.jsx)("div",{className:"mt-2",children:(0,ox.jsx)("img",{src:o.image,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video del plato (opcional)"}),(0,ox.jsx)("input",{type:"file",accept:"video/*",onChange:e=>A(e,!0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),o.video&&(0,ox.jsx)("div",{className:"mt-2",children:(0,ox.jsx)("video",{controls:!0,className:"w-full h-32 object-cover rounded-lg",children:(0,ox.jsx)("source",{src:o.video,type:"video/mp4"})})})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Popularidad (1-5)"}),(0,ox.jsx)("input",{type:"number",min:"1",max:"5",value:o.popularity,onChange:e=>l((t=>d(d({},t),{},{popularity:parseInt(e.target.value)}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-4 pt-6",children:[(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",checked:o.high_margin,onChange:e=>l((t=>d(d({},t),{},{high_margin:e.target.checked}))),className:"mr-2"}),"\ud83d\udcb0 Alto margen"]}),(0,ox.jsxs)("label",{className:"flex items-center",children:[(0,ox.jsx)("input",{type:"checkbox",checked:o.is_active,onChange:e=>l((t=>d(d({},t),{},{is_active:e.target.checked}))),className:"mr-2"}),"\u2705 Activo"]})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sugerencias de upselling"}),(0,ox.jsx)("input",{type:"text",value:o.upselling_suggestions||"",onChange:e=>l((t=>d(d({},t),{},{upselling_suggestions:e.target.value}))),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Ej: Papas fritas, Bebida, Postre"})]})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-8",children:[(0,ox.jsx)("div",{className:"text-sm text-gray-500",children:"* Campos obligatorios"}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>l(null),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>(async e=>{try{await ix.put("".concat(Cx,"/menu/").concat(e.id),e),t((t=>t.map((t=>t.id===e.id?e:t)))),l(null),alert("\xa1Item actualizado exitosamente!")}catch(Jx){console.error("Error updating item:",Jx),alert("Error al actualizar el item. Intenta de nuevo.")}})(o),className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 font-bold",children:"\u270f\ufe0f Actualizar Item"})]})]})]})})}),g&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"add"===b?"\u2795 Nueva Categor\xeda":"edit"===b?"\u270f\ufe0f Editar Categor\xeda":"\ud83d\udccb Duplicar Categor\xeda"}),(0,ox.jsx)("button",{onClick:()=>{f(!1),j(""),w(-1)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,ox.jsxs)("div",{className:"space-y-4",children:[(0,ox.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,ox.jsxs)("p",{className:"text-sm text-blue-800",children:["\ud83d\udca1 ",(0,ox.jsx)("strong",{children:"Gesti\xf3n de Categor\xedas:"})," Puedes crear, editar, duplicar o eliminar categor\xedas seg\xfan las necesidades de tu men\xfa. Las categor\xedas te ayudan a organizar mejor tus productos."]})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la categor\xeda"}),(0,ox.jsx)("input",{type:"text",value:y,onChange:e=>j(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Ej: Postres, Aperitivos, Especialidades",maxLength:"30"}),(0,ox.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"M\xe1ximo 30 caracteres"})]}),(0,ox.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ox.jsx)("p",{children:(0,ox.jsx)("strong",{children:"Vista previa:"})}),(0,ox.jsx)("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:(0,ox.jsx)("span",{className:"px-4 py-2 bg-orange-500 text-white rounded-lg text-sm font-medium",children:y||"Nombre de categor\xeda"})})]}),s.length>1&&"edit"===b&&(0,ox.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,ox.jsxs)("p",{className:"text-xs text-yellow-800",children:["\u26a0\ufe0f ",(0,ox.jsx)("strong",{children:"Nota:"})," Al editar esta categor\xeda, todos los items asociados mantendr\xe1n la nueva categor\xeda autom\xe1ticamente."]})})]}),(0,ox.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-6",children:[(0,ox.jsxs)("div",{className:"text-sm text-gray-500",children:["Categor\xedas actuales: ",s.length]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>{f(!1),j(""),w(-1)},className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,ox.jsx)("button",{onClick:()=>{if(y.trim()){if("add"===b||"duplicate"===b){if(s.includes(y.trim()))return void alert("Ya existe una categor\xeda con ese nombre");n([...s,y.trim()])}else if("edit"===b){const e=[...s];e[N]=y.trim(),n(e)}f(!1),j(""),w(-1),alert("\u2705 Categor\xeda actualizada exitosamente")}else alert("Por favor ingresa un nombre para la categor\xeda")},disabled:!y.trim(),className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold",children:"add"===b?"\u2795 Crear Categor\xeda":"edit"===b?"\u270f\ufe0f Actualizar Categor\xeda":"\ud83d\udccb Duplicar Categor\xeda"})]})]})]})})})]})},Gx=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)({ratingDistribution:{5:45,4:32,3:12,2:8,1:3},weeklyEvolution:[85,92,78,95,88,96,102],npsScore:8.4,npsChannels:{google_reviews:8.9,whatsapp:8.7,instagram:8.2,facebook:8.5,web:8.1,general:8.4},channelStats:{google_reviews:{count:234,avg_rating:4.6,growth:"+18%"},whatsapp:{count:156,avg_rating:4.4,growth:"+12%"},instagram:{count:98,avg_rating:4.2,growth:"+8%"},facebook:{count:72,avg_rating:4.3,growth:"+5%"},web:{count:45,avg_rating:4.1,growth:"+3%"}},keywords:[{word:"delicioso",count:45,sentiment:"positive"},{word:"excelente",count:38,sentiment:"positive"},{word:"r\xe1pido",count:32,sentiment:"positive"},{word:"calidad",count:28,sentiment:"positive"},{word:"espera",count:15,sentiment:"negative"}]}),[a,i]=(0,r.useState)("30d"),[o,l]=(0,r.useState)("all"),[c,u]=(0,r.useState)("all"),[m,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)({google_reviews:{positive:"\xa1Gracias por tu excelente review! \ud83c\udf56 Nos emociona saber que disfrutaste la experiencia IL MANDORLA. \xa1Te esperamos pronto para seguir sorprendi\xe9ndote!",neutral:"Gracias por tu feedback. Nos encantar\xeda conocer m\xe1s detalles para mejorar tu experiencia. \xbfPodr\xedas contactarnos por WhatsApp?",negative:"Lamentamos que tu experiencia no haya sido la esperada. Tu opini\xf3n es muy importante para nosotros. Te contactaremos pronto para solucionarlo."},whatsapp:{positive:"\xa1Gracias por elegirnos! \ud83d\udd25 Nos alegra que hayas disfrutado. Tienes 50 puntos KUMIA de regalo.",neutral:"Gracias por tu feedback. \xbfHay algo espec\xedfico que podamos mejorar?",negative:"Disculpa la molestia. \xbfPodr\xedas contarnos qu\xe9 pas\xf3? Queremos solucionarlo inmediatamente."},instagram:{positive:"\xa1Gracias por compartir tu experiencia! \ud83d\udcf8 Tag a un amigo para que tambi\xe9n pruebe nuestras carnes ahumadas.",neutral:"\xa1Gracias por visitarnos! \xbfQu\xe9 te gustar\xeda probar en tu pr\xf3xima visita?",negative:"Lamentamos que no hayamos cumplido tus expectativas. Te enviamos un DM para solucionarlo."},facebook:{positive:"\xa1Gracias por tu review! \ud83d\ude4c No olvides seguirnos para enterarte de nuestras promociones especiales.",neutral:"Gracias por tu comentario. \xa1Esperamos verte pronto!",negative:"Disculpa cualquier inconveniente. Nos contactamos contigo por privado."},web:{positive:"\xa1Excelente! Gracias por tu feedback. Te invitamos a registrarte en KUMIA para ganar puntos.",neutral:"Gracias por tu opini\xf3n. \xbfTe gustar\xeda recibir nuestras promociones especiales?",negative:"Lamentamos tu experiencia. Te contactaremos para mejorar nuestro servicio."}});(0,r.useEffect)((()=>{f(),g()}),[]);const g=()=>{t([{id:"fb_1",customer_name:"Mar\xeda L\xf3pez",rating:5,comment:"Incre\xedble experiencia! Las carnes ahumadas est\xe1n espectaculares. Definitivamente volver\xe9.",date:"2025-01-22",channel:"google_reviews",response_sent:!1,sentiment:"positive"},{id:"fb_2",customer_name:"Carlos Ruiz",rating:5,comment:"El Brooklyn sandwich es lo mejor que he probado. Servicio excelente y ambiente perfecto.",date:"2025-01-21",channel:"google_reviews",response_sent:!0,sentiment:"positive"},{id:"fb_3",customer_name:"Ana Garc\xeda",rating:4,comment:"Muy buena comida, aunque tuvimos que esperar un poco. Las costillas baby ribs est\xe1n perfectas.",date:"2025-01-20",channel:"google_reviews",response_sent:!1,sentiment:"positive"},{id:"fb_4",customer_name:"Roberto Silva",rating:5,comment:"Trabajo cerca y vengo seguido. Siempre me sorprenden con la calidad y el sabor ahumado.",date:"2025-01-19",channel:"google_reviews",response_sent:!0,sentiment:"positive"},{id:"fb_5",customer_name:"Patricia M\xe9ndez",rating:3,comment:"La comida est\xe1 bien, pero el precio me parece un poco alto para la porci\xf3n.",date:"2025-01-18",channel:"google_reviews",response_sent:!1,sentiment:"neutral"},{id:"fb_6",customer_name:"Diego Paredes",rating:5,comment:"Fant\xe1stico para reuniones de trabajo. El ambiente es perfecto y la comida incre\xedble.",date:"2025-01-17",channel:"whatsapp",response_sent:!0,sentiment:"positive"}])},f=async()=>{try{const e=await ix.get("".concat(Cx,"/feedback"));e.data&&e.data.length>0&&t(e.data)}catch(Jx){console.error("Error fetching feedback:",Jx)}},b=e=>{let{rating:t,count:s,percentage:n}=e;return(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 hover:shadow-md transition-all duration-200",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"text-2xl mr-2",children:"\u2b50"}),(0,ox.jsx)("span",{className:"text-lg font-bold",children:t})]}),(0,ox.jsxs)("div",{className:"text-right",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s}),(0,ox.jsxs)("div",{className:"text-sm text-gray-600",children:[n,"%"]})]})]}),(0,ox.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ox.jsx)("div",{className:"bg-gradient-to-r from-orange-400 to-red-400 h-2 rounded-full transition-all duration-500",style:{width:"".concat(n,"%")}})})]})};return(0,ox.jsxs)("div",{id:"feedback_module",className:"space-y-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udcac Feedback"}),(0,ox.jsx)("p",{className:"text-gray-600 mt-1",children:"Recolecta, entiende y acciona feedback autom\xe1ticamente"})]}),(0,ox.jsxs)("div",{className:"flex space-x-3",children:[(0,ox.jsx)("button",{onClick:()=>{const t="data:text/csv;charset=utf-8,"+e.map((e=>"".concat(e.customer_name,",").concat(e.rating,",").concat(e.comment,",").concat(e.date))).join("\n"),s=encodeURI(t),n=document.createElement("a");n.setAttribute("href",s),n.setAttribute("download","feedback_export.csv"),document.body.appendChild(n),n.click()},className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"\ud83d\udce4 Exportar Feedback"}),(0,ox.jsx)("button",{onClick:()=>{h(!0)},className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200",children:"\u2699\ufe0f Configurar Respuestas Autom\xe1ticas"})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83c\udfaf Filtros Avanzados"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha"}),(0,ox.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"7d",children:"\xdaltimos 7 d\xedas"}),(0,ox.jsx)("option",{value:"30d",children:"\xdaltimos 30 d\xedas"}),(0,ox.jsx)("option",{value:"90d",children:"\xdaltimos 90 d\xedas"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canal"}),(0,ox.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"all",children:"Todos los canales"}),(0,ox.jsx)("option",{value:"google_reviews",children:"\ud83c\udf1f Google Reviews"}),(0,ox.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,ox.jsx)("option",{value:"instagram",children:"Instagram"}),(0,ox.jsx)("option",{value:"facebook",children:"Facebook"}),(0,ox.jsx)("option",{value:"web",children:"Web"})]})]}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Satisfacci\xf3n"}),(0,ox.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,ox.jsx)("option",{value:"all",children:"Todos los niveles"}),(0,ox.jsx)("option",{value:"positive",children:"Positivos (4-5\u2b50)"}),(0,ox.jsx)("option",{value:"neutral",children:"Neutros (3\u2b50)"}),(0,ox.jsx)("option",{value:"negative",children:"Negativos (1-2\u2b50)"})]})]})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udcca NPS General + Por Canal"}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 p-4 rounded-lg text-center border-2 border-yellow-300",children:[(0,ox.jsx)("div",{className:"text-xl mb-1",children:"\ud83c\udf1f"}),(0,ox.jsx)("div",{className:"text-3xl font-bold text-amber-600",children:s.npsChannels.google_reviews}),(0,ox.jsx)("div",{className:"text-sm text-amber-700 font-medium",children:"Google Reviews"}),(0,ox.jsx)("div",{className:"text-xs text-amber-600 mt-1",children:"Canal Principal"})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-3xl font-bold text-green-600",children:s.npsScore}),(0,ox.jsx)("div",{className:"text-sm text-green-700",children:"NPS General"})]}),Object.entries(s.npsChannels).filter((e=>{let[t]=e;return"google_reviews"!==t&&"general"!==t})).map((e=>{let[t,s]=e;return(0,ox.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,ox.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s}),(0,ox.jsx)("div",{className:"text-sm text-blue-700 capitalize",children:t})]},t)}))]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udcc8 Estad\xedsticas Detalladas por Canal"}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Object.entries(s.channelStats).map((e=>{let[t,s]=e;return(0,ox.jsxs)("div",{className:"p-4 rounded-lg border-l-4 ".concat("google_reviews"===t?"bg-yellow-50 border-yellow-400":"bg-gray-50 border-gray-300"),children:[(0,ox.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ox.jsx)("span",{className:"text-lg mr-2",children:"google_reviews"===t?"\ud83c\udf1f":"whatsapp"===t?"\ud83d\udcf1":"instagram"===t?"\ud83d\udcf7":"facebook"===t?"\ud83d\udc65":"\ud83c\udf10"}),(0,ox.jsx)("h4",{className:"font-medium text-gray-800 capitalize",children:"google_reviews"===t?"Google Reviews":t})]}),(0,ox.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Reviews:"}),(0,ox.jsx)("span",{className:"font-bold",children:s.count})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Rating:"}),(0,ox.jsxs)("span",{className:"font-bold text-yellow-600",children:[s.avg_rating," \u2b50"]})]}),(0,ox.jsxs)("div",{className:"flex justify-between",children:[(0,ox.jsx)("span",{className:"text-gray-600",children:"Crecimiento:"}),(0,ox.jsx)("span",{className:"font-bold text-green-600",children:s.growth})]})]})]},t)}))})]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Object.entries(s.ratingDistribution).reverse().map((e=>{let[t,s]=e;return(0,ox.jsx)(b,{rating:t,count:s,percentage:s/100*100},t)}))}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udcc8 Evoluci\xf3n del Sentimiento (IA)"}),(0,ox.jsx)("div",{className:"flex items-end justify-between h-32",children:s.weeklyEvolution.map(((e,t)=>(0,ox.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ox.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:e}),(0,ox.jsx)("div",{className:"bg-gradient-to-t from-orange-400 to-red-400 rounded-t-lg transition-all duration-500",style:{height:"".concat(e/120*100,"%"),width:"20px"}}),(0,ox.jsx)("span",{className:"text-xs text-gray-600 mt-1",children:["Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b","Dom"][t]})]},t)))}),(0,ox.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,ox.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ox.jsx)("span",{className:"font-medium",children:"Tendencia:"}),(0,ox.jsx)("span",{className:"text-green-600 ml-1",children:"\u2197\ufe0f Positiva (+8.2%)"})]}),(0,ox.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ox.jsx)("span",{className:"font-medium",children:"Promedio:"}),Math.round(s.weeklyEvolution.reduce(((e,t)=>e+t),0)/s.weeklyEvolution.length)]})]})]}),(0,ox.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udd24 Nube de Palabras Clave (NLP)"}),(0,ox.jsx)("div",{className:"flex flex-wrap gap-2",children:s.keywords.map((e=>(0,ox.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("positive"===e.sentiment?"bg-green-100 text-green-800":"negative"===e.sentiment?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),style:{fontSize:"".concat(Math.max(12,e.count/3),"px")},children:[e.word," (",e.count,")"]},e.word)))})]}),(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-100",children:[(0,ox.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ox.jsx)("span",{className:"text-2xl mr-3",children:"\ud83e\udd16"}),(0,ox.jsx)("h3",{className:"text-lg font-bold text-indigo-800",children:"An\xe1lisis IA + Recomendaciones"})]}),(0,ox.jsxs)("div",{className:"space-y-3",children:[(0,ox.jsxs)("p",{className:"text-indigo-700 text-sm",children:[(0,ox.jsx)("strong",{children:"NPS Score:"})," ",s.npsScore,"/10 (Excelente)"]}),(0,ox.jsxs)("p",{className:"text-indigo-700 text-sm",children:[(0,ox.jsx)("strong",{children:"Temas frecuentes:"})," Calidad de comida (+), Velocidad de servicio (+), Tiempo de espera (-)"]}),(0,ox.jsx)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:(0,ox.jsxs)("p",{className:"text-yellow-800 text-sm",children:[(0,ox.jsx)("strong",{children:"\ud83d\udd0d Recomendaci\xf3n Detectada:"})," Detectamos quejas sobre espera \u2192 activa recordatorio de puntualidad"]})})]}),(0,ox.jsx)("button",{className:"w-full mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all duration-200",children:"Aplicar Recomendaci\xf3n"})]})]}),(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,ox.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\ud83d\udcac Feedback Reciente"}),(0,ox.jsx)("div",{className:"space-y-4",children:e.filter((e=>"all"===o||e.channel===o)).slice(0,6).map((e=>(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[(0,ox.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-red-400 rounded-full flex items-center justify-center mr-3",children:(0,ox.jsx)("span",{className:"text-white font-bold text-sm",children:e.customer_name.charAt(0)})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h4",{className:"font-medium text-gray-800",children:e.customer_name}),(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"flex mr-2",children:[...Array(5)].map(((t,s)=>(0,ox.jsx)("span",{className:"text-sm ".concat(s<e.rating?"text-yellow-400":"text-gray-300"),children:"\u2b50"},s)))}),(0,ox.jsx)("span",{className:"text-xs text-gray-500",children:e.date})]})]})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ox.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("google_reviews"===e.channel?"bg-yellow-100 text-yellow-800":"whatsapp"===e.channel?"bg-green-100 text-green-800":"instagram"===e.channel?"bg-pink-100 text-pink-800":"facebook"===e.channel?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"google_reviews"===e.channel?"\ud83c\udf1f Google":"whatsapp"===e.channel?"\ud83d\udcf1 WhatsApp":"instagram"===e.channel?"\ud83d\udcf7 Instagram":"facebook"===e.channel?"\ud83d\udc65 Facebook":"\ud83c\udf10 Web"}),e.response_sent&&(0,ox.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"\u2705 Respondido"})]})]}),(0,ox.jsx)("p",{className:"text-gray-700 text-sm mb-3",children:e.comment}),!e.response_sent&&(0,ox.jsxs)("div",{className:"flex space-x-2",children:[(0,ox.jsx)("button",{onClick:()=>(async(e,s,n)=>{try{var r;const a=null===(r=p[s])||void 0===r?void 0:r[n];if(!a)return void alert("No hay respuesta autom\xe1tica configurada para este canal y sentimiento");await ix.post("".concat(Cx,"/send-feedback-response"),{feedback_id:e,channel:s,message:a}),t((t=>t.map((t=>t.id===e?d(d({},t),{},{response_sent:!0,auto_response:a}):t)))),alert("\u2705 Respuesta autom\xe1tica enviada exitosamente via ".concat(s))}catch(Jx){console.error("Error sending auto response:",Jx),alert("Error al enviar respuesta autom\xe1tica")}})(e.id,e.channel,e.rating>=4?"positive":3===e.rating?"neutral":"negative"),className:"bg-green-100 text-green-700 px-3 py-1 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"\ud83e\udd16 Respuesta Autom\xe1tica"}),(0,ox.jsx)("button",{onClick:()=>{return t=e.id,void alert("Respondiendo con recompensa autom\xe1tica al feedback ".concat(t));var t},className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-lg text-sm hover:bg-purple-200 transition-colors",children:"\ud83c\udf81 Responder + Recompensa"})]}),e.auto_response&&(0,ox.jsx)("div",{className:"mt-3 bg-green-50 p-3 rounded-lg border-l-4 border-green-400",children:(0,ox.jsxs)("p",{className:"text-green-800 text-sm",children:[(0,ox.jsx)("strong",{children:"Respuesta enviada:"})," ",e.auto_response]})})]},e.id)))})]}),m&&(0,ox.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ox.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl max-h-screen overflow-y-auto",children:(0,ox.jsxs)("div",{className:"p-6",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u2699\ufe0f Configurar Respuestas Autom\xe1ticas"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Personaliza las respuestas autom\xe1ticas por canal y tipo de sentimiento"})]}),(0,ox.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,ox.jsx)("div",{className:"space-y-6",children:Object.entries(p).map((e=>{let[t,s]=e;return(0,ox.jsxs)("div",{className:"border border-gray-200 rounded-xl p-6",children:[(0,ox.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[(0,ox.jsx)("span",{className:"mr-2",children:"google_reviews"===t?"\ud83c\udf1f":"whatsapp"===t?"\ud83d\udcf1":"instagram"===t?"\ud83d\udcf7":"facebook"===t?"\ud83d\udc65":"\ud83c\udf10"}),"google_reviews"===t?"Google Reviews":t.charAt(0).toUpperCase()+t.slice(1)]}),(0,ox.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(s).map((e=>{let[s,n]=e;return(0,ox.jsxs)("div",{className:"space-y-2",children:[(0,ox.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"positive"===s?"\ud83d\ude0a Positivo (4-5\u2b50)":"neutral"===s?"\ud83d\ude10 Neutral (3\u2b50)":"\ud83d\ude1e Negativo (1-2\u2b50)"}),(0,ox.jsx)("textarea",{value:n,onChange:e=>x((n=>d(d({},n),{},{[t]:d(d({},n[t]),{},{[s]:e.target.value})}))),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"}),(0,ox.jsx)("button",{onClick:()=>(async(e,t,s)=>{try{const n=d(d({},p),{},{[e]:d(d({},p[e]),{},{[t]:s})});x(n),await ix.post("".concat(Cx,"/auto-responses"),{channel:e,sentiment:t,message:s}),alert("\u2705 Respuesta autom\xe1tica para ".concat(e," (").concat(t,") guardada exitosamente"))}catch(Jx){console.error("Error saving auto response:",Jx),alert("Error al guardar respuesta autom\xe1tica")}})(t,s,p[t][s]),className:"w-full bg-blue-100 text-blue-700 px-3 py-2 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"\ud83d\udcbe Guardar"})]},s)}))})]},t)}))}),(0,ox.jsx)("div",{className:"flex justify-center pt-6 border-t border-gray-200 mt-8",children:(0,ox.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-500 text-white px-8 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Cerrar Configuraci\xf3n"})})]})})})]})},Kx=()=>{const{user:e,logout:t}=Mx(),[s,n]=(0,r.useState)("dashboard"),[a,i]=(0,r.useState)({}),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)((()=>{const e=localStorage.getItem("restaurantConfig");return e?JSON.parse(e):{name:"IL MANDORLA",logo:null,nameChanges:0,lastNameChange:null,canChangeName:!0}})),m=()=>{if(c.nameChanges<3)return!0;if(!c.lastNameChange)return!0;return Math.floor((Date.now()-new Date(c.lastNameChange))/864e5)>=90},h=e=>{const t=d(d(d({},c),e),{},{nameChanges:e.name!==c.name&&m()?c.nameChanges>=3?1:c.nameChanges+1:c.nameChanges,lastNameChange:e.name!==c.name?(new Date).toISOString():c.lastNameChange});u(t),localStorage.setItem("restaurantConfig",JSON.stringify(t))};(0,r.useEffect)((()=>{p()}),[]);const p=async()=>{try{const e=await ix.get("".concat(Cx,"/dashboard/metrics"));i(e.data)}catch(Jx){console.error("Error fetching metrics:",Jx)}finally{l(!1)}};return(0,ox.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,ox.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10",children:(0,ox.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,ox.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center mr-4 shadow-lg overflow-hidden",children:c.logo?(0,ox.jsx)("img",{src:c.logo,alt:"Logo",className:"w-full h-full object-cover rounded-xl"}):(0,ox.jsx)("span",{className:"text-white font-bold text-lg",children:c.name.split(" ").map((e=>e[0])).join("").slice(0,2)})}),(0,ox.jsxs)("div",{children:[(0,ox.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:c.name}),(0,ox.jsx)("p",{className:"text-sm text-gray-600",children:"Powered by KumIA Technology"})]})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ox.jsxs)("div",{className:"flex items-center bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm",children:[(0,ox.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ox.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,ox.jsx)("span",{className:"text-green-600 font-bold roi-value",children:"ROI +4.3%"}),(0,ox.jsx)("button",{onClick:()=>{const e=(.5*Math.random()-.25+4.3).toFixed(1);document.querySelector(".roi-value").textContent="ROI +".concat(e,"%"),document.querySelector(".last-update").textContent="Actualizado ahora",setTimeout((()=>{document.querySelector(".last-update").textContent="Hace 24 horas"}),3e3)},className:"ml-2 text-gray-400 hover:text-green-600 transition-colors p-1 rounded-full hover:bg-green-50",title:"Actualizar ROI",children:"\ud83d\udd04"})]}),(0,ox.jsx)("div",{className:"text-xs text-gray-500 last-update",children:"Hace 24 horas"})]}),(0,ox.jsxs)("div",{className:"flex items-center space-x-2",children:[(null===e||void 0===e?void 0:e.picture)&&(0,ox.jsx)("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full"}),(0,ox.jsxs)("div",{className:"text-right",children:[(0,ox.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===e||void 0===e?void 0:e.name}),(0,ox.jsx)("p",{className:"text-xs text-gray-500",children:null===e||void 0===e?void 0:e.role})]})]}),(0,ox.jsx)("button",{onClick:t,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-all duration-200 transform hover:scale-105",children:"Cerrar Sesi\xf3n"})]})]})})}),(0,ox.jsxs)("div",{className:"flex",children:[(0,ox.jsxs)("div",{className:"w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:[(0,ox.jsx)("nav",{className:"p-4 space-y-2",children:[{id:"dashboard",label:"Dashboard",icon:"\ud83d\udcc8",badge:"NEW"},{id:"menu",label:"Men\xfa",icon:"\ud83c\udf7d\ufe0f",badge:null},{id:"clients",label:"Clientes",icon:"\ud83d\udc65",badge:"48"},{id:"feedback",label:"Feedback",icon:"\ud83d\udcac",badge:"12"},{id:"reservations",label:"Reservas",icon:"\ud83d\udcc5",badge:"5"},{id:"ai-agents",label:"Agentes IA",icon:"\ud83e\udd16",badge:"4"},{id:"centro-ia-marketing",label:"Centro IA Marketing",icon:"\ud83e\udde9",badge:"AI"},{id:"inteligencia-competitiva",label:"Inteligencia Competitiva",icon:"\ud83e\udde0",badge:"INTEL"},{id:"juegos-multijugador",label:"Juegos Multijugador",icon:"\ud83c\udfae",badge:"47"},{id:"gestion-garzon-webapp",label:"Gesti\xf3n Garz\xf3n WebApp",icon:"\ud83d\udc68\u200d\ud83d\udcbc",badge:"TEAM"},{id:"rewards",label:"Recompensas",icon:"\ud83c\udf81",badge:null},{id:"roi-viewer",label:"ROI Viewer",icon:"\ud83d\udcca",badge:"+4.3x"},{id:"integrations",label:"Integraciones",icon:"\ud83d\udd17",badge:"2/5"},{id:"tu-facturacion-kumia",label:"Tu Facturaci\xf3n KumIA",icon:"\ud83d\udcb3",badge:"$180K"},{id:"settings",label:"Configuraci\xf3n",icon:"\u2699\ufe0f",badge:null}].map((e=>(0,ox.jsxs)("button",{onClick:()=>n(e.id),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl text-left transition-all duration-200 ".concat(s===e.id?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg transform scale-105":"text-gray-700 hover:bg-gray-100"),children:[(0,ox.jsxs)("div",{className:"flex items-center",children:[(0,ox.jsx)("span",{className:"mr-3 text-xl",children:e.icon}),(0,ox.jsx)("span",{className:"font-medium",children:e.label})]}),e.badge&&(0,ox.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(s===e.id?"bg-white bg-opacity-20 text-white":"bg-gray-200 text-gray-700"),children:e.badge})]},e.id)))}),(0,ox.jsx)("div",{className:"p-4 mt-8",children:(0,ox.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-4 text-white",children:[(0,ox.jsx)("h3",{className:"font-bold mb-2",children:"\ud83d\ude80 Expandir KUMIA"}),(0,ox.jsx)("p",{className:"text-sm mb-3 opacity-90",children:"Con tu ROI de +4.3x, es momento de crecer"}),(0,ox.jsx)("button",{className:"w-full bg-white text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors border border-gray-200",children:"Abrir Nuevo Local"})]})})]}),(0,ox.jsx)("div",{className:"flex-1 p-6",children:o?(0,ox.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ox.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):(()=>{switch(s){case"dashboard":return(0,ox.jsx)(qx,{metrics:a});case"menu":return(0,ox.jsx)(Hx,{});case"clients":return(0,ox.jsx)(px,{});case"feedback":return(0,ox.jsx)(Gx,{});case"reservations":return(0,ox.jsx)(xx,{});case"ai-agents":return(0,ox.jsx)(gx,{});case"centro-ia-marketing":return(0,ox.jsx)(lx,{});case"inteligencia-competitiva":return(0,ox.jsx)(fx,{});case"juegos-multijugador":return(0,ox.jsx)(bx,{});case"gestion-garzon-webapp":return(0,ox.jsx)(vx,{});case"rewards":return(0,ox.jsx)(ux,{});case"roi-viewer":return(0,ox.jsx)(dx,{});case"integrations":return(0,ox.jsx)(mx,{});case"tu-facturacion-kumia":return(0,ox.jsx)(yx,{});case"settings":return(0,ox.jsx)(hx,{restaurantConfig:c,updateRestaurantConfig:h,canChangeName:m()});default:return(0,ox.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,ox.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udea7"}),(0,ox.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"M\xf3dulo en construcci\xf3n"}),(0,ox.jsx)("p",{className:"text-gray-600",children:"Esta secci\xf3n estar\xe1 disponible pronto"})]})}})()})]})]})},Wx=()=>{const{isAuthenticated:e}=Mx(),{isOnline:t,firebaseReady:s}=(()=>{const e=(0,r.useContext)(Px);if(!e)throw new Error("useFirebase must be used within a FirebaseProvider");return e})();return(0,ox.jsxs)("div",{children:[t?s?null:(0,ox.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-3 text-center",children:(0,ox.jsx)("span",{className:"text-blue-800",children:"\ud83d\udd04 Conectando a Firebase..."})}):(0,ox.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 p-3 text-center",children:(0,ox.jsx)("span",{className:"text-yellow-800",children:"\u26a0\ufe0f Modo offline - Funcionalidad limitada"})}),e?(0,ox.jsx)(Kx,{}):(0,ox.jsx)(Lx,{})]})},$x=()=>(0,ox.jsx)(p,{clientId:"284445869651-ets9s29v4f3ljj02qveq9lqlmj88npkl.apps.googleusercontent.com",children:(0,ox.jsx)(Rx,{children:(0,ox.jsx)(Dx,{children:(0,ox.jsx)("div",{className:"App",children:(0,ox.jsx)(Wx,{})})})})});a.createRoot(document.getElementById("root")).render((0,ox.jsx)(r.StrictMode,{children:(0,ox.jsx)($x,{})}))})();
//# sourceMappingURL=main.f239a9d4.js.map